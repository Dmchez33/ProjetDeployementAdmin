"use strict";(self.webpackChunkAdminProject=self.webpackChunkAdminProject||[]).push([[179],{2011:(pt,Me,N)=>{N.d(Me,{Dh:()=>ce,GT:()=>ye,cc:()=>Re,hO:()=>qe,on:()=>z,pX:()=>ae,xv:()=>ve});var l=N(4650),U=N(127),R=N(5813);pt=N.hmd(pt);const se=["ngOnDestroy"],ae=(me,Ke,Ze,ke={})=>new Proxy(me,{get:(Oe,Ce)=>Ze.runOutsideAngular(()=>{var Qe;if(me[Ce])return!(null===(Qe=ke?.spy)||void 0===Qe)&&Qe.get&&ke.spy.get(Ce,me[Ce]),me[Ce];if(se.indexOf(Ce)>-1)return()=>{};const re=Ke.toPromise().then(he=>{const Ie=he&&he[Ce];return"function"==typeof Ie?Ie.bind(he):Ie&&Ie.then?Ie.then(Q=>Ze.run(()=>Q)):Ze.run(()=>Ie)});return new Proxy(()=>{},{get:(he,Ie)=>re[Ie],apply:(he,Ie,Q)=>re.then(ie=>{var oe;const _e=ie&&ie(...Q);return!(null===(oe=ke?.spy)||void 0===oe)&&oe.apply&&ke.spy.apply(Ce,Q,_e),_e})})})}),ye=(me,Ke)=>{Ke.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(ke=>{Object.defineProperty(me.prototype,ke,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,ke))})})};class fe{constructor(Ke){return Ke}}const ce=new l.OlP("angularfire2.app.options"),ve=new l.OlP("angularfire2.app.name");function z(me,Ke,Ze){const Oe="object"==typeof Ze&&Ze||{};Oe.name=Oe.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const Qe=U.Z.apps.filter(re=>re&&re.name===Oe.name)[0]||Ke.runOutsideAngular(()=>U.Z.initializeApp(me,Oe));try{JSON.stringify(me)!==JSON.stringify(Qe.options)&&Z("error",`${Qe.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Qe)}const Z=(me,...Ke)=>{(0,l.X6Q)()&&typeof console<"u"&&console[me](...Ke)},te={provide:fe,useFactory:z,deps:[ce,l.R0b,[new l.FiY,ve]]};let qe=(()=>{class me{constructor(Ze){U.Z.registerVersion("angularfire",R.q4.full,"core"),U.Z.registerVersion("angularfire",R.q4.full,"app-compat"),U.Z.registerVersion("angular",l.q4F.full,Ze.toString())}static initializeApp(Ze,ke){return{ngModule:me,providers:[{provide:ce,useValue:Ze},{provide:ve,useValue:ke}]}}}return me.\u0275fac=function(Ze){return new(Ze||me)(l.LFG(l.Lbi))},me.\u0275mod=l.oAB({type:me}),me.\u0275inj=l.cJS({providers:[te]}),me})();function Re(me,Ke,Ze,ke,Oe){const[,Ce,Qe]=globalThis.\u0275AngularfireInstanceCache.find(re=>re[0]===me)||[];if(Ce)return function Ae(me,Ke){try{return me.toString()===Ke.toString()}catch{return me===Ke}}(Oe,Qe)||(ge("error",`${Ke} was already initialized on the ${Ze} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Oe,was:Qe})),Ce;{const re=ke();return globalThis.\u0275AngularfireInstanceCache.push([me,re,Oe]),re}}const He=!!pt.hot,ge=(me,...Ke)=>{(0,l.X6Q)()&&typeof console<"u"&&console[me](...Ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(pt,Me,N)=>{N.d(Me,{q4:()=>Ru,iC:()=>Ws,fc:()=>zs,HU:()=>Ql,vb:()=>us,JM:()=>wd});var l=N(4650),U=N(5867),R=N(5861),se=N(9681),ae=N(2090),ye=N(4859),fe=N(1877),ce=N(8766);const ve="@firebase/installations",z="0.5.12",te=`w:${z}`,qe="FIS_v2",Ke=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ze(I){return I instanceof ae.ZR&&I.code.includes("request-failed")}function ke({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Oe(I){return{token:I.token,requestStatus:2,expiresIn:ie(I.expiresIn),creationTime:Date.now()}}function Ce(I,D){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,R.Z)(function*(I,D){const F=(yield D.json()).error;return Ke.create("request-failed",{requestName:I,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function re({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function he(I,{refreshToken:D}){const M=re(I);return M.append("Authorization",function oe(I){return`${qe} ${I}`}(D)),M}function Ie(I){return Q.apply(this,arguments)}function Q(){return(Q=(0,R.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function ie(I){return Number(I.replace("s","000"))}function _e(I,D){return ue.apply(this,arguments)}function ue(){return(ue=(0,R.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:M}){const F=ke(I),Y=re(I),le=D.getImmediate({optional:!0});if(le){const Dt=yield le.getHeartbeatsHeader();Dt&&Y.append("x-firebase-client",Dt)}const We={method:"POST",headers:Y,body:JSON.stringify({fid:M,authVersion:qe,appId:I.appId,sdkVersion:te})},gt=yield Ie(()=>fetch(F,We));if(gt.ok){const Dt=yield gt.json();return{fid:Dt.fid||M,registrationStatus:2,refreshToken:Dt.refreshToken,authToken:Oe(Dt.authToken)}}throw yield Ce("Create Installation",gt)})).apply(this,arguments)}function Ue(I){return new Promise(D=>{setTimeout(D,I)})}const Yt=/^[cdef][\w-]{21}$/;function ze(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function ln(I){return function yt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Yt.test(M)?M:""}catch{return""}}function Nn(I){return`${I.appName}!${I.appId}`}const hn=new Map;function Jt(I,D){const M=Nn(I);vn(M,D),function ki(I,D){const M=function Tn(){return!Tr&&"BroadcastChannel"in self&&(Tr=new BroadcastChannel("[Firebase] FID Change"),Tr.onmessage=I=>{vn(I.data.key,I.data.fid)}),Tr}();M&&M.postMessage({key:I,fid:D}),function Ji(){0===hn.size&&Tr&&(Tr.close(),Tr=null)}()}(M,D)}function vn(I,D){const M=hn.get(I);if(M)for(const F of M)F(D)}let Tr=null;const Pn="firebase-installations-store";let Xi=null;function ft(){return Xi||(Xi=(0,ce.X3)("firebase-installations-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Pn)}})),Xi}function Ar(I,D){return _n.apply(this,arguments)}function _n(){return(_n=(0,R.Z)(function*(I,D){const M=Nn(I),Y=(yield ft()).transaction(Pn,"readwrite"),le=Y.objectStore(Pn),Ee=yield le.get(M);return yield le.put(D,M),yield Y.done,(!Ee||Ee.fid!==D.fid)&&Jt(I,D.fid),D})).apply(this,arguments)}function en(I){return nr.apply(this,arguments)}function nr(){return(nr=(0,R.Z)(function*(I){const D=Nn(I),F=(yield ft()).transaction(Pn,"readwrite");yield F.objectStore(Pn).delete(D),yield F.done})).apply(this,arguments)}function Pr(I,D){return lr.apply(this,arguments)}function lr(){return(lr=(0,R.Z)(function*(I,D){const M=Nn(I),Y=(yield ft()).transaction(Pn,"readwrite"),le=Y.objectStore(Pn),Ee=yield le.get(M),We=D(Ee);return void 0===We?yield le.delete(M):yield le.put(We,M),yield Y.done,We&&(!Ee||Ee.fid!==We.fid)&&Jt(I,We.fid),We})).apply(this,arguments)}function bn(I){return cr.apply(this,arguments)}function cr(){return(cr=(0,R.Z)(function*(I){let D;const M=yield Pr(I.appConfig,F=>{const Y=Co(F),le=Wt(I,Y);return D=le.registrationPromise,le.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function Co(I){return Sr(I||{fid:ze(),registrationStatus:0})}function Wt(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Ke.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function Je(I,D){return at.apply(this,arguments)}(I,M);return{installationEntry:M,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:yi(I)}:{installationEntry:D}}function at(){return(at=(0,R.Z)(function*(I,D){try{const M=yield _e(I,D);return Ar(I.appConfig,M)}catch(M){throw Ze(M)&&409===M.customData.serverCode?yield en(I.appConfig):yield Ar(I.appConfig,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function yi(I){return rr.apply(this,arguments)}function rr(){return(rr=(0,R.Z)(function*(I){let D=yield Rt(I.appConfig);for(;1===D.registrationStatus;)yield Ue(100),D=yield Rt(I.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:F}=yield bn(I);return F||M}return D})).apply(this,arguments)}function Rt(I){return Pr(I,D=>{if(!D)throw Ke.create("installation-not-found");return Sr(D)})}function Sr(I){return function wn(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function En(I,D){return tn.apply(this,arguments)}function tn(){return(tn=(0,R.Z)(function*({appConfig:I,heartbeatServiceProvider:D},M){const F=Zn(I,M),Y=he(I,M),le=D.getImmediate({optional:!0});if(le){const Dt=yield le.getHeartbeatsHeader();Dt&&Y.append("x-firebase-client",Dt)}const We={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:te,appId:I.appId}})},gt=yield Ie(()=>fetch(F,We));if(gt.ok)return Oe(yield gt.json());throw yield Ce("Generate Auth Token",gt)})).apply(this,arguments)}function Zn(I,{fid:D}){return`${ke(I)}/${D}/authTokens:generate`}function H(I){return G.apply(this,arguments)}function G(){return(G=(0,R.Z)(function*(I,D=!1){let M;const F=yield Pr(I.appConfig,le=>{if(!It(le))throw Ke.create("not-registered");const Ee=le.authToken;if(!D&&nn(Ee))return le;if(1===Ee.requestStatus)return M=V(I,D),le;{if(!navigator.onLine)throw Ke.create("app-offline");const We=ir(le);return M=xe(I,We),We}});return M?yield M:F.authToken})).apply(this,arguments)}function V(I,D){return W.apply(this,arguments)}function W(){return(W=(0,R.Z)(function*(I,D){let M=yield K(I.appConfig);for(;1===M.authToken.requestStatus;)yield Ue(100),M=yield K(I.appConfig);const F=M.authToken;return 0===F.requestStatus?H(I,D):F})).apply(this,arguments)}function K(I){return Pr(I,D=>{if(!It(D))throw Ke.create("not-registered");return function J(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function xe(I,D){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,R.Z)(function*(I,D){try{const M=yield En(I,D),F=Object.assign(Object.assign({},D),{authToken:M});return yield Ar(I.appConfig,F),M}catch(M){if(!Ze(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Ar(I.appConfig,F)}else yield en(I.appConfig);throw M}})).apply(this,arguments)}function It(I){return void 0!==I&&2===I.registrationStatus}function nn(I){return 2===I.requestStatus&&!function Qt(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+36e5}(I)}function ir(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}function $(){return($=(0,R.Z)(function*(I){const D=I,{installationEntry:M,registrationPromise:F}=yield bn(D);return F?F.catch(console.error):H(D).catch(console.error),M.fid})).apply(this,arguments)}function $e(){return($e=(0,R.Z)(function*(I,D=!1){const M=I;return yield vt(M),(yield H(M,D)).token})).apply(this,arguments)}function vt(I){return Se.apply(this,arguments)}function Se(){return(Se=(0,R.Z)(function*(I){const{registrationPromise:D}=yield bn(I);D&&(yield D)})).apply(this,arguments)}function Ri(I){return Ke.create("missing-app-config-values",{valueName:I})}const Vt="installations",Ho=I=>{const D=I.getProvider("app").getImmediate(),M=function Es(I){if(!I||!I.options)throw Ri("App Configuration");if(!I.name)throw Ri("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!I.options[M])throw Ri(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,se._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},ga=I=>{const D=I.getProvider("app").getImmediate(),M=(0,se._getProvider)(D,Vt).getImmediate();return{getId:()=>function j(I){return $.apply(this,arguments)}(M),getToken:Y=>function be(I){return $e.apply(this,arguments)}(M,Y)}};(function Io(){(0,se._registerComponent)(new ye.wA(Vt,Ho,"PUBLIC")),(0,se._registerComponent)(new ye.wA("installations-internal",ga,"PRIVATE"))})(),(0,se.registerVersion)(ve,z),(0,se.registerVersion)(ve,z,"esm2017");const sr="@firebase/remote-config",hr=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Dl{constructor(D,M,F,Y){this.client=D,this.storage=M,this.storageCache=F,this.logger=Y}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-M,Y=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var M=this;return(0,R.Z)(function*(){const[F,Y]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Y&&M.isCachedDataFresh(D.cacheMaxAgeMillis,F))return Y;D.eTag=Y&&Y.eTag;const le=yield M.client.fetch(D),Ee=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Ee.push(M.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Ee),le})()}}function ya(I=navigator){return I.languages&&I.languages[0]||I.language}class Ao{constructor(D,M,F,Y,le,Ee){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=F,this.projectId=Y,this.apiKey=le,this.appId=Ee}fetch(D){var M=this;return(0,R.Z)(function*(){var F,Y,le;const[Ee,We]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Dt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ye={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},mt={sdk_version:M.sdkVersion,app_instance_id:Ee,app_instance_id_token:We,app_id:M.appId,language_code:ya()},vr={method:"POST",headers:Ye,body:JSON.stringify(mt)},jn=fetch(Dt,vr),ls=new Promise((ui,li)=>{D.signal.addEventListener(()=>{const Pa=new Error("The operation was aborted.");Pa.name="AbortError",li(Pa)})});let Ci;try{yield Promise.race([jn,ls]),Ci=yield jn}catch(ui){let li="fetch-client-network";throw"AbortError"===(null===(F=ui)||void 0===F?void 0:F.name)&&(li="fetch-timeout"),hr.create(li,{originalErrorMessage:null===(Y=ui)||void 0===Y?void 0:Y.message})}let Ro=Ci.status;const Ks=Ci.headers.get("ETag")||void 0;let Oo,ji;if(200===Ci.status){let ui;try{ui=yield Ci.json()}catch(li){throw hr.create("fetch-client-parse",{originalErrorMessage:null===(le=li)||void 0===le?void 0:le.message})}Oo=ui.entries,ji=ui.state}if("INSTANCE_STATE_UNSPECIFIED"===ji?Ro=500:"NO_CHANGE"===ji?Ro=304:("NO_TEMPLATE"===ji||"EMPTY_CONFIG"===ji)&&(Oo={}),304!==Ro&&200!==Ro)throw hr.create("fetch-status",{httpStatus:Ro});return{status:Ro,eTag:Ks,config:Oo}})()}}class eo{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,R.Z)(function*(){const F=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,F)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:F}){var Y=this;return(0,R.Z)(function*(){yield function zh(I,D){return new Promise((M,F)=>{const Y=Math.max(D-Date.now(),0),le=setTimeout(M,Y);I.addEventListener(()=>{clearTimeout(le),F(hr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const le=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),le}catch(le){if(!function Ni(I){if(!(I instanceof ae.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(le))throw le;const Ee={throttleEndTimeMillis:Date.now()+(0,ae.$s)(F),backoffCount:F+1};return yield Y.storage.setThrottleMetadata(Ee),Y.attemptFetch(D,Ee)}})()}}class Zp{constructor(D,M,F,Y,le){this.app=D,this._client=M,this._storageCache=F,this._storage=Y,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function va(I,D){var M;const F=I.target.error||void 0;return hr.create(D,{originalErrorMessage:F&&(null===(M=F)||void 0===M?void 0:M.message)})}const Is="app_namespace_store";class ud{constructor(D,M,F,Y=function Wh(){return new Promise((I,D)=>{var M;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=Y=>{D(va(Y,"storage-open"))},F.onsuccess=Y=>{I(Y.target.result)},F.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(Is,{keyPath:"compositeKey"})}}catch(F){D(hr.create("storage-open",{originalErrorMessage:null===(M=F)||void 0===M?void 0:M.message}))}})}()){this.appId=D,this.appName=M,this.namespace=F,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,R.Z)(function*(){const F=yield M.openDbPromise;return new Promise((Y,le)=>{var Ee;const gt=F.transaction([Is],"readonly").objectStore(Is),Dt=M.createCompositeKey(D);try{const Ye=gt.get(Dt);Ye.onerror=mt=>{le(va(mt,"storage-get"))},Ye.onsuccess=mt=>{const vr=mt.target.result;Y(vr?vr.value:void 0)}}catch(Ye){le(hr.create("storage-get",{originalErrorMessage:null===(Ee=Ye)||void 0===Ee?void 0:Ee.message}))}})})()}set(D,M){var F=this;return(0,R.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((le,Ee)=>{var We;const Dt=Y.transaction([Is],"readwrite").objectStore(Is),Ye=F.createCompositeKey(D);try{const mt=Dt.put({compositeKey:Ye,value:M});mt.onerror=vr=>{Ee(va(vr,"storage-set"))},mt.onsuccess=()=>{le()}}catch(mt){Ee(hr.create("storage-set",{originalErrorMessage:null===(We=mt)||void 0===We?void 0:We.message}))}})})()}delete(D){var M=this;return(0,R.Z)(function*(){const F=yield M.openDbPromise;return new Promise((Y,le)=>{var Ee;const gt=F.transaction([Is],"readwrite").objectStore(Is),Dt=M.createCompositeKey(D);try{const Ye=gt.delete(Dt);Ye.onerror=mt=>{le(va(mt,"storage-delete"))},Ye.onsuccess=()=>{Y()}}catch(Ye){le(hr.create("storage-delete",{originalErrorMessage:null===(Ee=Ye)||void 0===Ee?void 0:Ee.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class So{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,R.Z)(function*(){const M=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),le=yield M;le&&(D.lastFetchStatus=le);const Ee=yield F;Ee&&(D.lastSuccessfulFetchTimestampMillis=Ee);const We=yield Y;We&&(D.activeConfig=We)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Ty(){return vi.apply(this,arguments)}function vi(){return(vi=(0,R.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Tl(){(0,se._registerComponent)(new ye.wA("remote-config",function I(D,{instanceIdentifier:M}){const F=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw hr.create("registration-window");if(!(0,ae.hl)())throw hr.create("indexed-db-unavailable");const{projectId:le,apiKey:Ee,appId:We}=F.options;if(!le)throw hr.create("registration-project-id");if(!Ee)throw hr.create("registration-api-key");if(!We)throw hr.create("registration-app-id");const gt=new ud(We,F.name,M=M||"firebase"),Dt=new So(gt),Ye=new fe.Yd(sr);Ye.logLevel=fe.in.ERROR;const mt=new Ao(Y,se.SDK_VERSION,M,le,Ee,We),vr=new eo(mt,gt),jn=new Dl(vr,gt,Dt,Ye),ls=new Zp(F,jn,Dt,gt,Ye);return function Cl(I){const D=(0,ae.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(ls),ls},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(sr,"0.3.11"),(0,se.registerVersion)(sr,"0.3.11","esm2017")}();const to="/firebase-messaging-sw.js",no="/firebase-cloud-messaging-push-scope",zo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ld="google.c.a.c_id",fu="google.c.a.c_l",pu="google.c.a.ts",Ts="google.c.a.e";var Pi=(()=>{return(I=Pi||(Pi={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Pi;var I})();function Fn(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gu(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(M),Y=new Uint8Array(F.length);for(let le=0;le<F.length;++le)Y[le]=F.charCodeAt(le);return Y}const _a="fcm_token_details_db",cd="fcm_token_object_Store";function dd(I){return As.apply(this,arguments)}function As(){return As=(0,R.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(_a))return null;let D=null;return(yield(0,ce.X3)(_a,5,{upgrade:(F=(0,R.Z)(function*(Y,le,Ee,We){var gt;if(le<2||!Y.objectStoreNames.contains(cd))return;const Dt=We.objectStore(cd),Ye=yield Dt.index("fcmSenderId").get(I);if(yield Dt.clear(),Ye)if(2===le){const mt=Ye;if(!mt.auth||!mt.p256dh||!mt.endpoint)return;D={token:mt.fcmToken,createTime:null!==(gt=mt.createTime)&&void 0!==gt?gt:Date.now(),subscriptionOptions:{auth:mt.auth,p256dh:mt.p256dh,endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:"string"==typeof mt.vapidKey?mt.vapidKey:Fn(mt.vapidKey)}}}else if(3===le){const mt=Ye;D={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:Fn(mt.auth),p256dh:Fn(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:Fn(mt.vapidKey)}}}else if(4===le){const mt=Ye;D={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:Fn(mt.auth),p256dh:Fn(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:Fn(mt.vapidKey)}}}}),function(le,Ee,We,gt){return F.apply(this,arguments)})})).close(),yield(0,ce.Lj)(_a),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),Al(D)?D:null;var F}),As.apply(this,arguments)}function Al(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const cn="firebase-messaging-store";let Wo=null;function ba(){return Wo||(Wo=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(cn)}})),Wo}function mu(I){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,R.Z)(function*(I){const D=Kn(I),F=yield(yield ba()).transaction(cn).objectStore(cn).get(D);if(F)return F;{const Y=yield dd(I.appConfig.senderId);if(Y)return yield Cn(I,Y),Y}})).apply(this,arguments)}function Cn(I,D){return xs.apply(this,arguments)}function xs(){return(xs=(0,R.Z)(function*(I,D){const M=Kn(I),Y=(yield ba()).transaction(cn,"readwrite");return yield Y.objectStore(cn).put(D,M),yield Y.done,D})).apply(this,arguments)}function Ms(I){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,R.Z)(function*(I){const D=Kn(I),F=(yield ba()).transaction(cn,"readwrite");yield F.objectStore(cn).delete(D),yield F.done})).apply(this,arguments)}function Kn({appConfig:I}){return I.appId}const xn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yo(I,D){return fr.apply(this,arguments)}function fr(){return(fr=(0,R.Z)(function*(I,D){var M;const F=yield xo(I),Y=ks(D),le={method:"POST",headers:F,body:JSON.stringify(Y)};let Ee;try{Ee=yield(yield fetch(Ea(I.appConfig),le)).json()}catch(We){throw xn.create("token-subscribe-failed",{errorInfo:null===(M=We)||void 0===M?void 0:M.toString()})}if(Ee.error)throw xn.create("token-subscribe-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw xn.create("token-subscribe-no-token");return Ee.token})).apply(this,arguments)}function xl(I,D){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,R.Z)(function*(I,D){var M;const F=yield xo(I),Y=ks(D.subscriptionOptions),le={method:"PATCH",headers:F,body:JSON.stringify(Y)};let Ee;try{Ee=yield(yield fetch(`${Ea(I.appConfig)}/${D.token}`,le)).json()}catch(We){throw xn.create("token-update-failed",{errorInfo:null===(M=We)||void 0===M?void 0:M.toString()})}if(Ee.error)throw xn.create("token-update-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw xn.create("token-update-no-token");return Ee.token})).apply(this,arguments)}function wa(I,D){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,R.Z)(function*(I,D){var M;const Y={method:"DELETE",headers:yield xo(I)};try{const Ee=yield(yield fetch(`${Ea(I.appConfig)}/${D}`,Y)).json();if(Ee.error)throw xn.create("token-unsubscribe-failed",{errorInfo:Ee.error.message})}catch(le){throw xn.create("token-unsubscribe-failed",{errorInfo:null===(M=le)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function Ea({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function xo(I){return _t.apply(this,arguments)}function _t(){return(_t=(0,R.Z)(function*({appConfig:I,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ks({p256dh:I,auth:D,endpoint:M,vapidKey:F}){const Y={web:{endpoint:M,auth:D,p256dh:I}};return F!==zo&&(Y.web.applicationPubKey=F),Y}const Ca=6048e5;function Ml(I){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,R.Z)(function*(I){const D=yield Rl(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:Fn(D.getKey("auth")),p256dh:Fn(D.getKey("p256dh"))},F=yield mu(I.firebaseDependencies);if(F){if(Ln(F.subscriptionOptions,M))return Date.now()>=F.createTime+Ca?Jh(I,{token:F.token,createTime:Date.now(),subscriptionOptions:M}):F.token;try{yield wa(I.firebaseDependencies,F.token)}catch(Y){console.warn(Y)}return Ne(I.firebaseDependencies,M)}return Ne(I.firebaseDependencies,M)})).apply(this,arguments)}function kl(I){return Os.apply(this,arguments)}function Os(){return(Os=(0,R.Z)(function*(I){const D=yield mu(I.firebaseDependencies);D&&(yield wa(I.firebaseDependencies,D.token),yield Ms(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Jh(I,D){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,R.Z)(function*(I,D){try{const M=yield xl(I.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield Cn(I.firebaseDependencies,F),M}catch(M){throw yield kl(I),M}})).apply(this,arguments)}function Ne(I,D){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,R.Z)(function*(I,D){const F={token:yield Yo(I,D),createTime:Date.now(),subscriptionOptions:D};return yield Cn(I,F),F.token})).apply(this,arguments)}function Rl(I,D){return Da.apply(this,arguments)}function Da(){return(Da=(0,R.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gu(D)})})).apply(this,arguments)}function Ln(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}function Jo(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Ta(I,D){if(!D.notification)return;I.notification={};const M=D.notification.title;M&&(I.notification.title=M);const F=D.notification.body;F&&(I.notification.body=F);const Y=D.notification.image;Y&&(I.notification.image=Y)}(D,I),function _i(I,D){!D.data||(I.data=D.data)}(D,I),function Ns(I,D){var M,F,Y,le,Ee;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;I.fcmOptions={};const We=null!==(Y=null===(F=D.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==Y?Y:null===(le=D.notification)||void 0===le?void 0:le.click_action;We&&(I.fcmOptions.link=We);const gt=null===(Ee=D.fcmOptions)||void 0===Ee?void 0:Ee.analytics_label;gt&&(I.fcmOptions.analyticsLabel=gt)}(D,I),D}function Ol(I){return"object"==typeof I&&!!I&&ld in I}function Xh(I,D){const M=[];for(let F=0;F<I.length;F++)M.push(I.charAt(F)),F<D.length&&M.push(D.charAt(F));return M.join("")}function Pl(I){return xn.create("missing-app-config-values",{valueName:I})}Xh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ps{constructor(D,M,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Nl(I){if(!I||!I.options)throw Pl("App Configuration Object");if(!I.name)throw Pl("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const F of D)if(!M[F])throw Pl(F);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:M,analyticsProvider:F}}_delete(){return Promise.resolve()}}function mr(I){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,R.Z)(function*(I){var D;try{I.swRegistration=yield navigator.serviceWorker.register(to,{scope:no}),I.swRegistration.update().catch(()=>{})}catch(M){throw xn.create("failed-service-worker-registration",{browserErrorMessage:null===(D=M)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function hd(I,D){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,R.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield mr(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function ro(I,D){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,R.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=zo)})).apply(this,arguments)}function vu(){return(vu=(0,R.Z)(function*(I,D){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield ro(I,D?.vapidKey),yield hd(I,D?.serviceWorkerRegistration),Ml(I)})).apply(this,arguments)}function ef(I,D,M){return es.apply(this,arguments)}function es(){return(es=(0,R.Z)(function*(I,D,M){const F=Fl(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:M[ld],message_name:M[fu],message_time:M[pu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fl(I){switch(I){case Pi.NOTIFICATION_CLICKED:return"notification_open";case Pi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Fs(){return(Fs=(0,R.Z)(function*(I,D){const M=D.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===Pi.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Jo(M)):I.onMessageHandler.next(Jo(M)));const F=M.data;Ol(F)&&"1"===F[Ts]&&(yield ef(I,M.messageType,F))})).apply(this,arguments)}const Aa="@firebase/messaging",Li=I=>{const D=new Ps(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Ll(I,D){return Fs.apply(this,arguments)}(D,M)),D},Vl=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:F=>function fd(I,D){return vu.apply(this,arguments)}(D,F)}};function Ul(){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,R.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function tf(){(0,se._registerComponent)(new ye.wA("messaging",Li,"PUBLIC")),(0,se._registerComponent)(new ye.wA("messaging-internal",Vl,"PRIVATE")),(0,se.registerVersion)(Aa,"0.9.16"),(0,se.registerVersion)(Aa,"0.9.16","esm2017")}();const jl="analytics",Wp="firebase_id",Ma="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Eu="https://www.googletagmanager.com/gtag/js",Yn=new fe.Yd("@firebase/analytics");function Cu(I){return Promise.all(I.map(D=>D.catch(M=>M)))}function nf(I,D){const M=document.createElement("script");M.src=`${Eu}?l=${I}&id=${D}`,M.async=!0,document.head.appendChild(M)}function io(I,D,M,F,Y,le){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,R.Z)(function*(I,D,M,F,Y,le){const Ee=F[Y];try{if(Ee)yield D[Ee];else{const gt=(yield Cu(M)).find(Dt=>Dt.measurementId===Y);gt&&(yield D[gt.appId])}}catch(We){Yn.error(We)}I("config",Y,le)})).apply(this,arguments)}function Hl(I,D,M,F,Y){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,R.Z)(function*(I,D,M,F,Y){try{let le=[];if(Y&&Y.send_to){let Ee=Y.send_to;Array.isArray(Ee)||(Ee=[Ee]);const We=yield Cu(M);for(const gt of Ee){const Dt=We.find(mt=>mt.measurementId===gt),Ye=Dt&&D[Dt.appId];if(!Ye){le=[];break}le.push(Ye)}}0===le.length&&(le=Object.values(D)),yield Promise.all(le),I("event",F,Y||{})}catch(le){Yn.error(le)}})).apply(this,arguments)}function Kp(){const I=window.document.getElementsByTagName("script");for(const D of Object.values(I))if(D.src&&D.src.includes(Eu))return D;return null}const ii=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Tu=new class rf{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function ts(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function dn(I){return fn.apply(this,arguments)}function fn(){return(fn=(0,R.Z)(function*(I){var D;const{appId:M,apiKey:F}=I,Y={method:"GET",headers:ts(F)},le=Ma.replace("{app-id}",M),Ee=yield fetch(le,Y);if(200!==Ee.status&&304!==Ee.status){let We="";try{const gt=yield Ee.json();null!==(D=gt.error)&&void 0!==D&&D.message&&(We=gt.error.message)}catch{}throw ii.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:We})}return Ee.json()})).apply(this,arguments)}function bt(I){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,R.Z)(function*(I,D=Tu,M){const{appId:F,apiKey:Y,measurementId:le}=I.options;if(!F)throw ii.create("no-app-id");if(!Y){if(le)return{measurementId:le,appId:F};throw ii.create("no-api-key")}const Ee=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Zl;return setTimeout((0,R.Z)(function*(){We.abort()}),void 0!==M?M:6e4),pr({appId:F,apiKey:Y,measurementId:le},Ee,We,D)})).apply(this,arguments)}function pr(I,D,M){return yr.apply(this,arguments)}function yr(){return(yr=(0,R.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:M},F,Y=Tu){var le,Ee;const{appId:We,measurementId:gt}=I;try{yield Au(F,D)}catch(Dt){if(gt)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${null===(le=Dt)||void 0===le?void 0:le.message}]`),{appId:We,measurementId:gt};throw Dt}try{const Dt=yield dn(I);return Y.deleteThrottleMetadata(We),Dt}catch(Dt){const Ye=Dt;if(!Yp(Ye)){if(Y.deleteThrottleMetadata(We),gt)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:We,measurementId:gt};throw Dt}const mt=503===Number(null===(Ee=Ye?.customData)||void 0===Ee?void 0:Ee.httpStatus)?(0,ae.$s)(M,Y.intervalMillis,30):(0,ae.$s)(M,Y.intervalMillis),vr={throttleEndTimeMillis:Date.now()+mt,backoffCount:M+1};return Y.setThrottleMetadata(We,vr),Yn.debug(`Calling attemptFetch again in ${mt} millis`),pr(I,vr,F,Y)}})).apply(this,arguments)}function Au(I,D){return new Promise((M,F)=>{const Y=Math.max(D-Date.now(),0),le=setTimeout(M,Y);I.addEventListener(()=>{clearTimeout(le),F(ii.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Yp(I){if(!(I instanceof ae.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Zl{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Su,js;function qr(){return(qr=(0,R.Z)(function*(I,D,M,F,Y){if(Y&&Y.global)I("event",M,F);else{const le=yield D;I("event",M,Object.assign(Object.assign({},F),{send_to:le}))}})).apply(this,arguments)}function ql(I){js=I}function xu(I){Su=I}function gd(){return bi.apply(this,arguments)}function bi(){return(bi=(0,R.Z)(function*(){var I;if(!(0,ae.hl)())return Yn.warn(ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(D){return Yn.warn(ii.create("indexeddb-unavailable",{errorInfo:null===(I=D)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function rs(){return(rs=(0,R.Z)(function*(I,D,M,F,Y,le,Ee){var We;const gt=bt(I);gt.then(jn=>{M[jn.measurementId]=jn.appId,I.options.measurementId&&jn.measurementId!==I.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jn=>Yn.error(jn)),D.push(gt);const Dt=gd().then(jn=>{if(jn)return F.getId()}),[Ye,mt]=yield Promise.all([gt,Dt]);Kp()||nf(le,Ye.measurementId),js&&(Y("consent","default",js),ql(void 0)),Y("js",new Date);const vr=null!==(We=Ee?.config)&&void 0!==We?We:{};return vr.origin="firebase",vr.update=!0,null!=mt&&(vr[Wp]=mt),Y("config",Ye.measurementId,vr),Su&&(Y("set",Su),xu(void 0)),Ye.measurementId})).apply(this,arguments)}class $s{constructor(D){this.app=D}_delete(){return delete oi[this.app.options.appId],Promise.resolve()}}let oi={},ao=[];const Hs={};let zl,mn,is="dataLayer",os=!1;function wi(I,D,M){!function kn(){const I=[];if((0,ae.ru)()&&I.push("This is a browser extension environment."),(0,ae.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((F,Y)=>`(${Y+1}) ${F}`).join(" "),M=ii.create("invalid-analytics-context",{errorInfo:D});Yn.warn(M.message)}}();const F=I.options.appId;if(!F)throw ii.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw ii.create("no-api-key");Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oi[F])throw ii.create("already-exists",{id:F});if(!os){!function $l(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(is);const{wrappedGtag:le,gtagCore:Ee}=function pd(I,D,M,F,Y){let le=function(...Ee){window[F].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(le=window[Y]),window[Y]=function Du(I,D,M,F){function le(){return(le=(0,R.Z)(function*(Ee,We,gt){try{"event"===Ee?yield Hl(I,D,M,We,gt):"config"===Ee?yield io(I,D,M,F,We,gt):"consent"===Ee?I("consent","update",gt):I("set",We)}catch(Dt){Yn.error(Dt)}})).apply(this,arguments)}return function Y(Ee,We,gt){return le.apply(this,arguments)}}(le,I,D,M),{gtagCore:le,wrappedGtag:window[Y]}}(oi,ao,Hs,is,"gtag");mn=le,zl=Ee,os=!0}return oi[F]=function Oa(I,D,M,F,Y,le,Ee){return rs.apply(this,arguments)}(I,ao,Hs,D,zl,is,M),new $s(I)}function Vi(){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,R.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const Kl="@firebase/analytics";!function Rn(){(0,se._registerComponent)(new ye.wA(jl,(D,{options:M})=>wi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,se._registerComponent)(new ye.wA("analytics-internal",function I(D){try{const M=D.getProvider(jl).getImmediate();return{logEvent:(F,Y,le)=>function md(I,D,M,F){I=(0,ae.m9)(I),function Ra(I,D,M,F,Y){return qr.apply(this,arguments)}(mn,oi[I.app.options.appId],D,M,F).catch(Y=>Yn.error(Y))}(M,F,Y,le)}}catch(M){throw ii.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,se.registerVersion)(Kl,"0.8.0"),(0,se.registerVersion)(Kl,"0.8.0","esm2017")}();var Jp=N(4408),on=N(7565);const lo=new class ss extends on.v{}(class Na extends Jp.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,M,F):D.flush(this)}});var uf=N(4986),Qn=N(8505),si=N(5363),vd=N(9468);const Ru=new l.GfV("7.4.1"),as="__angularfire_symbol__analyticsIsSupportedValue",qs="__angularfire_symbol__analyticsIsSupported",Ou="__angularfire_symbol__remoteConfigIsSupportedValue",Yl="__angularfire_symbol__remoteConfigIsSupported",_d="__angularfire_symbol__messagingIsSupportedValue",Nu="__angularfire_symbol__messagingIsSupported";function wd(I,D,M){if(D){if(1===D.length)return D[0];const le=D.filter(Ee=>Ee.app===M);if(1===le.length)return le[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[qs]||(globalThis[qs]=Vi().then(I=>globalThis[as]=I).catch(()=>globalThis[as]=!1)),globalThis[Nu]||(globalThis[Nu]=Ul().then(I=>globalThis[_d]=I).catch(()=>globalThis[_d]=!1)),globalThis[Yl]||(globalThis[Yl]=Ty().then(I=>globalThis[Ou]=I).catch(()=>globalThis[Ou]=!1));const us=(I,D)=>{const M=D?[D]:(0,U.C6)(),F=[];return M.forEach(Y=>{Y.container.getProvider(I).instances.forEach(Ee=>{F.includes(Ee)||F.push(Ee)})}),F};function Ei(){}class Fu{constructor(D,M=lo){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,F){const Y=this.zone;return this.delegate.schedule(function(Ee){Y.runGuarded(()=>{D.apply(this,[Ee])})},M,F)}}class lf{constructor(D){this.zone=D,this.task=null}call(D,M){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ei,{},Ei,Ei)),M.pipe((0,Qn.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ql=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Fu(Zone.current)),this.insideAngular=M.run(()=>new Fu(Zone.current,uf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(l.LFG(l.R0b))},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function co(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function zs(I){return I.pipe((0,si.Q)(co().outsideAngular))}function Ws(I){return co(),function Jn(I){return function(M){return(M=M.lift(new lf(I.ngZone))).pipe((0,vd.R)(I.outsideAngular),(0,si.Q)(I.insideAngular))}}(co())(I)}},6457:(pt,Me,N)=>{N.d(Me,{$:()=>Ea,A:()=>Z,B:()=>Re,G:()=>ga,H:()=>qn,J:()=>eo,L:()=>nn,M:()=>vi,N:()=>Kh,P:()=>uf,Q:()=>ld,R:()=>sf,T:()=>fu,U:()=>zo,V:()=>Pi,W:()=>Fn,X:()=>dd,Y:()=>yu,Z:()=>Yo,_:()=>xl,a:()=>ka,a0:()=>Ml,a1:()=>kl,a2:()=>Jh,a3:()=>Ne,a4:()=>Rl,a5:()=>Ln,a6:()=>Ta,a7:()=>_i,a8:()=>Ol,a9:()=>Xh,aA:()=>jn,aB:()=>gt,aC:()=>zs,aD:()=>Bi,aE:()=>Gn,aI:()=>ts,aL:()=>Ts,aa:()=>mr,ab:()=>hd,ac:()=>ro,af:()=>ef,ag:()=>Fl,ah:()=>Ll,ak:()=>cn,al:()=>wu,an:()=>Eu,ao:()=>Vs,ap:()=>an,aq:()=>Ie,ar:()=>At,as:()=>vt,at:()=>Ze,au:()=>Xl,av:()=>Ks,aw:()=>ke,ax:()=>re,ay:()=>ie,az:()=>Qt,b:()=>ii,c:()=>_d,d:()=>bd,e:()=>Pu,f:()=>Jn,g:()=>F,h:()=>I,i:()=>bi,j:()=>Ee,k:()=>tc,l:()=>ko,m:()=>nc,o:()=>ce,r:()=>Jp,s:()=>af,u:()=>lo});var l=N(5861),U=N(2090),R=N(9681),se=N(655),ae=N(1877),ye=N(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ae=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},He=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new ae.Yd("@firebase/auth");function Ke(_,...g){me.logLevel<=ae.in.ERROR&&me.error(`Auth (${R.SDK_VERSION}): ${_}`,...g)}function Ze(_,...g){throw Qe(_,...g)}function ke(_,...g){return Qe(_,...g)}function Oe(_,g,m){const w=Object.assign(Object.assign({},Ae()),{[g]:m});return new U.LL("auth","Firebase",w).create(g,{appName:_.name})}function Ce(_,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Ze(_,"argument-error"),Oe(_,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qe(_,...g){if("string"!=typeof _){const m=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(m,...w)}return He.create(_,...g)}function re(_,g,...m){if(!_)throw Qe(g,...m)}function he(_){const g="INTERNAL ASSERTION FAILED: "+_;throw Ke(g),new Error(g)}function Ie(_,g){_||he(g)}const Q=new Map;function ie(_){Ie(_ instanceof Function,"Expected a class definition");let g=Q.get(_);return g?(Ie(g instanceof _,"Instance stored in cache mismatched with class"),g):(g=new _,Q.set(_,g),g)}function ue(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ue(){return"http:"===yt()||"https:"===yt()}function yt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ze{constructor(g,m){this.shortDelay=g,this.longDelay=m,Ie(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ue()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ln(_,g){Ie(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Nn{static initialize(g,m,w){this.fetchImpl=g,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Jt=new ze(3e4,6e4);function qt(_,g){return _.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:_.tenantId}):g}function Xt(_,g,m,w){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(_,g,m,w,x={}){return ki(_,x,(0,l.Z)(function*(){let O={},ne={};w&&("GET"===g?ne=w:O={body:JSON.stringify(w)});const Te=(0,U.xO)(Object.assign({key:_.config.apiKey},ne)).slice(1),nt=yield _._getAdditionalHeaders();return nt["Content-Type"]="application/json",_.languageCode&&(nt["X-Firebase-Locale"]=_.languageCode),Nn.fetch()(ni(_,_.config.apiHost,m,Te),Object.assign({method:g,headers:nt,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function ki(_,g,m){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(_,g,m){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},hn),g);try{const x=new mi(_),O=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const ne=yield O.json();if("needConfirmation"in ne)throw Pn(_,"account-exists-with-different-credential",ne);if(O.ok&&!("errorMessage"in ne))return ne;{const Te=O.ok?ne.errorMessage:ne.error.message,[nt,wt]=Te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nt)throw Pn(_,"credential-already-in-use",ne);if("EMAIL_EXISTS"===nt)throw Pn(_,"email-already-in-use",ne);if("USER_DISABLED"===nt)throw Pn(_,"user-disabled",ne);const Zt=w[nt]||nt.toLowerCase().replace(/[_\s]+/g,"-");if(wt)throw Oe(_,Zt,wt);Ze(_,Zt)}}catch(x){if(x instanceof U.ZR)throw x;Ze(_,"network-request-failed")}})).apply(this,arguments)}function Tn(_,g,m,w){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,l.Z)(function*(_,g,m,w,x={}){const O=yield Xt(_,g,m,w,x);return"mfaPendingCredential"in O&&Ze(_,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function ni(_,g,m,w){const x=`${g}${m}?${w}`;return _.config.emulator?ln(_.config,x):`${_.config.apiScheme}://${x}`}class mi{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ke(this.auth,"network-request-failed")),Jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pn(_,g,m){const w={appName:_.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const x=ke(_,g,w);return x.customData._tokenResponse=m,x}function ft(){return(ft=(0,l.Z)(function*(_,g){return Xt(_,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Ar(_,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(_,g){return Xt(_,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function en(_,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(_,g){return Xt(_,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Pr(_){if(_)try{const g=new Date(Number(_));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function cr(){return(cr=(0,l.Z)(function*(_,g=!1){const m=(0,U.m9)(_),w=yield m.getIdToken(g),x=Wt(w);re(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const O="object"==typeof x.firebase?x.firebase:void 0,ne=O?.sign_in_provider;return{claims:x,token:w,authTime:Pr(Co(x.auth_time)),issuedAtTime:Pr(Co(x.iat)),expirationTime:Pr(Co(x.exp)),signInProvider:ne||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Co(_){return 1e3*Number(_)}function Wt(_){var g;const[m,w,x]=_.split(".");if(void 0===m||void 0===w||void 0===x)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,U.tV)(w);return O?JSON.parse(O):(Ke("Failed to decode base64 JWT payload"),null)}catch(O){return Ke("Caught error parsing JWT payload as JSON",null===(g=O)||void 0===g?void 0:g.toString()),null}}function at(_,g){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(_,g,m=!1){if(m)return g;try{return yield g}catch(w){throw w instanceof U.ZR&&rr(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function rr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Rt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var g=this;return(0,l.Z)(function*(){var m;try{yield g.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&g.schedule(!0))}g.schedule()})()}}class Sr{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pr(this.lastLoginAt),this.creationTime=Pr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wn(_){return En.apply(this,arguments)}function En(){return(En=(0,l.Z)(function*(_){var g;const m=_.auth,w=yield _.getIdToken(),x=yield at(_,en(m,{idToken:w}));re(x?.users.length,m,"internal-error");const O=x.users[0];_._notifyReloadListener(O);const ne=null!==(g=O.providerUserInfo)&&void 0!==g&&g.length?G(O.providerUserInfo):[],Te=H(_.providerData,ne),Zt=!!_.isAnonymous&&!(_.email&&O.passwordHash||Te?.length),Vn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Te,metadata:new Sr(O.createdAt,O.lastLoginAt),isAnonymous:Zt};Object.assign(_,Vn)})).apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(_){const g=(0,U.m9)(_);yield wn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function H(_,g){return[..._.filter(w=>!g.some(x=>x.providerId===w.providerId)),...g]}function G(_){return _.map(g=>{var{providerId:m}=g,w=(0,se._T)(g,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function W(){return(W=(0,l.Z)(function*(_,g){const m=yield ki(_,{},(0,l.Z)(function*(){const w=(0,U.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:O}=_.config,ne=ni(_,x,"/v1/token",`key=${O}`),Te=yield _._getAdditionalHeaders();return Te["Content-Type"]="application/x-www-form-urlencoded",Nn.fetch()(ne,{method:"POST",headers:Te,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){re(g.idToken,"internal-error"),re(typeof g.idToken<"u","internal-error"),re(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Je(_){const g=Wt(_);return re(g,"internal-error"),re(typeof g.exp<"u","internal-error"),re(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var w=this;return(0,l.Z)(function*(){return re(!w.accessToken||w.refreshToken,g,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var w=this;return(0,l.Z)(function*(){const{accessToken:x,refreshToken:O,expiresIn:ne}=yield function V(_,g){return W.apply(this,arguments)}(g,m);w.updateTokensAndExpiration(x,O,Number(ne))})()}updateTokensAndExpiration(g,m,w){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,m){const{refreshToken:w,accessToken:x,expirationTime:O}=m,ne=new K;return w&&(re("string"==typeof w,"internal-error",{appName:g}),ne.refreshToken=w),x&&(re("string"==typeof x,"internal-error",{appName:g}),ne.accessToken=x),O&&(re("number"==typeof O,"internal-error",{appName:g}),ne.expirationTime=O),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return he("not implemented")}}function xe(_,g){re("string"==typeof _||typeof _>"u","internal-error",{appName:g})}class Ge{constructor(g){var{uid:m,auth:w,stsTokenManager:x}=g,O=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Sr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,l.Z)(function*(){const w=yield at(m,m.stsTokenManager.getToken(m.auth,g));return re(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(g){return function bn(_){return cr.apply(this,arguments)}(this,g)}reload(){return function tn(_){return Zn.apply(this,arguments)}(this)}_assign(g){this!==g&&(re(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Ge(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var w=this;return(0,l.Z)(function*(){let x=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),x=!0),m&&(yield wn(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,l.Z)(function*(){const m=yield g.getIdToken();return yield at(g,function Xi(_,g){return ft.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var w,x,O,ne,Te,nt,wt,Zt;const Vn=null!==(w=m.displayName)&&void 0!==w?w:void 0,fo=null!==(x=m.email)&&void 0!==x?x:void 0,Hi=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,rc=null!==(ne=m.photoURL)&&void 0!==ne?ne:void 0,zr=null!==(Te=m.tenantId)&&void 0!==Te?Te:void 0,cs=null!==(nt=m._redirectEventId)&&void 0!==nt?nt:void 0,gf=null!==(wt=m.createdAt)&&void 0!==wt?wt:void 0,mf=null!==(Zt=m.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:ic,emailVerified:rg,isAnonymous:db,providerData:Ny,stsTokenManager:yf}=m;re(ic&&yf,g,"internal-error");const ig=K.fromJSON(this.name,yf);re("string"==typeof ic,g,"internal-error"),xe(Vn,g.name),xe(fo,g.name),re("boolean"==typeof rg,g,"internal-error"),re("boolean"==typeof db,g,"internal-error"),xe(Hi,g.name),xe(rc,g.name),xe(zr,g.name),xe(cs,g.name),xe(gf,g.name),xe(mf,g.name);const Va=new Ge({uid:ic,auth:g,email:fo,emailVerified:rg,displayName:Vn,isAnonymous:db,photoURL:rc,phoneNumber:Hi,tenantId:zr,stsTokenManager:ig,createdAt:gf,lastLoginAt:mf});return Ny&&Array.isArray(Ny)&&(Va.providerData=Ny.map(hb=>Object.assign({},hb))),cs&&(Va._redirectEventId=cs),Va}static _fromIdTokenResponse(g,m,w=!1){return(0,l.Z)(function*(){const x=new K;x.updateFromServerResponse(m);const O=new Ge({uid:m.localId,auth:g,stsTokenManager:x,isAnonymous:w});return yield wn(O),O})()}}const nn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var x=this;return(0,l.Z)(function*(){x.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const x=w.storage[m];return void 0===x?null:x})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return _.type="NONE",_})();function Qt(_,g,m){return`firebase:${_}:${g}:${m}`}class ir{constructor(g,m,w){this.persistence=g,this.auth=m,this.userKey=w;const{config:x,name:O}=this.auth;this.fullUserKey=Qt(this.userKey,x.apiKey,O),this.fullPersistenceKey=Qt("persistence",x.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Ge._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,l.Z)(function*(){if(m.persistence===g)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new ir(ie(nn),g,w);const x=(yield Promise.all(m.map(function(){var wt=(0,l.Z)(function*(Zt){if(yield Zt._isAvailable())return Zt});return function(Zt){return wt.apply(this,arguments)}}()))).filter(wt=>wt);let O=x[0]||ie(nn);const ne=Qt(w,g.config.apiKey,g.name);let Te=null;for(const wt of m)try{const Zt=yield wt._get(ne);if(Zt){const Vn=Ge._fromJSON(g,Zt);wt!==O&&(Te=Vn),O=wt;break}}catch{}const nt=x.filter(wt=>wt._shouldAllowMigration);return O._shouldAllowMigration&&nt.length?(O=nt[0],Te&&(yield O._set(ne,Te.toJSON())),yield Promise.all(m.map(function(){var wt=(0,l.Z)(function*(Zt){if(Zt!==O)try{yield Zt._remove(ne)}catch{}});return function(Zt){return wt.apply(this,arguments)}}())),new ir(O,g,w)):new ir(O,g,w)})()}}function J(_){const g=_.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if($e(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(j(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Se(g))return"Blackberry";if(rt(g))return"Webos";if($(g))return"Safari";if((g.includes("chrome/")||be(g))&&!g.includes("edge/"))return"Chrome";if(vt(g))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function j(_=(0,U.z$)()){return/firefox\//i.test(_)}function $(_=(0,U.z$)()){const g=_.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function be(_=(0,U.z$)()){return/crios\//i.test(_)}function $e(_=(0,U.z$)()){return/iemobile/i.test(_)}function vt(_=(0,U.z$)()){return/android/i.test(_)}function Se(_=(0,U.z$)()){return/blackberry/i.test(_)}function rt(_=(0,U.z$)()){return/webos/i.test(_)}function At(_=(0,U.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function an(_=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function or(_=(0,U.z$)()){return At(_)||vt(_)||rt(_)||Se(_)||/windows phone/i.test(_)||$e(_)}function Es(_,g=[]){let m;switch(_){case"Browser":m=J((0,U.z$)());break;case"Worker":m=`${J((0,U.z$)())}-${_}`;break;default:m=_}const w=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${R.SDK_VERSION}/${w}`}class Ri{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const w=O=>new Promise((ne,Te)=>{try{ne(g(O))}catch(nt){Te(nt)}});w.onAbort=m,this.queue.push(w);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,l.Z)(function*(){var w;if(m.auth.currentUser===g)return;const x=[];try{for(const O of m.queue)yield O(g),O.onAbort&&x.push(O.onAbort)}catch(O){x.reverse();for(const ne of x)try{ne()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=O)||void 0===w?void 0:w.message})}})()}}class Vt{constructor(g,m,w){this.app=g,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ho(this),this.idTokenSubscription=new Ho(this),this.beforeStateQueue=new Ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=He,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,m){var w=this;return m&&(this._popupRedirectResolver=ie(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var x,O;if(!w._deleted&&(w.persistenceManager=yield ir.create(w,g),!w._deleted)){if(null!==(x=w._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,l.Z)(function*(){var w;const x=yield m.assertedPersistence.getCurrentUser();let O=x,ne=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Te=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,nt=O?._redirectEventId,wt=yield m.tryRedirectSignIn(g);(!Te||Te===nt)&&wt?.user&&(O=wt.user,ne=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(ne)try{yield m.beforeStateQueue.runMiddleware(O)}catch(Te){O=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Te))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return re(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(g){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,l.Z)(function*(){var w;try{yield wn(g)}catch(x){if("auth/network-request-failed"!==(null===(w=x)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function zt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,l.Z)(function*(){const w=g?(0,U.m9)(g):null;return w&&re(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(g,m=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return g&&re(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(ie(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new U.LL("auth","Firebase",g())}onAuthStateChanged(g,m,w){return this.registerStateListener(this.authStateSubscription,g,m,w)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,w){return this.registerStateListener(this.idTokenSubscription,g,m,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var w=this;return(0,l.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(m);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=g&&ie(g)||m._popupRedirectResolver;re(w,m,"argument-error"),m.redirectPersistenceManager=yield ir.create(m,[ie(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,l.Z)(function*(){var w,x;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===g?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,l.Z)(function*(){if(g===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,w,x){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return re(ne,this,"internal-error"),ne.then(()=>O(this.currentUser)),"function"==typeof m?g.addObserver(m,w,x):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Es(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const x=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function Gn(_){return(0,U.m9)(_)}class Ho{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,U.ne)(m=>this.observer=m)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ga(_,g,m){const w=Gn(_);re(w._canInitEmulator,w,"emulator-config-failed"),re(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const x=!!m?.disableWarnings,O=Io(g),{host:ne,port:Te}=function sr(_){const g=Io(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(g.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const O=x[1];return{host:O,port:Zo(w.substr(O.length+1))}}{const[O,ne]=w.split(":");return{host:O,port:Zo(ne)}}}(g);w.config.emulator={url:`${O}//${ne}${null===Te?"":`:${Te}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:ne,port:Te,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Do(){function _(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function Io(_){const g=_.indexOf(":");return g<0?"":_.substr(0,g+1)}function Zo(_){if(!_)return null;const g=Number(_);return isNaN(g)?null:g}class qn{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return he("not implemented")}_getIdTokenResponse(g){return he("not implemented")}_linkToIdToken(g,m){return he("not implemented")}_getReauthenticationResolver(g){return he("not implemented")}}function To(_,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(_,g){return Xt(_,"POST","/v1/accounts:resetPassword",qt(_,g))})).apply(this,arguments)}function gn(_,g){return El.apply(this,arguments)}function El(){return(El=(0,l.Z)(function*(_,g){return Xt(_,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qh(_,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(_,g){return Xt(_,"POST","/v1/accounts:update",qt(_,g))})).apply(this,arguments)}function Oi(){return(Oi=(0,l.Z)(function*(_,g){return Tn(_,"POST","/v1/accounts:signInWithPassword",qt(_,g))})).apply(this,arguments)}function Cs(_,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(_,g){return Xt(_,"POST","/v1/accounts:sendOobCode",qt(_,g))})).apply(this,arguments)}function zn(_,g){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,l.Z)(function*(_,g){return Cs(_,g)})).apply(this,arguments)}function Wn(_,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(_,g){return Cs(_,g)})).apply(this,arguments)}function Il(_,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(_,g){return Cs(_,g)})).apply(this,arguments)}function ma(_,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(_,g){return Cs(_,g)})).apply(this,arguments)}function $p(){return($p=(0,l.Z)(function*(_,g){return Tn(_,"POST","/v1/accounts:signInWithEmailLink",qt(_,g))})).apply(this,arguments)}function Dl(){return(Dl=(0,l.Z)(function*(_,g){return Tn(_,"POST","/v1/accounts:signInWithEmailLink",qt(_,g))})).apply(this,arguments)}class ya extends qn{constructor(g,m,w,x=null){super("password",w),this._email=g,this._password=m,this._tenantId=x}static _fromEmailAndPassword(g,m){return new ya(g,m,"password")}static _fromEmailAndCode(g,m,w=null){return new ya(g,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function du(_,g){return Oi.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function hu(_,g){return $p.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ze(g,"internal-error")}})()}_linkToIdToken(g,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return gn(g,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function od(_,g){return Dl.apply(this,arguments)}(g,{idToken:m,email:w._email,oobCode:w._password});default:Ze(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ao(_,g){return zh.apply(this,arguments)}function zh(){return(zh=(0,l.Z)(function*(_,g){return Tn(_,"POST","/v1/accounts:signInWithIdp",qt(_,g))})).apply(this,arguments)}class eo extends qn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new eo(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ze("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:x}=m,O=(0,se._T)(m,["providerId","signInMethod"]);if(!w||!x)return null;const ne=new eo(w,x);return ne.idToken=O.idToken||void 0,ne.accessToken=O.accessToken||void 0,ne.secret=O.secret,ne.nonce=O.nonce,ne.pendingToken=O.pendingToken||null,ne}_getIdTokenResponse(g){return Ao(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,Ao(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Ao(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,U.xO)(m)}return g}}function Hp(_,g){return sd.apply(this,arguments)}function sd(){return(sd=(0,l.Z)(function*(_,g){return Xt(_,"POST","/v1/accounts:sendVerificationCode",qt(_,g))})).apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(_,g){return Tn(_,"POST","/v1/accounts:signInWithPhoneNumber",qt(_,g))})).apply(this,arguments)}function ad(){return(ad=(0,l.Z)(function*(_,g){const m=yield Tn(_,"POST","/v1/accounts:signInWithPhoneNumber",qt(_,g));if(m.temporaryProof)throw Pn(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Gp={USER_NOT_FOUND:"user-not-found"};function ud(){return(ud=(0,l.Z)(function*(_,g){return Tn(_,"POST","/v1/accounts:signInWithPhoneNumber",qt(_,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Gp)})).apply(this,arguments)}class So extends qn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new So({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new So({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Zp(_,g){return va.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Is(_,g){return ad.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Wh(_,g){return ud.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:w,verificationCode:x}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:w,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:O}=g;return w||m||x||O?new So({verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:O}):null}}class Ds{constructor(g){var m,w,x,O,ne,Te;const nt=(0,U.zd)((0,U.pd)(g)),wt=null!==(m=nt.apiKey)&&void 0!==m?m:null,Zt=null!==(w=nt.oobCode)&&void 0!==w?w:null,Vn=function Tl(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=nt.mode)&&void 0!==x?x:null);re(wt&&Zt&&Vn,"argument-error"),this.apiKey=wt,this.operation=Vn,this.code=Zt,this.continueUrl=null!==(O=nt.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(ne=nt.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(Te=nt.tenantId)&&void 0!==Te?Te:null}static parseLink(g){const m=function Dy(_){const g=(0,U.zd)((0,U.pd)(_)).link,m=g?(0,U.zd)((0,U.pd)(g)).deep_link_id:null,w=(0,U.zd)((0,U.pd)(_)).deep_link_id;return(w?(0,U.zd)((0,U.pd)(w)).link:null)||w||m||g||_}(g);try{return new Ds(m)}catch{return null}}}let vi=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,w){return ya._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const x=Ds.parseLink(w);return re(x,"argument-error"),ya._fromEmailAndCode(m,x.code,x.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class to{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class no extends to{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class zo extends no{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return re("providerId"in m&&"signInMethod"in m,"argument-error"),eo._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return re(g.idToken||g.accessToken,"argument-error"),eo._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return zo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return zo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:O,nonce:ne,providerId:Te}=g;if(!w&&!x&&!m&&!O||!Te)return null;try{return new zo(Te)._credential({idToken:m,accessToken:w,nonce:ne,pendingToken:O})}catch{return null}}}let Kh=(()=>{class _ extends no{constructor(){super("facebook.com")}static credential(m){return eo._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ld=(()=>{class _ extends no{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return eo._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:x}=m;if(!w&&!x)return null;try{return _.credential(w,x)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),fu=(()=>{class _ extends no{constructor(){super("github.com")}static credential(m){return eo._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ts extends qn{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Ao(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,Ao(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Ao(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:x,pendingToken:O}=m;return w&&x&&O&&w===x?new Ts(w,O):null}static _create(g,m){return new Ts(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pi extends to{constructor(g){re(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Pi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Pi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Ts.fromJSON(g);return re(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:w}=g;if(!m||!w)return null;try{return Ts._create(w,m)}catch{return null}}}let Fn=(()=>{class _ extends no{constructor(){super("twitter.com")}static credential(m,w){return eo._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=m;if(!w||!x)return null;try{return _.credential(w,x)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function gu(_,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(_,g){return Tn(_,"POST","/v1/accounts:signUp",qt(_,g))})).apply(this,arguments)}class Lr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,w,x=!1){return(0,l.Z)(function*(){const O=yield Ge._fromIdTokenResponse(g,w,x),ne=cd(w);return new Lr({user:O,providerId:ne,_tokenResponse:w,operationType:m})})()}static _forOperation(g,m,w){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const x=cd(w);return new Lr({user:g,providerId:x,_tokenResponse:w,operationType:m})})()}}function cd(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function dd(_){return As.apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(_){var g;const m=Gn(_);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new Lr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield gu(m,{returnSecureToken:!0}),x=yield Lr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Al extends U.ZR{constructor(g,m,w,x){var O;super(m.code,m.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,Al.prototype),this.customData={appName:g.name,tenantId:null!==(O=g.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,m,w,x){return new Al(g,m,w,x)}}function Sl(_,g,m,w){return("reauthenticate"===g?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Al._fromErrorAndOperation(_,O,g,w):O})}function Qh(_){return new Set(_.map(({providerId:g})=>g).filter(g=>!!g))}function cn(_,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(_,g){const m=(0,U.m9)(_);yield Ss(!0,m,g);const{providerUserInfo:w}=yield Ar(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),x=Qh(w||[]);return m.providerData=m.providerData.filter(O=>x.has(O.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ba(_,g){return mu.apply(this,arguments)}function mu(){return(mu=(0,l.Z)(function*(_,g,m=!1){const w=yield at(_,g._linkToIdToken(_.auth,yield _.getIdToken()),m);return Lr._forOperation(_,"link",w)})).apply(this,arguments)}function Ss(_,g,m){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(_,g,m){yield wn(g);const x=!1===_?"provider-already-linked":"no-such-provider";re(Qh(g.providerData).has(m)===_,g.auth,x)})).apply(this,arguments)}function xs(_,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(_,g,m=!1){var w;const{auth:x}=_,O="reauthenticate";try{const ne=yield at(_,Sl(x,O,g,_),m);re(ne.idToken,x,"internal-error");const Te=Wt(ne.idToken);re(Te,x,"internal-error");const{sub:nt}=Te;return re(_.uid===nt,x,"user-mismatch"),Lr._forOperation(_,O,ne)}catch(ne){throw"auth/user-not-found"===(null===(w=ne)||void 0===w?void 0:w.code)&&Ze(x,"user-mismatch"),ne}})).apply(this,arguments)}function Ko(_,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(_,g,m=!1){const w="signIn",x=yield Sl(_,w,g),O=yield Lr._fromIdTokenResponse(_,w,x);return m||(yield _._updateCurrentUser(O.user)),O})).apply(this,arguments)}function yu(_,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(_,g){return Ko(Gn(_),g)})).apply(this,arguments)}function Yo(_,g){return fr.apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(_,g){const m=(0,U.m9)(_);return yield Ss(!1,m,g.providerId),ba(m,g)})).apply(this,arguments)}function xl(_,g){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(_,g){return xs((0,U.m9)(_),g)})).apply(this,arguments)}function wa(_,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(_,g){return Tn(_,"POST","/v1/accounts:signInWithCustomToken",qt(_,g))})).apply(this,arguments)}function Ea(_,g){return xo.apply(this,arguments)}function xo(){return(xo=(0,l.Z)(function*(_,g){const m=Gn(_),w=yield wa(m,{token:g,returnSecureToken:!0}),x=yield Lr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class _t{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?ks._fromServerResponse(g,m):Ze(g,"internal-error")}}class ks extends _t{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new ks(m)}}function Ca(_,g,m){var w;re((null===(w=m.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),re(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(re(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(re(m.android.packageName.length>0,_,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Ml(_,g,m){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(_,g,m){const w=(0,U.m9)(_),x={requestType:"PASSWORD_RESET",email:g};m&&Ca(w,x,m),yield Wn(w,x)})).apply(this,arguments)}function kl(_,g,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(_,g,m){yield To((0,U.m9)(_),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Jh(_,g){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.Z)(function*(_,g){yield qh((0,U.m9)(_),{oobCode:g})})).apply(this,arguments)}function Ne(_,g){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(_,g){const m=(0,U.m9)(_),w=yield To(m,{oobCode:g}),x=w.requestType;switch(re(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(w.mfaInfo,m,"internal-error");default:re(w.email,m,"internal-error")}let O=null;return w.mfaInfo&&(O=_t._fromServerResponse(Gn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:x}})).apply(this,arguments)}function Rl(_,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(_,g){const{data:m}=yield Ne((0,U.m9)(_),g);return m.email})).apply(this,arguments)}function Ln(_,g,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(_,g,m){const w=Gn(_),x=yield gu(w,{returnSecureToken:!0,email:g,password:m}),O=yield Lr._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function Ta(_,g,m){return yu((0,U.m9)(_),vi.credential(g,m))}function _i(_,g,m){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(_,g,m){const w=(0,U.m9)(_),x={requestType:"EMAIL_SIGNIN",email:g};re(m.handleCodeInApp,w,"argument-error"),m&&Ca(w,x,m),yield Il(w,x)})).apply(this,arguments)}function Ol(_,g){return"EMAIL_SIGNIN"===Ds.parseLink(g)?.operation}function Xh(_,g,m){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,l.Z)(function*(_,g,m){const w=(0,U.m9)(_),x=vi.credentialWithLink(g,m||ue());return re(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),yu(w,x)})).apply(this,arguments)}function Pl(_,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,l.Z)(function*(_,g){return Xt(_,"POST","/v1/accounts:createAuthUri",qt(_,g))})).apply(this,arguments)}function mr(_,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,l.Z)(function*(_,g){const w={identifier:g,continueUri:Ue()?ue():"http://localhost"},{signinMethods:x}=yield Pl((0,U.m9)(_),w);return x||[]})).apply(this,arguments)}function hd(_,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(_,g){const m=(0,U.m9)(_),x={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};g&&Ca(m.auth,x,g);const{email:O}=yield zn(m.auth,x);O!==_.email&&(yield _.reload())})).apply(this,arguments)}function ro(_,g,m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,l.Z)(function*(_,g,m){const w=(0,U.m9)(_),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:g};m&&Ca(w.auth,O,m);const{email:ne}=yield ma(w.auth,O);ne!==_.email&&(yield _.reload())})).apply(this,arguments)}function fd(_,g){return vu.apply(this,arguments)}function vu(){return(vu=(0,l.Z)(function*(_,g){return Xt(_,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ef(_,g){return es.apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(_,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const w=(0,U.m9)(_),O={idToken:yield w.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},ne=yield at(w,fd(w.auth,O));w.displayName=ne.displayName||null,w.photoURL=ne.photoUrl||null;const Te=w.providerData.find(({providerId:nt})=>"password"===nt);Te&&(Te.displayName=w.displayName,Te.photoURL=w.photoURL),yield w._updateTokensIfNecessary(ne)})).apply(this,arguments)}function Fl(_,g){return Fs((0,U.m9)(_),g,null)}function Ll(_,g){return Fs((0,U.m9)(_),null,g)}function Fs(_,g,m){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.Z)(function*(_,g,m){const{auth:w}=_,O={idToken:yield _.getIdToken(),returnSecureToken:!0};g&&(O.email=g),m&&(O.password=m);const ne=yield at(_,gn(w,O));yield _._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class Li{constructor(g,m,w={}){this.isNewUser=g,this.providerId=m,this.profile=w}}class Vl extends Li{constructor(g,m,w,x){super(g,m,w),this.username=x}}class tf extends Li{constructor(g,m){super(g,"facebook.com",m)}}class Ul extends Vl{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Bl extends Li{constructor(g,m){super(g,"google.com",m)}}class bu extends Vl{constructor(g,m,w){super(g,"twitter.com",m,w)}}function wu(_){const{user:g,_tokenResponse:m}=_;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function _u(_){var g,m;if(!_)return null;const{providerId:w}=_,x=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},O=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&_?.idToken){const ne=null===(m=null===(g=Wt(_.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(ne)return new Li(O,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!w)return null;switch(w){case"facebook.com":return new tf(O,x);case"github.com":return new Ul(O,x);case"google.com":return new Bl(O,x);case"twitter.com":return new bu(O,x,_.screenName||null);case"custom":case"anonymous":return new Li(O,null);default:return new Li(O,w,x)}}(m)}class Mo{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Mo("enroll",g)}static _fromMfaPendingCredential(g){return new Mo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,w;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Mo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return Mo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ma{constructor(g,m,w){this.session=g,this.hints=m,this.signInResolver=w}static _fromError(g,m){const w=Gn(g),x=m.customData._serverResponse,O=(x.mfaInfo||[]).map(Te=>_t._fromServerResponse(w,Te));re(x.mfaPendingCredential,w,"internal-error");const ne=Mo._fromMfaPendingCredential(x.mfaPendingCredential);return new Ma(ne,O,function(){var Te=(0,l.Z)(function*(nt){const wt=yield nt._process(w,ne);delete x.mfaInfo,delete x.mfaPendingCredential;const Zt=Object.assign(Object.assign({},x),{idToken:wt.idToken,refreshToken:wt.refreshToken});switch(m.operationType){case"signIn":const Vn=yield Lr._fromIdTokenResponse(w,m.operationType,Zt);return yield w._updateCurrentUser(Vn.user),Vn;case"reauthenticate":return re(m.user,w,"internal-error"),Lr._forOperation(m.user,m.operationType,Zt);default:Ze(w,"internal-error")}});return function(nt){return Te.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,l.Z)(function*(){return m.signInResolver(g)})()}}function Eu(_,g){var m;const w=(0,U.m9)(_),x=g;return re(g.customData.operationType,w,"argument-error"),re(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Ma._fromError(w,x)}function Yn(_,g){return Xt(_,"POST","/v2/accounts/mfaEnrollment:start",qt(_,g))}class $l{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>_t._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new $l(g)}getSession(){var g=this;return(0,l.Z)(function*(){return Mo._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var w=this;return(0,l.Z)(function*(){const x=g,O=yield w.getSession(),ne=yield at(w.user,x._process(w.user.auth,O,m));return yield w.user._updateTokensIfNecessary(ne),w.user.reload()})()}unenroll(g){var m=this;return(0,l.Z)(function*(){var w;const x="string"==typeof g?g:g.uid,O=yield m.user.getIdToken(),ne=yield at(m.user,function nf(_,g){return Xt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(_,g))}(m.user.auth,{idToken:O,mfaEnrollmentId:x}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Te})=>Te!==x),yield m.user._updateTokensIfNecessary(ne);try{yield m.user.reload()}catch(Te){if("auth/user-token-expired"!==(null===(w=Te)||void 0===w?void 0:w.code))throw Te}})()}}const io=new WeakMap;function Vs(_){const g=(0,U.m9)(_);return io.has(g)||io.set(g,$l._fromUser(g)),io.get(g)}const Hl="__sak";class Iu{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Hl,"1"),this.storage.removeItem(Hl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const ii=(()=>{class _ extends Iu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Du(){const _=(0,U.z$)();return $(_)||At(_)}()&&function pn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=or(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),O=this.localCache[w];x!==O&&m(w,O,x)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Te,nt,wt)=>{this.notifyListeners(Te,wt)});const x=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Te=this.storage.getItem(x);if(m.newValue!==Te)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!w)return}const O=()=>{const Te=this.storage.getItem(x);!w&&this.localCache[x]===Te||this.notifyListeners(x,Te)},ne=this.storage.getItem(x);!function Tt(){return(0,U.w1)()&&10===document.documentMode}()||ne===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const O of Array.from(x))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var x=()=>super._set,O=this;return(0,l.Z)(function*(){yield x().call(O,m,w),O.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,x=this;return(0,l.Z)(function*(){const O=yield w().call(x,m);return x.localCache[m]=JSON.stringify(O),O})()}_remove(m){var w=()=>super._remove,x=this;return(0,l.Z)(function*(){yield w().call(x,m),delete x.localCache[m]})()}}return _.type="LOCAL",_})(),ka=(()=>{class _ extends Iu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return _.type="SESSION",_})();let Tu=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(O=>O.isListeningto(m));if(w)return w;const x=new _(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const x=m,{eventId:O,eventType:ne,data:Te}=x.data,nt=w.handlersMap[ne];if(!nt?.size)return;x.ports[0].postMessage({status:"ack",eventId:O,eventType:ne});const wt=Array.from(nt).map(function(){var Vn=(0,l.Z)(function*(fo){return fo(x.origin,Te)});return function(fo){return Vn.apply(this,arguments)}}()),Zt=yield function rf(_){return Promise.all(_.map(function(){var g=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return g.apply(this,arguments)}}()))}(wt);x.ports[0].postMessage({status:"done",eventId:O,eventType:ne,response:Zt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function ts(_="",g=10){let m="";for(let w=0;w<g;w++)m+=Math.floor(10*Math.random());return _+m}class dn{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,w=50){var x=this;return(0,l.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let ne,Te;return new Promise((nt,wt)=>{const Zt=ts("",20);O.port1.start();const Vn=setTimeout(()=>{wt(new Error("unsupported_event"))},w);Te={messageChannel:O,onMessage(fo){const Hi=fo;if(Hi.data.eventId===Zt)switch(Hi.data.status){case"ack":clearTimeout(Vn),ne=setTimeout(()=>{wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),nt(Hi.data.response);break;default:clearTimeout(Vn),clearTimeout(ne),wt(new Error("invalid_response"))}}},x.handlers.add(Te),O.port1.addEventListener("message",Te.onMessage),x.target.postMessage({eventType:g,eventId:Zt,data:m},[O.port2])}).finally(()=>{Te&&x.removeMessageHandler(Te)})})()}}function fn(){return window}function Gr(){return typeof fn().WorkerGlobalScope<"u"&&"function"==typeof fn().importScripts}function yr(){return(yr=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zl="firebaseLocalStorageDb",Ra="firebaseLocalStorage",qr="fbase_key";class oo{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Mt(_,g){return _.transaction([Ra],g?"readwrite":"readonly").objectStore(Ra)}function ns(){const _=indexedDB.open(Zl,1);return new Promise((g,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Ra,{keyPath:qr})}catch(x){m(x)}}),_.addEventListener("success",(0,l.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Ra)?g(w):(w.close(),yield function Gl(){const _=indexedDB.deleteDatabase(Zl);return new oo(_).toPromise()}(),g(yield ns()))}))})}function Us(_,g,m){return so.apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(_,g,m){const w=Mt(_,!0).put({[qr]:g,value:m});return new oo(w).toPromise()})).apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(_,g){const m=Mt(_,!1).get(g),w=yield new oo(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function js(_,g){const m=Mt(_,!0).delete(g);return new oo(m).toPromise()}const bi=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield ns()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let x=0;for(;;)try{const O=yield w._openDb();return yield m(O)}catch(O){if(x++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return Gr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Tu._getInstance(function Yp(){return Gr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(x,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(x,O){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(x,O){return["keyChanged"]});return function(x,O){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,x;if(m.activeServiceWorker=yield function pr(){return yr.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new dn(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=O[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Au(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ns();return yield Us(m,Hl,"1"),yield js(m,Hl),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var x=this;return(0,l.Z)(function*(){return x._withPendingWrite((0,l.Z)(function*(){return yield x._withRetries(O=>Us(O,m,w)),x.localCache[m]=w,x.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const x=yield w._withRetries(O=>function kr(_,g){return Bs.apply(this,arguments)}(O,m));return w.localCache[m]=x,x})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(x=>js(x,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(ne=>{const Te=Mt(ne,!1).getAll();return new oo(Te).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const x=[],O=new Set;for(const{fbase_key:ne,value:Te}of w)O.add(ne),JSON.stringify(m.localCache[ne])!==JSON.stringify(Te)&&(m.notifyListeners(ne,Te),x.push(ne));for(const ne of Object.keys(m.localCache))m.localCache[ne]&&!O.has(ne)&&(m.notifyListeners(ne,null),x.push(ne));return x})()}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const O of Array.from(x))O(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Oa(_,g){return Xt(_,"POST","/v2/accounts/mfaSignIn:start",qt(_,g))}function oi(){return(oi=(0,l.Z)(function*(_){return(yield Xt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hs(_){return new Promise((g,m)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=g,w.onerror=x=>{const O=ke("internal-error");O.customData=x,m(O)},w.type="text/javascript",w.charset="UTF-8",function ao(){var _,g;return null!==(g=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==g?g:document}().appendChild(w)})}function is(_){return`__${_}${Math.floor(1e6*Math.random())}`}const mn=1e12;class os{constructor(g){this.auth=g,this.counter=mn,this._widgets=new Map}render(g,m){const w=this.counter;return this._widgets.set(w,new Zs(g,this.auth.name,m||{})),this.counter++,w}reset(g){var m;const w=g||mn;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(g){var m;return(null===(m=this._widgets.get(g||mn))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(g||mn))||void 0===w||w.execute(),""})()}}class Zs{constructor(g,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;re(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function kn(_){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wi=is("rcb"),Mu=new ze(3e4,6e4);class Vi{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=fn().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return re(function Ui(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(fn().grecaptcha):new Promise((w,x)=>{const O=fn().setTimeout(()=>{x(ke(g,"network-request-failed"))},Mu.get());fn()[wi]=()=>{fn().clearTimeout(O),delete fn()[wi];const Te=fn().grecaptcha;if(!Te)return void x(ke(g,"internal-error"));const nt=Te.render;Te.render=(wt,Zt)=>{const Vn=nt(wt,Zt);return this.counter++,Vn},this.hostLanguage=m,w(Te)},Hs(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:wi,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),x(ke(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=fn().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gs{load(g){return(0,l.Z)(function*(){return new os(g)})()}clearedOneInstance(){}}const Bt="recaptcha",ku={theme:"light",type:"image"};class sf{constructor(g,m=Object.assign({},ku),w){this.parameters=m,this.type=Bt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gn(w),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;re(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gs:new Vi,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(m)||new Promise(O=>{const ne=Te=>{!Te||(g.tokenChangeListeners.delete(ne),O(Te))};g.tokenChangeListeners.add(ne),g.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof g)g(m);else if("string"==typeof g){const w=fn()[g];"function"==typeof w&&w(m)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){re(Ue()&&!Gr(),g.auth,"internal-error"),yield function Qp(){let _=null;return new Promise(g=>{"complete"!==document.readyState?(_=()=>g(),window.addEventListener("load",_)):g()}).catch(g=>{throw _&&window.removeEventListener("load",_),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function $s(_){return oi.apply(this,arguments)}(g.auth);re(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class md{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=So._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function af(_,g,m){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,l.Z)(function*(_,g,m){const w=Gn(_),x=yield on(w,g,(0,U.m9)(m));return new md(x,O=>yu(w,O))})).apply(this,arguments)}function ko(_,g,m){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(_,g,m){const w=(0,U.m9)(_);yield Ss(!1,w,"phone");const x=yield on(w.auth,g,(0,U.m9)(m));return new md(x,O=>Yo(w,O))})).apply(this,arguments)}function Jp(_,g,m){return Na.apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(_,g,m){const w=(0,U.m9)(_),x=yield on(w.auth,g,(0,U.m9)(m));return new md(x,O=>xl(w,O))})).apply(this,arguments)}function on(_,g,m){return ss.apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(_,g,m){var w;const x=yield m.verify();try{let O;if(re("string"==typeof x,_,"argument-error"),re(m.type===Bt,_,"argument-error"),O="string"==typeof g?{phoneNumber:g}:g,"session"in O){const ne=O.session;if("phoneNumber"in O)return re("enroll"===ne.type,_,"internal-error"),(yield Yn(_,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{re("signin"===ne.type,_,"internal-error");const Te=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return re(Te,_,"missing-multi-factor-info"),(yield Oa(_,{mfaPendingCredential:ne.credential,mfaEnrollmentId:Te,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield Hp(_,{phoneNumber:O.phoneNumber,recaptchaToken:x});return ne}}finally{m._reset()}})).apply(this,arguments)}function lo(_,g){return yd.apply(this,arguments)}function yd(){return(yd=(0,l.Z)(function*(_,g){yield ba((0,U.m9)(_),g)})).apply(this,arguments)}let uf=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Gn(m)}verifyPhoneNumber(m,w){return on(this.auth,m,(0,U.m9)(w))}static credential(m,w){return So._fromVerification(m,w)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:x}=m;return w&&x?So._fromTokenResponse(w,x):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Qn(_,g){return g?ie(g):(re(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class si extends qn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ao(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Ao(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Ao(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function vd(_){return Ko(_.auth,new si(_),_.bypassAuthState)}function Ru(_){const{auth:g,user:m}=_;return re(m,g,"internal-error"),xs(m,new si(_),_.bypassAuthState)}function as(_){return qs.apply(this,arguments)}function qs(){return(qs=(0,l.Z)(function*(_){const{auth:g,user:m}=_;return re(m,g,"internal-error"),ba(m,new si(_),_.bypassAuthState)})).apply(this,arguments)}class Ou{constructor(g,m,w,x,O=!1){this.auth=g,this.resolver=w,this.user=x,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,l.Z)(function*(w,x){g.pendingPromise={resolve:w,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(O){g.reject(O)}});return function(w,x){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:O,tenantId:ne,error:Te,type:nt}=g;if(Te)return void m.reject(Te);const wt={auth:m.auth,requestUri:w,sessionId:x,tenantId:ne||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(nt)(wt))}catch(Zt){m.reject(Zt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return vd;case"linkViaPopup":case"linkViaRedirect":return as;case"reauthViaPopup":case"reauthViaRedirect":return Ru;default:Ze(this.auth,"internal-error")}}resolve(g){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yl=new ze(2e3,1e4);function _d(_,g,m){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,l.Z)(function*(_,g,m){const w=Gn(_);Ce(_,g,to);const x=Qn(w,m);return new wd(w,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function Pu(_,g,m){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.Z)(function*(_,g,m){const w=(0,U.m9)(_);Ce(w.auth,g,to);const x=Qn(w.auth,m);return new wd(w.auth,"reauthViaPopup",g,x,w).executeNotNull()})).apply(this,arguments)}function bd(_,g,m){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,l.Z)(function*(_,g,m){const w=(0,U.m9)(_);Ce(w.auth,g,to);const x=Qn(w.auth,m);return new wd(w.auth,"linkViaPopup",g,x,w).executeNotNull()})).apply(this,arguments)}let wd=(()=>{class _ extends Ou{constructor(m,w,x,O,ne){super(m,w,O,ne),this.provider=x,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return re(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){Ie(1===m.filter.length,"Popup operations only handle one event");const w=ts();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(ke(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,x;this.pollId=null!==(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Yl.get())};m()}}return _.currentPopupAction=null,_})();const Ei=new Map;class Fu extends Ou{constructor(g,m,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=Ei.get(m.auth._key());if(!w){try{const O=(yield function lf(_,g){return Ql.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;w=()=>Promise.resolve(O)}catch(x){w=()=>Promise.reject(x)}Ei.set(m.auth._key(),w)}return m.bypassAuthState||Ei.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(w,g);if("unknown"!==g.type){if(g.eventId){const x=yield w.auth._redirectUserForId(g.eventId);if(x)return w.user=x,m().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Ql(){return(Ql=(0,l.Z)(function*(_,g){const m=Ws(g),w=cf(_);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(m));return yield w._remove(m),x})).apply(this,arguments)}function co(_,g){return ai.apply(this,arguments)}function ai(){return(ai=(0,l.Z)(function*(_,g){return cf(_)._set(Ws(g),"true")})).apply(this,arguments)}function Bi(){Ei.clear()}function zs(_,g){Ei.set(_._key(),g)}function cf(_){return ie(_._redirectPersistence)}function Ws(_){return Qt("pendingRedirect",_.config.apiKey,_.name)}function Jn(_,g,m){return function Ur(_,g,m){return Ed.apply(this,arguments)}(_,g,m)}function Ed(){return(Ed=(0,l.Z)(function*(_,g,m){const w=Gn(_);Ce(_,g,to);const x=Qn(w,m);return yield co(x,w),x._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function I(_,g,m){return function D(_,g,m){return M.apply(this,arguments)}(_,g,m)}function M(){return(M=(0,l.Z)(function*(_,g,m){const w=(0,U.m9)(_);Ce(w.auth,g,to);const x=Qn(w.auth,m);yield co(x,w.auth);const O=yield Ye(w);return x._openRedirect(w.auth,g,"reauthViaRedirect",O)})).apply(this,arguments)}function F(_,g,m){return function Y(_,g,m){return le.apply(this,arguments)}(_,g,m)}function le(){return(le=(0,l.Z)(function*(_,g,m){const w=(0,U.m9)(_);Ce(w.auth,g,to);const x=Qn(w.auth,m);yield Ss(!1,w,g.providerId),yield co(x,w.auth);const O=yield Ye(w);return x._openRedirect(w.auth,g,"linkViaRedirect",O)})).apply(this,arguments)}function Ee(_,g){return We.apply(this,arguments)}function We(){return(We=(0,l.Z)(function*(_,g){return yield Gn(_)._initializationPromise,gt(_,g,!1)})).apply(this,arguments)}function gt(_,g){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(_,g,m=!1){const w=Gn(_),x=Qn(w,g),ne=yield new Fu(w,x,m).execute();return ne&&!m&&(delete ne.user._redirectEventId,yield w._persistUserIfCurrent(ne.user),yield w._setRedirectUser(null,g)),ne})).apply(this,arguments)}function Ye(_){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(_){const g=ts(`${_.uid}:::`);return _._redirectEventId=g,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),g})).apply(this,arguments)}class jn{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(m=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ro(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ci(_);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var w;if(g.error&&!Ci(g)){const x=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ke(this.auth,x))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const w=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ls(g))}saveEventToCache(g){this.cachedEventUids.add(ls(g)),this.lastProcessedEventTime=Date.now()}}function ls(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(g=>g).join("-")}function Ci({type:_,error:g}){return"unknown"===_&&"auth/no-auth-event"===g?.code}function Ks(_){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,l.Z)(function*(_,g={}){return Xt(_,"GET","/v1/projects",g)})).apply(this,arguments)}const ji=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ui=/^https?/;function Pa(){return(Pa=(0,l.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:g}=yield Ks(_);for(const m of g)try{if(df(m))return}catch{}Ze(_,"unauthorized-domain")})).apply(this,arguments)}function df(_){const g=ue(),{protocol:m,hostname:w}=new URL(g);if(_.startsWith("chrome-extension://")){const ne=new URL(_);return""===ne.hostname&&""===w?"chrome-extension:"===m&&_.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&ne.hostname===w}if(!ui.test(m))return!1;if(ji.test(_))return w===_;const x=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const Cd=new ze(3e4,6e4);function Ys(){const _=fn().___jsl;if(_?.H)for(const g of Object.keys(_.H))if(_.H[g].r=_.H[g].r||[],_.H[g].L=_.H[g].L||[],_.H[g].r=[..._.H[g].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Id=null;function lb(_){return Id=Id||function Lu(_){return new Promise((g,m)=>{var w,x,O;function ne(){Ys(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ys(),m(ke(_,"network-request-failed"))},timeout:Cd.get()})}if(null!==(x=null===(w=fn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==x&&x.Iframe)g(gapi.iframes.getContext());else{if(null===(O=fn().gapi)||void 0===O||!O.load){const Te=is("iframefcb");return fn()[Te]=()=>{gapi.load?ne():m(ke(_,"network-request-failed"))},Hs(`https://apis.google.com/js/api.js?onload=${Te}`).catch(nt=>m(nt))}ne()}}).catch(g=>{throw Id=null,g})}(_),Id}const Xp=new ze(5e3,15e3),Sy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function My(_){const g=_.config;re(g.authDomain,_,"auth-domain-config-required");const m=g.emulator?ln(g,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:_.name,v:R.SDK_VERSION},x=xy.get(_.config.apiHost);x&&(w.eid=x);const O=_._getFrameworks();return O.length&&(w.fw=O.join(",")),`${m}?${(0,U.xO)(w).slice(1)}`}function Jl(){return Jl=(0,l.Z)(function*(_){const g=yield lb(_),m=fn().gapi;return re(m,_,"internal-error"),g.open({where:document.body,url:My(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sy,dontclear:!0},w=>new Promise(function(){var x=(0,l.Z)(function*(O,ne){yield w.restyle({setHideOnLeave:!1});const Te=ke(_,"network-request-failed"),nt=fn().setTimeout(()=>{ne(Te)},Xp.get());function wt(){fn().clearTimeout(nt),O(w)}w.ping(wt).then(wt,()=>{ne(Te)})});return function(O,ne){return x.apply(this,arguments)}}()))}),Jl.apply(this,arguments)}const hf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xl(_,g,m,w,x,O){re(_.config.authDomain,_,"auth-domain-config-required"),re(_.config.apiKey,_,"invalid-api-key");const ne={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:w,v:R.SDK_VERSION,eventId:x};if(g instanceof to){g.setDefaultLanguage(_.languageCode),ne.providerId=g.providerId||"",(0,U.xb)(g.getCustomParameters())||(ne.customParameters=JSON.stringify(g.getCustomParameters()));for(const[nt,wt]of Object.entries(O||{}))ne[nt]=wt}if(g instanceof no){const nt=g.getScopes().filter(wt=>""!==wt);nt.length>0&&(ne.scopes=nt.join(","))}_.tenantId&&(ne.tid=_.tenantId);const Te=ne;for(const nt of Object.keys(Te))void 0===Te[nt]&&delete Te[nt];return`${function ec({config:_}){return _.emulator?ln(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,U.xO)(Te).slice(1)}`}const La="webStorageSupport",tc=class pf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ka,this._completeRedirectFn=gt,this._overrideRedirectResult=zs}_openPopup(g,m,w,x){var O=this;return(0,l.Z)(function*(){var ne;Ie(null===(ne=O.eventManagers[g._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const Te=Xl(g,m,w,ue(),x);return function ff(_,g,m,w=500,x=600){const O=Math.max((window.screen.availHeight-x)/2,0).toString(),ne=Math.max((window.screen.availWidth-w)/2,0).toString();let Te="";const nt=Object.assign(Object.assign({},hf),{width:w.toString(),height:x.toString(),top:O,left:ne}),wt=(0,U.z$)().toLowerCase();m&&(Te=be(wt)?"_blank":m),j(wt)&&(g=g||"http://localhost",nt.scrollbars="yes");const Zt=Object.entries(nt).reduce((fo,[Hi,rc])=>`${fo}${Hi}=${rc},`,"");if(function dr(_=(0,U.z$)()){var g;return At(_)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(wt)&&"_self"!==Te)return function ho(_,g){const m=document.createElement("a");m.href=_,m.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(g||"",Te),new Vu(null);const Vn=window.open(g||"",Te,Zt);re(Vn,_,"popup-blocked");try{Vn.focus()}catch{}return new Vu(Vn)}(g,Te,ts())})()}_openRedirect(g,m,w,x){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(g),function bt(_){fn().location.href=_}(Xl(g,m,w,ue(),x)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:x,promise:O}=this.eventManagers[m];return x?Promise.resolve(x):(Ie(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(g);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(g){var m=this;return(0,l.Z)(function*(){const w=yield function Td(_){return Jl.apply(this,arguments)}(g),x=new jn(g);return w.register("authEvent",O=>(re(O?.authEvent,g,"invalid-auth-event"),{status:x.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:x},m.iframes[g._key()]=w,x})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(La,{type:La},x=>{var O;const ne=null===(O=x?.[0])||void 0===O?void 0:O[La];void 0!==ne&&m(!!ne),Ze(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function li(_){return Pa.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return or()||$()||At()}};class xd extends class Sd{constructor(g){this.factorId=g}_process(g,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,w);case"signin":return this._finalizeSignIn(g,m.credential);default:return he("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new xd(g)}_finalizeEnroll(g,m,w){return function Cu(_,g){return Xt(_,"POST","/v2/accounts/mfaEnrollment:finalize",qt(_,g))}(g,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function rs(_,g){return Xt(_,"POST","/v2/accounts/mfaSignIn:finalize",qt(_,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let nc=(()=>{class _{constructor(){}static assertion(m){return xd._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var tg="@firebase/auth";class Oy{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(w=>{var x;g((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function $i(_){(0,R._registerComponent)(new ye.wA("auth",(g,{options:m})=>{const w=g.getProvider("app").getImmediate(),x=g.getProvider("heartbeat"),{apiKey:O,authDomain:ne}=w.options;return((Te,nt)=>{re(O&&!O.includes(":"),"invalid-api-key",{appName:Te.name}),re(!ne?.includes(":"),"argument-error",{appName:Te.name});const wt={apiKey:O,authDomain:ne,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Es(_)},Zt=new Vt(Te,nt,wt);return function _e(_,g){const m=g?.persistence||[],w=(Array.isArray(m)?m:[m]).map(ie);g?.errorMap&&_._updateErrorMap(g.errorMap),_._initializeWithPersistence(w,g?.popupRedirectResolver)}(Zt,m),Zt})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,w)=>{g.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new ye.wA("auth-internal",g=>{const m=Gn(g.getProvider("auth").getImmediate());return new Oy(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(tg,"0.20.5",function Md(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,R.registerVersion)(tg,"0.20.5","esm2017")}("Browser")},2090:(pt,Me,N)=>{N.d(Me,{$s:()=>wn,BH:()=>qe,G6:()=>re,L:()=>ce,LL:()=>ue,Mn:()=>Ce,Sg:()=>Re,UG:()=>ge,US:()=>ye,ZB:()=>Z,ZR:()=>_e,b$:()=>Ze,d:()=>ke,eu:()=>Ie,hl:()=>he,jU:()=>me,m9:()=>Zn,ne:()=>ft,pd:()=>Pn,r3:()=>qt,ru:()=>Ke,tV:()=>ve,uI:()=>He,vZ:()=>Tr,w1:()=>Oe,xO:()=>ni,xb:()=>vn,z$:()=>Ae,zI:()=>Q,zd:()=>mi});const se=function(H){const G=[];let V=0;for(let W=0;W<H.length;W++){let K=H.charCodeAt(W);K<128?G[V++]=K:K<2048?(G[V++]=K>>6|192,G[V++]=63&K|128):55296==(64512&K)&&W+1<H.length&&56320==(64512&H.charCodeAt(W+1))?(K=65536+((1023&K)<<10)+(1023&H.charCodeAt(++W)),G[V++]=K>>18|240,G[V++]=K>>12&63|128,G[V++]=K>>6&63|128,G[V++]=63&K|128):(G[V++]=K>>12|224,G[V++]=K>>6&63|128,G[V++]=63&K|128)}return G},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,G){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let K=0;K<H.length;K+=3){const xe=H[K],Ge=K+1<H.length,It=Ge?H[K+1]:0,nn=K+2<H.length,Qt=nn?H[K+2]:0;let j=(15&It)<<2|Qt>>6,$=63&Qt;nn||($=64,Ge||(j=64)),W.push(V[xe>>2],V[(3&xe)<<4|It>>4],V[j],V[$])}return W.join("")},encodeString(H,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(H):this.encodeByteArray(se(H),G)},decodeString(H,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(H):function(H){const G=[];let V=0,W=0;for(;V<H.length;){const K=H[V++];if(K<128)G[W++]=String.fromCharCode(K);else if(K>191&&K<224){const xe=H[V++];G[W++]=String.fromCharCode((31&K)<<6|63&xe)}else if(K>239&&K<365){const nn=((7&K)<<18|(63&H[V++])<<12|(63&H[V++])<<6|63&H[V++])-65536;G[W++]=String.fromCharCode(55296+(nn>>10)),G[W++]=String.fromCharCode(56320+(1023&nn))}else{const xe=H[V++],Ge=H[V++];G[W++]=String.fromCharCode((15&K)<<12|(63&xe)<<6|63&Ge)}}return G.join("")}(this.decodeStringToByteArray(H,G))},decodeStringToByteArray(H,G){this.init_();const V=G?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let K=0;K<H.length;){const xe=V[H.charAt(K++)],It=K<H.length?V[H.charAt(K)]:0;++K;const Qt=K<H.length?V[H.charAt(K)]:64;++K;const J=K<H.length?V[H.charAt(K)]:64;if(++K,null==xe||null==It||null==Qt||null==J)throw Error();W.push(xe<<2|It>>4),64!==Qt&&(W.push(It<<4&240|Qt>>2),64!==J&&W.push(Qt<<6&192|J))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ce=function(H){return function(H){const G=se(H);return ye.encodeByteArray(G,!0)}(H).replace(/\./g,"")},ve=function(H){try{return ye.decodeString(H,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function Z(H,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return G}for(const V in G)!G.hasOwnProperty(V)||!te(V)||(H[V]=Z(H[V],G[V]));return H}function te(H){return"__proto__"!==H}class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,V)=>{this.resolve=G,this.reject=V})}wrapCallback(G){return(V,W)=>{V?this.reject(V):this.resolve(W),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(V):G(V,W))}}}function Re(H,G){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=G||"demo-project",K=H.iat||0,xe=H.sub||H.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:K,exp:K+3600,auth_time:K,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Ge)),""].join(".")}function Ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function me(){return"object"==typeof self&&self.self===self}function Ke(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){return Ae().indexOf("Electron/")>=0}function Oe(){const H=Ae();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ce(){return Ae().indexOf("MSAppHost/")>=0}function re(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"object"==typeof indexedDB}function Ie(){return new Promise((H,G)=>{try{let V=!0;const W="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(W);K.onsuccess=()=>{K.result.close(),V||self.indexedDB.deleteDatabase(W),H(!0)},K.onupgradeneeded=()=>{V=!1},K.onerror=()=>{var xe;G((null===(xe=K.error)||void 0===xe?void 0:xe.message)||"")}}catch(V){G(V)}})}function Q(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _e extends Error{constructor(G,V,W){super(V),this.code=G,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ue.prototype.create)}}class ue{constructor(G,V,W){this.service=G,this.serviceName=V,this.errors=W}create(G,...V){const W=V[0]||{},K=`${this.service}/${G}`,xe=this.errors[G],Ge=xe?function Ue(H,G){return H.replace(yt,(V,W)=>{const K=G[W];return null!=K?String(K):`<${W}?>`})}(xe,W):"Error";return new _e(K,`${this.serviceName}: ${Ge} (${K}).`,W)}}const yt=/\{\$([^}]+)}/g;function qt(H,G){return Object.prototype.hasOwnProperty.call(H,G)}function vn(H){for(const G in H)if(Object.prototype.hasOwnProperty.call(H,G))return!1;return!0}function Tr(H,G){if(H===G)return!0;const V=Object.keys(H),W=Object.keys(G);for(const K of V){if(!W.includes(K))return!1;const xe=H[K],Ge=G[K];if(Tn(xe)&&Tn(Ge)){if(!Tr(xe,Ge))return!1}else if(xe!==Ge)return!1}for(const K of W)if(!V.includes(K))return!1;return!0}function Tn(H){return null!==H&&"object"==typeof H}function ni(H){const G=[];for(const[V,W]of Object.entries(H))Array.isArray(W)?W.forEach(K=>{G.push(encodeURIComponent(V)+"="+encodeURIComponent(K))}):G.push(encodeURIComponent(V)+"="+encodeURIComponent(W));return G.length?"&"+G.join("&"):""}function mi(H){const G={};return H.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[K,xe]=W.split("=");G[decodeURIComponent(K)]=decodeURIComponent(xe)}}),G}function Pn(H){const G=H.indexOf("?");if(!G)return"";const V=H.indexOf("#",G);return H.substring(G,V>0?V:void 0)}function ft(H,G){const V=new Ar(H,G);return V.subscribe.bind(V)}class Ar{constructor(G,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{G(this)}).catch(W=>{this.error(W)})}next(G){this.forEachObserver(V=>{V.next(G)})}error(G){this.forEachObserver(V=>{V.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,V,W){let K;if(void 0===G&&void 0===V&&void 0===W)throw new Error("Missing Observer.");K=function en(H,G){if("object"!=typeof H||null===H)return!1;for(const V of G)if(V in H&&"function"==typeof H[V])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:V,complete:W},void 0===K.next&&(K.next=nr),void 0===K.error&&(K.error=nr),void 0===K.complete&&(K.complete=nr);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),xe}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,G)}sendOne(G,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{V(this.observers[G])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nr(){}function wn(H,G=1e3,V=2){const W=G*Math.pow(V,H),K=Math.round(.5*W*(Math.random()-.5)*2);return Math.min(144e5,W+K)}function Zn(H){return H&&H._delegate?H._delegate:H}},6235:(pt,Me,N)=>{var l=N(4650);let U=null;function R(){return U}const fe=new l.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(){return(0,l.LFG)(Z)}()},providedIn:"platform"}),n})();const z=new l.OlP("Location Initialized");let Z=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){te()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){te()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function qe(){return new Z((0,l.LFG)(fe))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function me(){const n=(0,l.LFG)(fe).location;return new Ze((0,l.LFG)(ce),n&&n.origin||"")}()},providedIn:"root"}),n})();const Ke=new l.OlP("appBaseHref");let Ze=(()=>{class n extends ge{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+He(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const d=this.prepareExternalUrl(i+He(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){const d=this.prepareExternalUrl(i+He(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(Ke,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let d=this.prepareExternalUrl(i+He(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){let d=this.prepareExternalUrl(i+He(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(Ke,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Ae(re(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+He(r))}normalize(t){return n.stripTrailingSlash(function Qe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,re(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=He,n.joinWithSlash=Re,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ce(){return new Oe((0,l.LFG)(ge))}()},providedIn:"root"}),n})();function re(n){return n.replace(/\/index.html$/,"")}class Cs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Cs(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,d),zn(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{zn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function zn(n,e){n.context.$implicit=e.item}let Wn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new xr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Il("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Il("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class xr{constructor(){this.$implicit=null,this.ngIf=null}}function Il(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let ya=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,u]=t.split("."),d=-1===i.indexOf("-")?void 0:l.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,u?`${r}${u}`:r,d):this._renderer.removeStyle(this._ngEl.nativeElement,i,d)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();let Wh=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw function Ni(n,e){return new l.vHH(2100,!1)}();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"uppercase",type:n,pure:!0}),n})(),Pi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function dd(n){return"server"===n}let Qh=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new cn((0,l.LFG)(fe),window)}),n})();class cn{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ba(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Wo(this.window.history)||Wo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Wo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xs extends class Cn extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){U||(U=n)}(new xs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ko(){return Ms=Ms||document.querySelector("base"),Ms?Ms.getAttribute("href"):null}();return null==t?null:function yu(n){Kn=Kn||document.createElement("a"),Kn.setAttribute("href",n);const e=Kn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ms=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function El(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Kn,Ms=null;const xn=new l.OlP("TRANSITION_ID"),fr=[{provide:l.ip1,useFactory:function Yo(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[xn,fe,l.zs3],multi:!0}];let Qo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const wa=new l.OlP("EventManagerPlugins");let Mr=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const d=i[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wa),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ea{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let xo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),_t=(()=>{class n extends xo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ks),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ks))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ks(n){R().remove(n)}const Ca={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ml=/%COMP%/g;function Ut(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ut(n,i,t):(i=i.replace(Ml,n),t.push(i))}return t}function Rl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ln=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Jo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Ol(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new Xh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ut(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mr),l.LFG(_t),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Jo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ca[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ns(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ns(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Ca[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ca[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Rl(r)):this.eventManager.addEventListener(e,t,Rl(r))}}function Ns(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ol extends Jo{constructor(e,t,r,i){super(e),this.component=r;const u=Ut(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Ia(n){return"_ngcontent-%COMP%".replace(Ml,n)}(i+"-"+r.id),this.hostAttr=function Ne(n){return"_nghost-%COMP%".replace(Ml,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Xh extends Jo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ut(i.id,i.styles,[]);for(let d=0;d<u.length;d++){const p=document.createElement("style");p.textContent=u[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Nl=(()=>{class n extends Ea{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Pl=["alt","control","meta","shift"],mr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fi=(()=>{class n extends Ea{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let d="";if(Pl.forEach(v=>{const E=r.indexOf(v);E>-1&&(r.splice(E,1),d+=v+".")}),d+=u,0!=r.length||0===u.length)return null;const p={};return p.domEventName=i,p.fullKey=d,p}static getEventFullKey(t){let r="",i=function ro(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Vr.hasOwnProperty(e)&&(e=Vr[e]))}return mr[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Pl.forEach(u=>{u!=i&&hd[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Fs=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function ef(){xs.makeCurrent()},multi:!0},{provide:fe,useFactory:function Fl(){return(0,l.RDi)(document),document},deps:[]}]),Aa=new l.OlP(""),_u=[{provide:l.rWj,useClass:class xl{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let u=i.length,d=!1;const p=function(v){d=d||v,u--,0==u&&r(d)};i.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Li=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function es(){return new l.qLn},deps:[]},{provide:wa,useClass:Nl,multi:!0,deps:[fe,l.R0b,l.Lbi]},{provide:wa,useClass:Fi,multi:!0,deps:[fe]},{provide:Ln,useClass:Ln,deps:[Mr,_t,l.AFp]},{provide:l.FYo,useExisting:Ln},{provide:xo,useExisting:_t},{provide:_t,useClass:_t,deps:[fe]},{provide:Mr,useClass:Mr,deps:[wa,l.R0b]},{provide:class Ss{},useClass:Qo,deps:[]},[]];let Vl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:xn,useExisting:l.AFp},fr]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Aa,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Li,..._u],imports:[Pi,l.hGG]}),n})(),wu=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function bu(){return new wu((0,l.LFG)(fe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var dn=N(8996),fn=N(7669);function bt(...n){const e=(0,fn.yG)(n);return(0,dn.D)(n,e)}var Gr=N(7579);class pr extends Gr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var yr=N(8306);const{isArray:Au}=Array,{getPrototypeOf:Yp,prototype:Zl,keys:Su}=Object;function Ra(n){if(1===n.length){const e=n[0];if(Au(e))return{args:e,keys:null};if(function qr(n){return n&&"object"==typeof n&&Yp(n)===Zl}(e)){const t=Su(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var oo=N(4671),Mt=N(4004);const{isArray:Gl}=Array;function Us(n){return(0,Mt.U)(e=>function ns(n,e){return Gl(e)?n(...e):n(e)}(n,e))}function so(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var kr=N(5403),Bs=N(9672);function js(...n){const e=(0,fn.yG)(n),t=(0,fn.jO)(n),{args:r,keys:i}=Ra(n);if(0===r.length)return(0,dn.D)([],e);const u=new yr.y(function ql(n,e,t=oo.y){return r=>{xu(e,()=>{const{length:i}=n,u=new Array(i);let d=i,p=i;for(let v=0;v<i;v++)xu(e,()=>{const E=(0,dn.D)(n[v],e);let A=!1;E.subscribe((0,kr.x)(r,S=>{u[v]=S,A||(A=!0,p--),p||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>so(i,d):oo.y));return t?u.pipe(Us(t)):u}function xu(n,e,t){n?(0,Bs.f)(t,n,e):e()}var gd=N(576);function bi(n,e){const t=(0,gd.m)(n)?n:()=>n,r=i=>i.error(t());return new yr.y(e?i=>e.schedule(r,0,i):r)}const rs=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var $s=N(8189);function ao(...n){return function oi(){return(0,$s.J)(1)}()((0,dn.D)(n,(0,fn.yG)(n)))}var Hs=N(8421);function is(n){return new yr.y(e=>{(0,Hs.Xf)(n()).subscribe(e)})}var uo=N(515),zl=N(727),mn=N(4482);function os(){return(0,mn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,kr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Zs extends yr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,mn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new zl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,kr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=zl.w0.EMPTY)}return e}refCount(){return os()(this)}}function kn(n,e){return(0,mn.e)((t,r)=>{let i=null,u=0,d=!1;const p=()=>d&&!i&&r.complete();t.subscribe((0,kr.x)(r,v=>{i?.unsubscribe();let E=0;const A=u++;(0,Hs.Xf)(n(v,A)).subscribe(i=(0,kr.x)(r,S=>r.next(e?e(v,S,A,E++):S),()=>{i=null,p()}))},()=>{d=!0,p()}))})}var wi=N(5698);function Mu(...n){const e=(0,fn.yG)(n);return(0,mn.e)((t,r)=>{(e?ao(n,t,e):ao(n,t)).subscribe(r)})}function Wl(n,e,t,r,i){return(u,d)=>{let p=t,v=e,E=0;u.subscribe((0,kr.x)(d,A=>{const S=E++;v=p?n(v,A,S):(p=!0,A),r&&d.next(v)},i&&(()=>{p&&d.next(v),d.complete()})))}}function Vi(n,e){return(0,mn.e)(Wl(n,e,arguments.length>=2,!0))}function Ui(n,e){return(0,mn.e)((t,r)=>{let i=0;t.subscribe((0,kr.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}function Gs(n){return(0,mn.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,kr.x)(t,void 0,void 0,d=>{u=(0,Hs.Xf)(n(d,Gs(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Bt=N(5577);function ku(n,e){return(0,gd.m)(e)?(0,Bt.z)(n,e,1):(0,Bt.z)(n,1)}function sf(n){return n<=0?()=>uo.E:(0,mn.e)((e,t)=>{let r=[];e.subscribe((0,kr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Qp(n=md){return(0,mn.e)((e,t)=>{let r=!1;e.subscribe((0,kr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function md(){return new rs}function af(n){return(0,mn.e)((e,t)=>{let r=!1;e.subscribe((0,kr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ko(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ui((i,u)=>n(i,u,r)):oo.y,(0,wi.q)(1),t?af(e):Qp(()=>new rs))}var Rn=N(8505);function Na(n){return(0,mn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class on{constructor(e,t){this.id=e,this.url=t}}class ss extends on{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lo extends on{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yd extends on{constructor(e,t,r){super(e,t),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uf extends on{constructor(e,t,r){super(e,t),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qn extends on{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class si extends on{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vd extends on{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ru extends on{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class as extends on{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qs{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ou{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yl{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _d{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nu{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pu{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Nt="primary";class wd{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function us(n){return new wd(n)}const Ei="ngNavigationCancelingError";function Fu(n){const e=Error("NavigationCancelingError: "+n);return e[Ei]=!0,e}function Ql(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const d=r[u],p=n[u];if(d.startsWith(":"))i[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ai(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Bi(n[i],e[i]))return!1;return!0}function Bi(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function zs(n){return Array.prototype.concat.apply([],n)}function cf(n){return n.length>0?n[n.length-1]:null}function Jn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ur(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,dn.D)(Promise.resolve(n)):bt(n)}const I={exact:function Y(n,e,t){if(!jn(n.segments,e.segments)||!gt(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Y(n.children[r],e.children[r],t))return!1;return!0},subset:Ee},D={exact:function F(n,e){return ai(n,e)},subset:function le(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Bi(n[t],e[t]))},ignored:()=>!0};function M(n,e,t){return I[t.paths](n.root,e.root,t.matrixParams)&&D[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ee(n,e,t){return We(n,e,e.segments,t)}function We(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!jn(i,t)||e.hasChildren()||!gt(i,t,r))}if(n.segments.length===t.length){if(!jn(n.segments,t)||!gt(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Ee(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(jn(n.segments,i)&&gt(n.segments,i,r)&&n.children[Nt])&&We(n.children[Nt],e,u,r)}}function gt(n,e,t){return e.every((r,i)=>D[t](n[i].parameters,r.parameters))}class Dt{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=us(this.queryParams)),this._queryParamMap}toString(){return Ks.serialize(this)}}class Ye{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Jn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oo(this)}}class mt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=us(this.parameters)),this._parameterMap}toString(){return Lu(this)}}function jn(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Ci{}class Ro{parse(e){const t=new Td(e);return new Dt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ji(e.root,!0)}`,r=function lb(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${li(t)}=${li(i)}`).join("&"):`${li(t)}=${li(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Pa(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ks=new Ro;function Oo(n){return n.segments.map(e=>Lu(e)).join("/")}function ji(n,e){if(!n.hasChildren())return Oo(n);if(e){const t=n.children[Nt]?ji(n.children[Nt],!1):"",r=[];return Jn(n.children,(i,u)=>{u!==Nt&&r.push(`${u}:${ji(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ls(n,e){let t=[];return Jn(n.children,(r,i)=>{i===Nt&&(t=t.concat(e(r,i)))}),Jn(n.children,(r,i)=>{i!==Nt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Nt?[ji(n.children[Nt],!1)]:[`${i}:${ji(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Nt]?`${Oo(n)}/${t[0]}`:`${Oo(n)}/(${t.join("//")})`}}function ui(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function li(n){return ui(n).replace(/%3B/gi,";")}function df(n){return ui(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cd(n){return decodeURIComponent(n)}function Ys(n){return Cd(n.replace(/\+/g,"%20"))}function Lu(n){return`${df(n.path)}${function Id(n){return Object.keys(n).map(e=>`;${df(e)}=${df(n[e])}`).join("")}(n.parameters)}`}const Xp=/^[^\/()?;=#]+/;function Dd(n){const e=n.match(Xp);return e?e[0]:""}const cb=/^[^=?&#]+/,xy=/^[^&#]+/;class Td{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Nt]=new Ye(e,t)),r}parseSegment(){const e=Dd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new mt(Cd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Dd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Dd(this.remaining);i&&(r=i,this.capture(r))}e[Cd(t)]=Cd(r)}parseQueryParam(e){const t=function Sy(n){const e=n.match(cb);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function My(n){const e=n.match(xy);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=Ys(t),u=Ys(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Nt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Nt]:new Ye([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Jl{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=hf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ad(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ad(e,this._root).map(t=>t.value)}}function hf(n,e){if(n===e.value)return e;for(const t of e.children){const r=hf(n,t);if(r)return r}return null}function Ad(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ad(n,t);if(r.length)return r.unshift(e),r}return[]}class Qs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ky extends Jl{constructor(e,t){super(e),this.snapshot=t,La(this,e)}toString(){return this.snapshot.toString()}}function Vu(n,e){const t=function ff(n,e){const d=new Xl([],{},{},"",{},Nt,e,null,n.root,-1,{});return new ec("",new Qs(d,[]))}(n,e),r=new pr([new mt("",{})]),i=new pr({}),u=new pr({}),d=new pr({}),p=new pr(""),v=new ho(r,i,d,p,u,Nt,e,t.root);return v.snapshot=t.root,new ky(new Qs(v,[]),t)}class ho{constructor(e,t,r,i,u,d,p,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=p,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.U)(e=>us(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.U)(e=>us(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eg(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function Ry(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Xl{constructor(e,t,r,i,u,d,p,v,E,A,S,L){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=p,this.routeConfig=v,this._urlSegment=E,this._lastPathIndex=A,this._correctedLastPathIndex=L??A,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=us(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=us(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ec extends Jl{constructor(e,t){super(t),this.url=e,La(this,t)}toString(){return pf(this._root)}}function La(n,e){e.value._routerState=n,e.children.forEach(t=>La(n,t))}function pf(n){const e=n.children.length>0?` { ${n.children.map(pf).join(", ")} } `:"";return`${n.value}${e}`}function tc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ai(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ai(e.params,t.params)||n.params.next(t.params),function co(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ai(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ai(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Sd(n,e){const t=ai(n.params,e.params)&&function vr(n,e){return jn(n,e)&&n.every((t,r)=>ai(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Sd(n.parent,e.parent))}function nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function tg(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nc(n,r,i);return nc(n,r)})}(n,e,t);return new Qs(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(p=>nc(n,p)),d}}const r=function ng(n){return new ho(new pr(n.url),new pr(n.params),new pr(n.queryParams),new pr(n.fragment),new pr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>nc(n,u));return new Qs(r,i)}}function Md(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $i(n){return"object"==typeof n&&null!=n&&n.outlets}function Uu(n,e,t,r,i){let u={};if(r&&Jn(r,(p,v)=>{u[v]=Array.isArray(p)?p.map(E=>`${E}`):`${p}`}),n===e)return new Dt(t,u,i);const d=_(n,e,t);return new Dt(d,u,i)}function _(n,e,t){const r={};return Jn(n.children,(i,u)=>{r[u]=i===e?t:_(i,e,t)}),new Ye(n.segments,r)}class g{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Md(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find($i);if(i&&i!==cf(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class w{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Te(n,e,t){if(n||(n=new Ye([],{})),0===n.segments.length&&n.hasChildren())return nt(n,e,t);const r=function wt(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const d=n.segments[i],p=t[r];if($i(p))break;const v=`${p}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&E&&"object"==typeof E&&void 0===E.outlets){if(!Hi(v,E,d))return u;r+=2}else{if(!Hi(v,{},d))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Ye(n.segments.slice(0,r.pathIndex),{});return u.children[Nt]=new Ye(n.segments.slice(r.pathIndex),n.children),nt(u,0,i)}return r.match&&0===i.length?new Ye(n.segments,{}):r.match&&!n.hasChildren()?Zt(n,e,t):r.match?nt(n,0,i):Zt(n,e,t)}function nt(n,e,t){if(0===t.length)return new Ye(n.segments,{});{const r=function ne(n){return $i(n[0])?n[0].outlets:{[Nt]:n}}(t),i={};return Jn(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[d]=Te(n.children[d],e,u))}),Jn(n.children,(u,d)=>{void 0===r[d]&&(i[d]=u)}),new Ye(n.segments,i)}}function Zt(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if($i(u)){const v=Vn(u.outlets);return new Ye(r,v)}if(0===i&&Md(t[0])){r.push(new mt(n.segments[e].path,fo(t[0]))),i++;continue}const d=$i(u)?u.outlets[Nt]:`${u}`,p=i<t.length-1?t[i+1]:null;d&&p&&Md(p)?(r.push(new mt(d,fo(p))),i+=2):(r.push(new mt(d,{})),i++)}return new Ye(r,{})}function Vn(n){const e={};return Jn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Zt(new Ye([],{}),0,t))}),e}function fo(n){const e={};return Jn(n,(t,r)=>e[r]=`${t}`),e}function Hi(n,e,t){return n==t.path&&ai(e,t.parameters)}class rc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new zr,this.attachRef=null}}class zr{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new rc,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let cs=(()=>{class n{constructor(t,r,i,u,d){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=i||Nt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,v=new gf(t,p,i.injector);if(r&&function mf(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(d);this.activated=i.createComponent(E,i.length,v)}else this.activated=i.createComponent(d,{index:i.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zr),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class gf{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ho?this.route:e===zr?this.childContexts:this.parent.get(e,t)}}let ic=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[cs],encapsulation:2}),n})();function rg(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Py(n){const e=n.children&&n.children.map(Py),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Nt&&(t.component=ic),t}function No(n){return n.outlet||Nt}function pb(n,e){const t=n.filter(r=>No(r)===e);return t.push(...n.filter(r=>No(r)!==e)),t}function gb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class og{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),tc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Fa(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,i[d],r),delete i[d]}),Jn(i,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Fa(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);if(r&&r.outlet){const d=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Fa(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Fa(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new Pu(u.value.snapshot))}),e.children.length&&this.forwardEvent(new _d(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(tc(i),i===u)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),tc(p.route.value),this.activateChildRoutes(e,null,d.children)}else{const p=gb(i.snapshot),v=p?.get(l._Vd)??null;d.attachRef=null,d.route=i,d.resolver=v,d.injector=p,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}function Bu(n){return"function"==typeof n}function oc(n){return n instanceof Dt}const kd=Symbol("INITIAL_VALUE");function vf(){return kn(n=>js(n.map(e=>e.pipe((0,wi.q)(1),Mu(kd)))).pipe(Vi((e,t)=>{let r=!1;return t.reduce((i,u,d)=>i!==kd?i:(u===kd&&(r=!0),r||!1!==u&&d!==t.length-1&&!oc(u)?i:u),e)},kd),Ui(e=>e!==kd),(0,Mt.U)(e=>oc(e)?e:!0===e),(0,wi.q)(1)))}const yb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...yb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ql)(t,n,e);if(!i)return{...yb};const u={};Jn(i.posParams,(p,v)=>{u[v]=p.path});const d=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function ag(n,e,t,r,i="corrected"){if(t.length>0&&function M1(n,e,t){return t.some(r=>Rd(n,e,r)&&No(r)!==Nt)}(n,t,r)){const d=new Ye(e,function x1(n,e,t,r){const i={};i[Nt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&No(u)!==Nt){const d=new Ye([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[No(u)]=d}return i}(n,e,r,new Ye(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function _f(n,e,t){return t.some(r=>Rd(n,e,r))}(n,t,r)){const d=new Ye(n.segments,function rD(n,e,t,r,i,u){const d={};for(const p of r)if(Rd(n,t,p)&&!i[No(p)]){const v=new Ye([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[No(p)]=v}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Ye(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Rd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vb(n,e,t,r){return!!(No(n)===r||r!==Nt&&Rd(e,t,n))&&("**"===n.path||sg(e,n,t).matched)}function ug(n,e,t){return 0===e.length&&!n.children[t]}class ju{constructor(e){this.segmentGroup=e||null}}class _b{constructor(e){this.urlTree=e}}function bf(n){return bi(new ju(n))}function bb(n){return bi(new _b(n))}class sD{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=ag(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ye(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Nt).pipe((0,Mt.U)(u=>this.createUrlTree(wf(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gs(u=>{if(u instanceof _b)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ju?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Nt).pipe((0,Mt.U)(i=>this.createUrlTree(wf(i),e.queryParams,e.fragment))).pipe(Gs(i=>{throw i instanceof ju?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ye([],{[Nt]:e}):e;return new Dt(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Mt.U)(u=>new Ye([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,dn.D)(i).pipe(ku(u=>{const d=r.children[u],p=pb(t,u);return this.expandSegmentGroup(e,p,d,u).pipe((0,Mt.U)(v=>({segment:v,outlet:u})))}),Vi((u,d)=>(u[d.outlet]=d.segment,u),{}),function Kl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ui((i,u)=>n(i,u,r)):oo.y,sf(1),t?af(e):Qp(()=>new rs))}())}expandSegment(e,t,r,i,u,d){return(0,dn.D)(r).pipe(ku(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,d).pipe(Gs(E=>{if(E instanceof ju)return bt(null);throw E}))),ko(p=>!!p),Gs((p,v)=>{if(p instanceof rs||"EmptyError"===p.name)return ug(t,i,u)?bt(new Ye([],{})):bf(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,d,p){return vb(i,t,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d):bf(t):bf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bb(u):this.lineralizeSegments(r,u).pipe((0,Bt.z)(d=>{const p=new Ye(d,{});return this.expandSegment(e,p,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){const{matched:p,consumedSegments:v,remainingSegments:E,positionalParamSegments:A}=sg(t,i,u);if(!p)return bf(t);const S=this.applyRedirectCommands(v,i.redirectTo,A);return i.redirectTo.startsWith("/")?bb(S):this.lineralizeSegments(i,S).pipe((0,Bt.z)(L=>this.expandSegment(e,t,r,L.concat(E),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return e=rg(r,e),r.loadChildren?(r._loadedRoutes?bt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Mt.U)(S=>(r._loadedRoutes=S.routes,r._loadedInjector=S.injector,new Ye(i,{})))):bt(new Ye(i,{}));const{matched:d,consumedSegments:p,remainingSegments:v}=sg(t,r,i);return d?(e=rg(r,e),this.getChildConfig(e,r,i).pipe((0,Bt.z)(A=>{const S=A.injector??e,L=A.routes,{segmentGroup:q,slicedSegments:ee}=ag(t,p,v,L),Pe=new Ye(q.segments,q.children);if(0===ee.length&&Pe.hasChildren())return this.expandChildren(S,L,Pe).pipe((0,Mt.U)(it=>new Ye(p,it)));if(0===L.length&&0===ee.length)return bt(new Ye(p,{}));const Le=No(r)===u;return this.expandSegment(S,Pe,L,ee,Le?Nt:u,!0).pipe((0,Mt.U)(ct=>new Ye(p.concat(ct.segments),ct.children)))}))):bf(t)}getChildConfig(e,t,r){return t.children?bt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?bt({routes:t._loadedRoutes,injector:t._loadedInjector}):this.runCanLoadGuards(e,t,r).pipe((0,Bt.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Rn.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function iD(n){return bi(Fu(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):bt({routes:[],injector:e})}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?bt(i.map(d=>{const p=e.get(d);let v;if(function _r(n){return n&&Bu(n.canLoad)}(p))v=p.canLoad(t,r);else{if(!Bu(p))throw new Error("Invalid CanLoad guard");v=p(t,r)}return Ur(v)})).pipe(vf(),(0,Rn.b)(d=>{if(!oc(d))return;const p=Fu(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw p.url=d,p}),(0,Mt.U)(d=>!0===d)):bt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return bt(r);if(i.numberOfChildren>1||!i.children[Nt])return bi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Nt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new Dt(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Jn(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let d={};return Jn(t.children,(p,v)=>{d[v]=this.createSegmentGroup(e,p,r,i)}),new Ye(u,d)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function wf(n){const e={};for(const r of Object.keys(n.children)){const u=wf(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function aD(n){if(1===n.numberOfChildren&&n.children[Nt]){const e=n.children[Nt];return new Ye(n.segments.concat(e.segments),e.children)}return n}(new Ye(n.segments,e))}class Eb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class lg{constructor(e,t){this.component=e,this.route=t}}function Cb(n,e,t){const r=n._root;return Or(r,e?e._root:null,t,[r.value])}function cg(n,e,t){return(gb(e)??t).get(n)}function Or(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Fa(e);return n.children.forEach(d=>{(function Vy(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const v=function Ib(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!jn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!jn(n.url,e.url)||!ai(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sd(n,e)||!ai(n.queryParams,e.queryParams);default:return!Sd(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new Eb(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Or(n,e,u.component?p?p.children:null:t,r,i),v&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new lg(p.outlet.component,d))}else d&&sc(e,p,i),i.canActivateChecks.push(new Eb(r)),Or(n,null,u.component?p?p.children:null:t,r,i)})(d,u[d.value.outlet],t,r.concat([d.value]),i),delete u[d.value.outlet]}),Jn(u,(d,p)=>sc(d,t.getContext(p),i)),i}function sc(n,e,t){const r=Fa(n),i=n.value;Jn(r,(u,d)=>{sc(u,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new lg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Sb{}function xb(n){return new yr.y(e=>e.error(n))}class pD{constructor(e,t,r,i,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=ag(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Nt);if(null===t)return null;const r=new Xl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Nt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Qs(r,t),u=new ec(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=eg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],p=pb(e,u),v=this.processSegmentGroup(p,d,u);if(null===v)return null;r.push(...v)}const i=ac(r);return function gD(n){n.sort((e,t)=>e.value.outlet===Nt?-1:t.value.outlet===Nt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,i);if(null!==d)return d}return ug(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!vb(e,t,r,i))return null;let u,d=[],p=[];if("**"===e.path){const q=r.length>0?cf(r).parameters:{},ee=vD(t)+r.length;u=new Xl(r,q,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,By(e),No(e),e.component??e._loadedComponent??null,e,Mb(t),ee,bD(e),ee)}else{const q=sg(t,e,r);if(!q.matched)return null;d=q.consumedSegments,p=q.remainingSegments;const ee=vD(t)+d.length;u=new Xl(d,q.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,By(e),No(e),e.component??e._loadedComponent??null,e,Mb(t),ee,bD(e),ee)}const v=function mD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:E,slicedSegments:A}=ag(t,d,p,v.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);if(0===A.length&&E.hasChildren()){const q=this.processChildren(v,E);return null===q?null:[new Qs(u,q)]}if(0===v.length&&0===A.length)return[new Qs(u,[])];const S=No(e)===i,L=this.processSegment(v,E,A,S?Nt:i);return null===L?null:[new Qs(u,L)]}}function yD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ac(n){const e=[],t=new Set;for(const r of n){if(!yD(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ac(r.children);e.push(new Qs(r.value,i))}return e.filter(r=>!t.has(r))}function Mb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function vD(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function By(n){return n.data||{}}function bD(n){return n.resolve||{}}const Cf=Symbol("RouteTitle");function $y(n){return"string"==typeof n.title||null===n.title}function Df(n){return kn(e=>{const t=n(e);return t?(0,dn.D)(t).pipe((0,Mt.U)(()=>e)):bt(e)})}class k1 extends class Ob{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Tf=new l.OlP("ROUTES");let dg=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return bt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ur(t.loadComponent()).pipe((0,Rn.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Na(()=>{this.componentLoaders.delete(t)})),i=new Zs(r,()=>new Gr.x).pipe(os());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return bt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Mt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,E,A=!1;Array.isArray(p)?E=p:(v=p.create(t).injector,E=zs(v.get(Tf,[],l.XFs.Self|l.XFs.Optional)));return{routes:E.map(Py),injector:v}}),Na(()=>{this.childrenLoaders.delete(r)})),d=new Zs(u,()=>new Gr.x).pipe(os());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Ur(t()).pipe((0,Bt.z)(r=>r instanceof l.YKP||Array.isArray(r)?bt(r):(0,dn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Zy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ID(n){throw n}function DD(n,e,t){return e.parse("/")}const TD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{class n{constructor(t,r,i,u,d,p,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Gr.x,this.errorHandler=ID,this.malformedUriErrorHandler=DD,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>bt(void 0),this.urlHandlingStrategy=new Zy,this.routeReuseStrategy=new k1,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(dg),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new Ou(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new qs(L)),this.ngModule=d.get(l.h0i),this.console=d.get(l.c2e);const S=d.get(l.R0b);this.isNgZoneEnabled=S instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Ed(){return new Dt(new Ye([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vu(this.currentUrlTree,this.rootComponentType),this.transitions=new pr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ui(i=>0!==i.id),(0,Mt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),kn(i=>{let u=!1,d=!1;return bt(i).pipe((0,Rn.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kn(p=>{const v=this.browserUrlTree.toString(),E=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return hg(p.source)&&(this.browserUrlTree=p.extractedUrl),bt(p).pipe(kn(S=>{const L=this.transitions.getValue();return r.next(new ss(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),L!==this.transitions.getValue()?uo.E:Promise.resolve(S)}),function uD(n,e,t,r){return kn(i=>function oD(n,e,t,r,i){return new sD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Mt.U)(u=>({...i,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Rn.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects}}),function Js(n,e,t,r,i){return(0,Bt.z)(u=>function fD(n,e,t,r,i="emptyOnly",u="legacy"){try{const d=new pD(n,e,t,r,i,u).recognize();return null===d?xb(new Sb):bt(d)}catch(d){return xb(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,Mt.U)(d=>({...u,targetSnapshot:d}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Rn.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(q,S)}this.browserUrlTree=S.urlAfterRedirects}const L=new Qn(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(L)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:q,source:ee,restoredState:Pe,extras:Le}=p,lt=new ss(L,this.serializeUrl(q),ee,Pe);r.next(lt);const ct=Vu(q,this.rootComponentType).snapshot;return bt({...p,targetSnapshot:ct,urlAfterRedirects:q,extras:{...Le,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),uo.E}),(0,Rn.b)(p=>{const v=new si(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),(0,Mt.U)(p=>({...p,guards:Cb(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function ci(n,e){return(0,Bt.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?bt({...t,guardsResult:!0}):function Ef(n,e,t,r){return(0,dn.D)(n).pipe((0,Bt.z)(i=>function Tb(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?bt(u.map(p=>{const v=cg(p,e,i);let E;if(function Ly(n){return n&&Bu(n.canDeactivate)}(v))E=Ur(v.canDeactivate(n,e,t,r));else{if(!Bu(v))throw new Error("Invalid CanDeactivate guard");E=Ur(v(n,e,t,r))}return E.pipe(ko())})).pipe(vf()):bt(!0)}(i.component,i.route,t,e,r)),ko(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Bt.z)(p=>p&&function Fy(n){return"boolean"==typeof n}(p)?function Uy(n,e,t,r){return(0,dn.D)(e).pipe(ku(i=>ao(function dD(n,e){return null!==n&&e&&e(new Yl(n)),bt(!0)}(i.route.parent,r),function cD(n,e){return null!==n&&e&&e(new Nu(n)),bt(!0)}(i.route,r),function hD(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function lD(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>is(()=>bt(d.guards.map(v=>{const E=cg(v,d.node,t);let A;if(function nD(n){return n&&Bu(n.canActivateChild)}(E))A=Ur(E.canActivateChild(r,n));else{if(!Bu(E))throw new Error("Invalid CanActivateChild guard");A=Ur(E(r,n))}return A.pipe(ko())})).pipe(vf())));return bt(u).pipe(vf())}(n,i.path,t),function Db(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return bt(!0);const i=r.map(u=>is(()=>{const d=cg(u,e,t);let p;if(function tD(n){return n&&Bu(n.canActivate)}(d))p=Ur(d.canActivate(e,n));else{if(!Bu(d))throw new Error("Invalid CanActivate guard");p=Ur(d(e,n))}return p.pipe(ko())}));return bt(i).pipe(vf())}(n,i.route,t))),ko(i=>!0!==i,!0))}(r,u,n,e):bt(p)),(0,Mt.U)(p=>({...t,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Rn.b)(p=>{if(oc(p.guardsResult)){const E=Fu(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw E.url=p.guardsResult,E}const v=new vd(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),Ui(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),Df(p=>{if(p.guards.canActivateChecks.length)return bt(p).pipe((0,Rn.b)(v=>{const E=new Ru(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(E)}),kn(v=>{let E=!1;return bt(v).pipe(function jy(n,e){return(0,Bt.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return bt(t);let u=0;return(0,dn.D)(i).pipe(ku(d=>function wD(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!$y(i)&&(u[Cf]=i.title),function kb(n,e,t,r){const i=function If(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return bt({});const u={};return(0,dn.D)(i).pipe((0,Bt.z)(d=>function Rb(n,e,t,r){const i=cg(n,e,r);return Ur(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe(ko(),(0,Rn.b)(p=>{u[d]=p}))),sf(1),function Jp(n){return(0,Mt.U)(()=>n)}(u),Gs(d=>d instanceof rs?uo.E:bi(d)))}(u,n,e,r).pipe((0,Mt.U)(d=>(n._resolvedData=d,n.data=eg(n,t).resolve,i&&$y(i)&&(n.data[Cf]=i.title),null)))}(d.route,r,n,e)),(0,Rn.b)(()=>u++),sf(1),(0,Bt.z)(d=>u===i.length?bt(t):uo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Rn.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Rn.b)(v=>{const E=new as(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(E)}))}),Df(()=>this.afterPreactivation()),Df(p=>{const v=E=>{const A=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,Rn.b)(S=>{E.component=S}),(0,Mt.U)(()=>{})));for(const S of E.children)A.push(...v(S));return A};return js(v(p.targetSnapshot.root)).pipe(af(),(0,wi.q)(1))}),(0,Mt.U)(p=>{const v=function xd(n,e,t){const r=nc(n,e._root,t?t._root:void 0);return new ky(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return{...p,targetRouterState:v}}),(0,Rn.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Mt.U)(r=>(new og(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Rn.b)({next(){u=!0},complete(){u=!0}}),Na(()=>{u||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Gs(p=>{if(d=!0,function lf(n){return n&&n[Ei]}(p)){const v=oc(p.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const E=new yd(i.id,this.serializeUrl(i.extractedUrl),p.message);if(r.next(E),v){const A=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hg(i.source)};this.scheduleNavigation(A,"imperative",null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new uf(i.id,this.serializeUrl(i.extractedUrl),p);r.next(v);try{i.resolve(this.errorHandler(p))}catch(E){i.reject(E)}}return uo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const p={...u};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Py),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:d,queryParamsHandling:p,preserveFragment:v}=r,E=i||this.routerState.root,A=v?this.currentUrlTree.fragment:d;let S=null;switch(p){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),function Oy(n,e,t,r,i){if(0===t.length)return Uu(e.root,e.root,e.root,r,i);const u=function m(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new g(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return Jn(u.outlets,(v,E)=>{p[E]="string"==typeof v?v.split("/"):v}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===d?(u.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new g(t,e,r)}(t);return u.toRoot()?Uu(e.root,e.root,new Ye([],{}),r,i):function d(v){const E=function x(n,e,t,r){return n.isAbsolute?new w(e.root,!0,0):-1===r?new w(t,t===e.root,0):function O(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new w(r,!1,i-u)}(t,r+(Md(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,v),A=E.processChildren?nt(E.segmentGroup,E.index,u.commands):Te(E.segmentGroup,E.index,u.commands);return Uu(e.root,E.segmentGroup,A,r,i)}(n.snapshot?._lastPathIndex)}(E,this.currentUrlTree,t,S,A??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=oc(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Nb(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...TD}:!1===r?{...AD}:r,oc(t))return M(this.currentUrlTree,t,i);const u=this.parseUrl(t);return M(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new lo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,d){if(this.disposed)return Promise.resolve(!1);let p,v,E;d?(p=d.resolve,v=d.reject,E=d.promise):E=new Promise((L,q)=>{p=L,v=q});const A=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),S=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:A,targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:p,reject:v,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new yd(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function hg(n){return"imperative"!==n}let Af=(()=>{class n{constructor(t,r,i,u,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=d,this.commands=null,this.onChanges=new Gr.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:(0,l.D6c)(this.skipLocationChange),replaceUrl:(0,l.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,l.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wr),l.Y36(ho),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})(),Od=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Gr.x,this.subscription=t.events.subscribe(u=>{u instanceof lo&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,d){if(0!==t||r||i||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const p={skipLocationChange:(0,l.D6c)(this.skipLocationChange),replaceUrl:(0,l.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,p),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,l.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wr),l.Y36(ho),l.Y36(ge))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();class Gy{buildTitle(e){let t,r=e.root;for(;void 0!==r;)t=this.getResolvedTitleForRoute(r)??t,r=r.children.find(i=>i.outlet===Nt);return t}getResolvedTitleForRoute(e){return e.data[Cf]}}let Pb=(()=>{class n extends Gy{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Hu{}let Fb=(()=>{class n{constructor(t,r,i,u,d){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Ui(t=>t instanceof lo),ku(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,l.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,p=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(p,u.children??u._loadedRoutes))}return(0,dn.D)(i).pipe((0,$s.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):bt(null);const u=i.pipe((0,Bt.z)(d=>null===d?bt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,dn.D)([u,d]).pipe((0,$s.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Hu),l.LFG(dg))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const qy=new l.OlP("");let fg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ss?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof lo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Rr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Rr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pg=new l.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),zy=new l.OlP("ROUTER_FORROOT_GUARD"),gg=new l.OlP(""),Lb=[Oe,{provide:Ci,useClass:Ro},{provide:Wr,useFactory:function OD(n,e,t,r,i,u,d={},p,v,E,A){const S=new Wr(null,n,e,t,r,i,zs(u));return E&&(S.urlHandlingStrategy=E),A&&(S.routeReuseStrategy=A),S.titleStrategy=v??p,function Bb(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,S),S},deps:[Ci,zr,Oe,l.zs3,l.Sil,Tf,pg,Pb,[Gy,new l.FiY],[class ED{},new l.FiY],[class Hy{},new l.FiY]]},zr,{provide:ho,useFactory:function ND(n){return n.routerState.root},deps:[Wr]},dg];function mg(){return new l.PXZ("Router",Wr)}let Sf=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Lb,[],Nd(t),{provide:zy,useFactory:Ky,deps:[[Wr,new l.FiY,new l.tp0]]},{provide:pg,useValue:r||{}},r?.useHash?{provide:ge,useClass:ke}:{provide:ge,useClass:Ze},{provide:qy,useFactory:()=>{const n=(0,l.f3M)(Wr),e=(0,l.f3M)(Qh),t=(0,l.f3M)(pg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new fg(n,e,t)}},r?.preloadingStrategy?VD(r.preloadingStrategy):[],{provide:l.PXZ,multi:!0,useFactory:mg},r?.initialNavigation?Qy(r):[],[{provide:Yy,useFactory:PD},{provide:l.tb,multi:!0,useExisting:Yy}]]}}static forChild(t){return{ngModule:n,providers:[Nd(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zy,8),l.LFG(Wr,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Ky(n){return"guarded"}function Nd(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Tf,multi:!0,useValue:n}]}function PD(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(Wr),i=n.get(FD);null===n.get(Jy,null,l.XFs.Optional)&&r.initialNavigation(),n.get(gg,null,l.XFs.Optional)?.setUpPreloading(),n.get(qy,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const Yy=new l.OlP("");function Qy(n){return["disabled"===n.initialNavigation?[{provide:l.ip1,multi:!0,useFactory:()=>{const n=(0,l.f3M)(Wr);return()=>{n.setUpLocationChangeListener()}}},{provide:Jy,useValue:"disabled"}]:[],"enabledBlocking"===n.initialNavigation?[{provide:Jy,useValue:"enabledBlocking"},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:n=>{const e=n.get(z,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(r=>{const i=n.get(Wr),u=n.get(FD);i.afterPreactivation=()=>t?bt(void 0):(t=!0,r(!0),u),i.initialNavigation()}))}}]:[]]}const FD=new l.OlP("",{factory:()=>new Gr.x}),Jy=new l.OlP("");function VD(n){return[Fb,{provide:gg,useExisting:Fb},{provide:Hu,useExisting:n}]}let UD=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-accueil"]],decls:2,vars:0,consts:[[1,"container-fluid","image"],["src","../assets/Leanin.png","alt","aaaaaa",1,"img-fluid"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.qZA())}}),n})(),Zb=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-addreuinion"]],decls:7,vars:0,consts:[[1,"container1"],["target","_blank","href","https://meet.google.com/?pli=1"],["width","45px","height","45px","src","../assets/google.png","alt","","srcset",""]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"h1"),l._uU(2," Bienvenue sur la Page de reunion "),l.qZA(),l.TgZ(3,"p"),l._uU(4," Cliquez sur ce lien pour \xeatre redirig\xe9 sur la page de la reuinion "),l.TgZ(5,"a",1),l._UZ(6,"img",2),l.qZA()()())},styles:["h1[_ngcontent-%COMP%]{border-bottom:2px solid black;font-family:Times New Roman,Times,serif;letter-spacing:5px;font-style:italic;opacity:.5;color:#6495ed}.container1[_ngcontent-%COMP%]{margin:auto;width:65em;height:30em;padding:35px;background-color:#f0f8ff;border-radius:1em;box-shadow:2px 2px 4px #000 inset,2px 2px 4px #000}"]}),n})();class BD{constructor(e){this.id="",this.name="",this.size=0,this.url="",this.file=e}}var Gb=N(4986),gr=N(5813);function Xy(){return(0,mn.e)((n,e)=>{let t,r=!1;n.subscribe((0,kr.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function jD(n,e){return n===e}var ut,Ii=N(2011),jt=(N(5881),N(3942)),we=N(5861),Po=N(9681),lc=N(4859),Zu=N(1877),Pt=N(2090),zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ba={},ev=ev||{},$t=zb||self;function tv(){}function xf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yg="closure_uid_"+(1e9*Math.random()>>>0),Wb=0;function nv(n,e,t){return n.call.apply(n.bind,arguments)}function O1(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Kr(n,e,t){return(Kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nv:O1).apply(null,arguments)}function Fd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Br(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return e.prototype[i].apply(r,d)}}function ja(){this.s=this.s,this.o=this.o}var HD={};ja.prototype.s=!1,ja.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function $D(n){return Object.prototype.hasOwnProperty.call(n,yg)&&n[yg]||(n[yg]=++Wb)}(this);delete HD[n]}},ja.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},rv=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function Mf(n){return Array.prototype.concat.apply([],arguments)}function ov(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ld(n){return/^[\s\xa0]*$/.test(n)}var Yr,_g=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function br(n,e){return-1!=n.indexOf(e)}function bg(n,e){return n<e?-1:n>e?1:0}e:{var Kb=$t.navigator;if(Kb){var Yb=Kb.userAgent;if(Yb){Yr=Yb;break e}}Yr=""}function wg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function dc(n){const e={};for(const t in n)e[t]=n[t];return e}var Qb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jb(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Qb.length;u++)t=Qb[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function sv(n){return sv[" "](n),n}sv[" "]=tv;var Cg,n,av=br(Yr,"Opera"),hc=br(Yr,"Trident")||br(Yr,"MSIE"),uv=br(Yr,"Edge"),Fo=uv||hc,Xb=br(Yr,"Gecko")&&!(br(Yr.toLowerCase(),"webkit")&&!br(Yr,"Edge"))&&!(br(Yr,"Trident")||br(Yr,"MSIE"))&&!br(Yr,"Edge"),lv=br(Yr.toLowerCase(),"webkit")&&!br(Yr,"Edge");function Eg(){var n=$t.document;return n?n.documentMode:void 0}e:{var ew="",tw=(n=Yr,Xb?/rv:([^\);]+)(\)|;)/.exec(n):uv?/Edge\/([\d\.]+)/.exec(n):hc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lv?/WebKit\/(\S+)/.exec(n):av?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(tw&&(ew=tw?tw[1]:""),hc){var nw=Eg();if(null!=nw&&nw>parseFloat(ew)){Cg=String(nw);break e}}Cg=ew}var GD={};var Vd=$t.document&&hc&&(Eg()||parseInt(Cg,10))||void 0,qD=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",tv,e),$t.removeEventListener("test",tv,e)}catch{}return n}();function Qr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Gu(n,e){if(Qr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xb){e:{try{sv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gu.Z.h.call(this)}}Qr.prototype.h=function(){this.defaultPrevented=!0},Br(Gu,Qr);var zD={2:"touch",3:"pen",4:"mouse"};Gu.prototype.h=function(){Gu.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ud="closure_listenable_"+(1e6*Math.random()|0),WD=0;function KD(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++WD,this.ca=this.fa=!1}function Ig(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Dg(n){this.src=n,this.g={},this.h=0}function cv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=vg(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Ig(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Tg(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}Dg.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Tg(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new KD(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var dv="closure_lm_"+(1e6*Math.random()|0),Ag={};function hv(n,e,t,r,i){if(r&&r.once)return xg(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)hv(n,e[u],t,r,i);return null}return t=kf(t),n&&n[Ud]?n.N(e,t,Pd(r)?!!r.capture:!!r,i):Sg(n,e,t,!1,r,i)}function Sg(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var d=Pd(i)?!!i.capture:!!i,p=fv(n);if(p||(n[dv]=p=new Dg(n)),(t=p.add(e,t,r,d,u)).proxy)return t;if(r=function N1(){var e=uw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)qD||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(fc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xg(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)xg(n,e[u],t,r,i);return null}return t=kf(t),n&&n[Ud]?n.O(e,t,Pd(r)?!!r.capture:!!r,i):Sg(n,e,t,!0,r,i)}function sw(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)sw(n,e[u],t,r,i);else r=Pd(r)?!!r.capture:!!r,t=kf(t),n&&n[Ud]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Tg(u=n.g[e],t,r,i))&&(Ig(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=fv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Tg(e,t,r,i)),(t=-1<n?e[n]:null)&&aw(t))}function aw(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ud])cv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(fc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=fv(e))?(cv(t,n),0==t.h&&(t.src=null,e[dv]=null)):Ig(n)}}}function fc(n){return n in Ag?Ag[n]:Ag[n]="on"+n}function uw(n,e){if(n.ca)n=!0;else{e=new Gu(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&aw(n),n=t.call(r,e)}return n}function fv(n){return(n=n[dv])instanceof Dg?n:null}var pv="__closure_events_fn_"+(1e9*Math.random()>>>0);function kf(n){return"function"==typeof n?n:(n[pv]||(n[pv]=function(e){return n.handleEvent(e)}),n[pv])}function Jr(){ja.call(this),this.i=new Dg(this),this.P=this,this.I=null}function di(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Qr(e,n);else if(e instanceof Qr)e.target=e.target||n;else{var i=e;Jb(e=new Qr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];i=Bd(d,r,!0,e)&&i}if(i=Bd(d=e.g=n,r,!0,e)&&i,i=Bd(d,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Bd(d=e.g=t[u],r,!1,e)&&i}function Bd(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var p=d.listener,v=d.ia||d.src;d.fa&&cv(n.i,d),i=!1!==p.call(v,r)&&i}}return i&&!r.defaultPrevented}Br(Jr,ja),Jr.prototype[Ud]=!0,Jr.prototype.removeEventListener=function(n,e,t,r){sw(this,n,e,t,r)},Jr.prototype.M=function(){if(Jr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ig(t[r]);delete n.g[e],n.h--}}this.I=null},Jr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Jr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var lw=$t.JSON.stringify;function P1(){var n=gv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Mg,YD=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new L1,n=>n.reset());class L1{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function cw(n){$t.setTimeout(()=>{throw n},0)}function Rf(n,e){Mg||function QD(){var n=$t.Promise.resolve(void 0);Mg=function(){n.then(Rg)}}(),kg||(Mg(),kg=!0),gv.add(n,e)}var kg=!1,gv=new class F1{constructor(){this.h=this.g=null}add(e,t){const r=YD.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Rg(){for(var n;n=P1();){try{n.h.call(n.g)}catch(t){cw(t)}var e=YD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}kg=!1}function Zi(n,e){Jr.call(this),this.h=n||1,this.g=e||$t,this.j=Kr(this.kb,this),this.l=Date.now()}function Og(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function mv(n,e,t){if("function"==typeof n)t&&(n=Kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function Ng(n){n.g=mv(()=>{n.g=null,n.i&&(n.i=!1,Ng(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Br(Zi,Jr),(ut=Zi.prototype).da=!1,ut.S=null,ut.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),di(this,"tick"),this.da&&(Og(this),this.start()))}},ut.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.M=function(){Zi.Z.M.call(this),Og(this),delete this.g};class $a extends ja{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ng(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pc(n){ja.call(this),this.h=n,this.g={}}Br(pc,ja);var yv=[];function Pg(n,e,t,r){Array.isArray(t)||(t&&(yv[0]=t.toString()),t=yv);for(var i=0;i<t.length;i++){var u=hv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function JD(n){wg(n.g,function(e,t){this.g.hasOwnProperty(t)&&aw(e)},n),n.g={}}function Of(){this.g=!0}function Ha(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _v(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<i.length;d++)i[d]=""}}}return lw(t)}catch{return e}}(n,t)+(r?" "+r:"")})}pc.prototype.M=function(){pc.Z.M.call(this),JD(this)},pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Of.prototype.Aa=function(){this.g=!1},Of.prototype.info=function(){};var Za={},XD=null;function Lg(){return XD=XD||new Jr}function dw(n){Qr.call(this,Za.Ma,n)}function Nf(n){const e=Lg();di(e,new dw(e,n))}function hw(n,e){Qr.call(this,Za.STAT_EVENT,n),this.stat=e}function hi(n){const e=Lg();di(e,new hw(e,n))}function eT(n,e){Qr.call(this,Za.Na,n),this.size=e}function Pf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}Za.Ma="serverreachability",Br(dw,Qr),Za.STAT_EVENT="statevent",Br(hw,Qr),Za.Na="timingevent",Br(eT,Qr);var bv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vg(){}function Ug(){}Vg.prototype.h=null;var mw,Bg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pw(){Qr.call(this,"d")}function gw(){Qr.call(this,"c")}function Ev(){}function jg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new pc(this),this.P=U1,this.W=new Zi(n=Fo?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new tT}function tT(){this.i=null,this.g="",this.h=!1}Br(pw,Qr),Br(gw,Qr),Br(Ev,Vg),Ev.prototype.g=function(){return new XMLHttpRequest},Ev.prototype.i=function(){return{}},mw=new Ev;var U1=45e3,yw={},Cv={};function ea(n,e,t){n.K=1,n.v=Zd(Gi(e)),n.s=t,n.U=!0,$g(n,null)}function $g(n,e){n.F=Date.now(),jd(n),n.A=Gi(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Dw(t.h,"t",r),n.C=0,t=n.l.H,n.h=new tT,n.g=Gv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new $a(Kr(n.Ia,n,n.g),n.O)),Pg(n.V,n.g,"readystatechange",n.gb),e=n.H?dc(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Nf(1),function V1(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var d="",p=u.split("&"),v=0;v<p.length;v++){var E=p[v].split("=");if(1<E.length){var A=E[0];E=E[1];var S=A.split("_");d=2<=S.length&&"type"==S[1]?d+(A+"=")+E+"&":d+(A+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function vw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Iv(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Dv(n,t),i==Cv){4==e&&(n.o=4,hi(14),r=!1),Ha(n.j,n.m,null,"[Incomplete Response]");break}if(i==yw){n.o=4,hi(15),Ha(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ha(n.j,n.m,i,null),Tv(n,i)}vw(n)&&i!=Cv&&i!=yw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,hi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),rm(e),e.L=!0,hi(11))):(Ha(n.j,n.m,t,"[Invalid Chunked Response]"),qu(n),Lo(n))}function Dv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Cv:(t=Number(e.substring(t,r)),isNaN(t)?yw:(r+=1)+t>e.length?Cv:(e=e.substr(r,t),n.C=r+t,e))}function jd(n){n.Y=Date.now()+n.P,Hg(n,n.P)}function Hg(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Pf(Kr(n.eb,n),e)}function Zg(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function Lo(n){0==n.l.G||n.I||Ow(n.l,n)}function qu(n){Zg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Og(n.W),JD(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Tv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||qg(t.i,n)))if(t.I=n.N,!n.J&&qg(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;im(t),jf(t)}nm(t),hi(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Pf(Kr(t.ab,t),6e3));if(1>=Aw(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else _c(t,11)}else if((n.J||t.g==n)&&im(t),!Ld(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const A=E[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const S=E[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const L=E[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const ee=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var u=r.i;!u.g&&(br(ee,"spdy")||br(ee,"quic")||br(ee,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Nv(u,u.h),u.h=null))}if(r.D){const Pe=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;Pe&&(r.sa=Pe,Un(r.F,r.D,Pe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=fT(r,r.H?r.la:null,r.W),d.J){Pv(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Zg(p),jd(p)),r.g=d}else $v(r);0<t.l.length&&vc(t)}else"stop"!=E[0]&&"close"!=E[0]||_c(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?_c(t,7):Xg(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}Nf(4)}catch{}}function Sv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(xf(n)||"string"==typeof n)rv(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(xf(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function Av(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(xf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function gc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof gc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function xv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];mc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)mc(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function mc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ut=jg.prototype).setTimeout=function(n){this.P=n},ut.gb=function(n){n=n.target;const e=this.L;e&&3==Yu(n)?e.l():this.Ia(n)},ut.Ia=function(n){try{if(n==this.g)e:{const A=Yu(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>A)&&(3!=A||Fo||this.g&&(this.h.h||this.g.ga()||Jg(this.g)))){this.I||4!=A||7==e||Nf(8==e||0>=S?3:2),Zg(this);var t=this.g.ba();this.N=t;t:if(vw(this)){var r=Jg(this.g);n="";var i=r.length,u=4==Yu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qu(this),Lo(this);var d="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function Fg(n,e,t,r,i,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ld(p)){var E=p;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,hi(12),qu(this),Lo(this);break e}Ha(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tv(this,t)}this.U?(Iv(this,A,d),Fo&&this.i&&3==A&&(Pg(this.V,this.W,"tick",this.fb),this.W.start())):(Ha(this.j,this.m,d,null),Tv(this,d)),4==A&&qu(this),this.i&&!this.I&&(4==A?Ow(this.l,this):(this.i=!1,jd(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,hi(12)):(this.o=0,hi(13)),qu(this),Lo(this)}}}catch{}},ut.fb=function(){if(this.g){var n=Yu(this.g),e=this.g.ga();this.C<e.length&&(Zg(this),Iv(this,n,e),this.i&&4!=n&&jd(this))}},ut.cancel=function(){this.I=!0,qu(this)},ut.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function vv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Nf(3),hi(17)),qu(this),this.o=2,Lo(this)):Hg(this,this.Y-n)},(ut=gc.prototype).R=function(){xv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ut.T=function(){return xv(this),this.g.concat()},ut.get=function(n,e){return mc(this.h,n)?this.h[n]:e},ut.set=function(n,e){mc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ut.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var $d=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ga(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ga){this.g=void 0!==e?e:n.g,zu(this,n.j),this.s=n.s,qa(this,n.i),Gg(this,n.m),this.l=n.l,e=n.h;var t=new Lf;t.i=e.i,e.g&&(t.g=new gc(e.g),t.h=e.h),Mv(this,t),this.o=n.o}else n&&(t=String(n).match($d))?(this.g=!!e,zu(this,t[1]||"",!0),this.s=Wu(t[2]||""),qa(this,t[3]||"",!0),Gg(this,t[4]),this.l=Wu(t[5]||"",!0),Mv(this,t[6]||"",!0),this.o=Wu(t[7]||"")):(this.g=!!e,this.h=new Lf(null,this.g))}function Gi(n){return new Ga(n)}function zu(n,e,t){n.j=t?Wu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function qa(n,e,t){n.i=t?Wu(e,!0):e}function Gg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Mv(n,e,t){e instanceof Lf?(n.h=e,function iT(n,e){e&&!n.j&&(Ku(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(qi(this,r),Dw(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ff(e,rT)),n.h=new Lf(e,n.g))}function Un(n,e,t){n.h.set(e,t)}function Zd(n){return Un(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ff(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,bw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function bw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ga.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ff(e,nT,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ff(e,nT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ff(t,"/"==t.charAt(0)?Ew:ww,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ff(t,Cw)),n.join("")};var nT=/[#\/\?@]/g,ww=/[#\?:]/g,Ew=/[#\?]/g,rT=/[#\?@]/g,Cw=/#/g;function Lf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ku(n){n.g||(n.g=new gc,n.h=0,n.i&&function Hd(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qi(n,e){Ku(n),e=Vf(n,e),mc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,mc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&xv(n)))}function Iw(n,e){return Ku(n),e=Vf(n,e),mc(n.g.h,e)}function Dw(n,e,t){qi(n,e),0<t.length&&(n.i=null,n.g.set(Vf(n,e),ov(t)),n.h+=t.length)}function Vf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Ov(n){this.l=n||oT,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ea&&$t.g.Ea()&&$t.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ut=Lf.prototype).add=function(n,e){Ku(this),this.i=null,n=Vf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ut.forEach=function(n,e){Ku(this),this.g.forEach(function(t,r){rv(t,function(i){n.call(e,i,r,this)},this)},this)},ut.T=function(){Ku(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},ut.R=function(n){Ku(this);var e=[];if("string"==typeof n)Iw(this,n)&&(e=Mf(e,this.g.get(Vf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Mf(e,n[t])}return e},ut.set=function(n,e){return Ku(this),this.i=null,Iw(this,n=Vf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ut.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var d=i;""!==r[u]&&(d+="="+encodeURIComponent(String(r[u]))),n.push(d)}}return this.i=n.join("&")};var oT=10;function Tw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Aw(n){return n.h?1:n.g?n.g.size:0}function qg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Nv(n,e){n.g?n.g.add(e):n.h=e}function Pv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Sw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ov(n.i)}function Fv(){}function xw(){this.g=new Fv}function Mw(n,e,t){const r=t||"";try{Sv(n,function(i,u){let d=i;Pd(i)&&(d=lw(i)),e.push(r+u+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function po(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function yc(n){this.l=n.$b||null,this.j=n.ib||!1}function zg(n,e){Jr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Lv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ov.prototype.cancel=function(){if(this.i=Sw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Fv.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},Fv.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},Br(yc,Vg),yc.prototype.g=function(){return new zg(this.l,this.j)},yc.prototype.i=function(n){return function(){return n}}({}),Br(zg,Jr);var Lv=0;function aT(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Gd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Uf(n)}function Uf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ut=zg.prototype).open=function(n,e){if(this.readyState!=Lv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Uf(this)},ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gd(this)),this.readyState=Lv},ut.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Uf(this)),this.g&&(this.readyState=3,Uf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aT(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ut.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Gd(this):Uf(this),3==this.readyState&&aT(this)}},ut.Ua=function(n){this.g&&(this.response=this.responseText=n,Gd(this))},ut.Ta=function(n){this.g&&(this.response=n,Gd(this))},ut.ha=function(){this.g&&Gd(this)},ut.setRequestHeader=function(n,e){this.v.append(n,e)},ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(zg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var uT=$t.JSON.parse;function wr(n){Jr.call(this),this.headers=new gc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Wg,this.K=this.L=!1}Br(wr,Jr);var Wg="",lT=/^https?$/i,cT=["POST","PUT"];function Vv(n){return"content-type"==n.toLowerCase()}function kw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Yg(n),Bf(n)}function Yg(n){n.D||(n.D=!0,di(n,"complete"),di(n,"error"))}function Qg(n){if(n.h&&typeof ev<"u"&&(!n.C[1]||4!=Yu(n)||2!=n.ba()))if(n.v&&4==Yu(n))mv(n.Fa,0,n);else if(di(n,"readystatechange"),4==Yu(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match($d)[1]||null;if(!i&&$t.self&&$t.self.location){var u=$t.self.location.protocol;i=u.substr(0,u.length-1)}r=!lT.test(i?i.toLowerCase():"")}t=r}if(t)di(n,"complete"),di(n,"success");else{n.m=6;try{var d=2<Yu(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.ba()+"]",Yg(n)}}finally{Bf(n)}}}function Bf(n,e){if(n.g){dT(n);const t=n.g,r=n.C[0]?tv:null;n.g=null,n.C=null,e||di(n,"ready");try{t.onreadystatechange=r}catch{}}}function dT(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Yu(n){return n.g?n.g.readyState:0}function Jg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Wg:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Uv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function B1(n){let e="";return wg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Un(n,e,t))}function qd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Bv(n){this.za=0,this.l=[],this.h=new Of,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qd("baseRetryDelayMs",5e3,n),this.$a=qd("retryDelaySeedMs",1e4,n),this.Ya=qd("forwardChannelMaxRetries",2,n),this.ra=qd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Ov(n&&n.concurrentRequestLimit),this.Ca=new xw,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Xg(n){if(jv(n),3==n.G){var e=n.V++,t=Gi(n.F);Un(t,"SID",n.J),Un(t,"RID",e),Un(t,"TYPE","terminate"),em(n,t),(e=new jg(n,n.h,e,void 0)).K=2,e.v=Zd(Gi(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=Gv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),jd(e)}Zv(n)}function jf(n){n.g&&(rm(n),n.g.cancel(),n.g=null)}function jv(n){jf(n),n.u&&($t.clearTimeout(n.u),n.u=null),im(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function ds(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&vc(n)}function vc(n){Tw(n.i)||n.m||(n.m=!0,Rf(n.Ha,n),n.C=0)}function Rw(n,e){var t;t=e?e.m:n.V++;const r=Gi(n.F);Un(r,"SID",n.J),Un(r,"RID",t),Un(r,"AID",n.U),em(n,r),n.o&&n.s&&Uv(r,n.o,n.s),t=new jg(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=tm(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Nv(n.i,t),ea(t,r,e)}function em(n,e){n.j&&Sv({},function(t,r){Un(e,r,t)})}function tm(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Kr(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=i[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let p=!0;for(let v=0;v<t;v++){let E=i[v].h;const A=i[v].g;if(E-=u,0>E)u=Math.max(0,i[v].h-100),p=!1;else try{Mw(A,d,"req"+E+"_")}catch{r&&r(A)}}if(p){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function $v(n){n.g||n.u||(n.Y=1,Rf(n.Ga,n),n.A=0)}function nm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Pf(Kr(n.Ga,n),Nw(n,n.A)),n.A++,0))}function rm(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function Hv(n){n.g=new jg(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Gi(n.oa);Un(e,"RID","rpc"),Un(e,"SID",n.J),Un(e,"CI",n.N?"0":"1"),Un(e,"AID",n.U),em(n,e),Un(e,"TYPE","xmlhttp"),n.o&&n.s&&Uv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Zd(Gi(e)),t.s=null,t.U=!0,$g(t,n)}function im(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function Ow(n,e){var t=null;if(n.g==e){im(n),rm(n),n.g=null;var r=2}else{if(!qg(n.i,e))return;t=e.D,Pv(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;di(r=Lg(),new eT(r,t,e,i)),vc(n)}else $v(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function hT(n,e){return!(Aw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Pf(Kr(n.Ha,n,e),Nw(n,n.C)),n.C++,0)))}(n,e)||2==r&&nm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:_c(n,5);break;case 4:_c(n,10);break;case 3:_c(n,6);break;default:_c(n,2)}}function Nw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function _c(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Kr(n.jb,n);t||(t=new Ga("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||zu(t,"https"),Zd(t)),function sT(n,e){const t=new Of;if($t.Image){const r=new Image;r.onload=Fd(po,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Fd(po,t,r,"TestLoadImage: error",!1,e),r.onabort=Fd(po,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fd(po,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else hi(2);n.G=0,n.j&&n.j.va(e),Zv(n),jv(n)}function Zv(n){n.G=0,n.I=-1,n.j&&((0!=Sw(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ov(n.l),n.l.length=0),n.j.ua())}function fT(n,e,t){let r=function kv(n){return n instanceof Ga?Gi(n):new Ga(n,void 0)}(t);if(""!=r.i)e&&qa(r,e+"."+r.i),Gg(r,r.m);else{const i=$t.location;r=function _w(n,e,t,r){var i=new Ga(null,void 0);return n&&zu(i,n),e&&qa(i,e),t&&Gg(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&wg(n.aa,function(i,u){Un(r,u,i)}),t=n.sa,(e=n.D)&&t&&Un(r,e,t),Un(r,"VER",n.ma),em(n,r),r}function Gv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(t&&n.Ba&&!n.qa?new yc({ib:!0}):n.qa)).L=n.H,e}function Pw(){}function om(){if(hc&&!(10<=Number(Vd)))throw Error("Environmental error: no available transport.")}function Vo(n,e){Jr.call(this),this.g=new Bv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ld(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ld(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new zd(this)}function pT(n){pw.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Fw(){gw.call(this),this.status=1}function zd(n){this.g=n}(ut=wr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mw.g(),this.C=function fw(n){return n.h||(n.h=n.i())}(this.u?this.u:mw),this.g.onreadystatechange=Kr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void kw(this,u)}n=t||"";const i=new gc(this.headers);r&&Sv(r,function(u,d){i.set(d,u)}),r=function iv(n){e:{var e=Vv;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=$t.FormData&&n instanceof $t.FormData,!(0<=vg(cT,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dT(this),0<this.B&&((this.K=function Kg(n){return hc&&function rw(){return function ZD(n){var e=GD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_g(String(Cg)).split("."),t=_g("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",u=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=bg(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||bg(0==i[2].length,0==u[2].length)||bg(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kr(this.pa,this)):this.A=mv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){kw(this,u)}},ut.pa=function(){typeof ev<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,di(this,"timeout"),this.abort(8))},ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,di(this,"complete"),di(this,"abort"),Bf(this))},ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bf(this,!0)),wr.Z.M.call(this)},ut.Fa=function(){this.s||(this.F||this.v||this.l?Qg(this):this.cb())},ut.cb=function(){Qg(this)},ut.ba=function(){try{return 2<Yu(this)?this.g.status:-1}catch{return-1}},ut.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ut.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),uT(e)}},ut.Da=function(){return this.m},ut.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=Bv.prototype).ma=8,ut.G=1,ut.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},ut.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new jg(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=dc(u),Jb(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=tm(this,i,e),Un(t=Gi(this.F),"RID",n),Un(t,"CVER",22),this.D&&Un(t,"X-HTTP-Session-Id",this.D),em(this,t),this.o&&u&&Uv(t,this.o,u),Nv(this.i,i),this.Ra&&Un(t,"TYPE","init"),this.ja?(Un(t,"$req",e),Un(t,"SID","null"),i.$=!0,ea(i,t,null)):ea(i,t,e),this.G=2}}else 3==this.G&&(n?Rw(this,n):0==this.l.length||Tw(this.i)||Rw(this))},ut.Ga=function(){if(this.u=null,Hv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Pf(Kr(this.bb,this),n)}},ut.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,hi(10),jf(this),Hv(this))},ut.ab=function(){null!=this.v&&(this.v=null,jf(this),nm(this),hi(19))},ut.jb=function(n){n?(this.h.info("Successfully pinged google.com"),hi(2)):(this.h.info("Failed to ping google.com"),hi(1))},(ut=Pw.prototype).xa=function(){},ut.wa=function(){},ut.va=function(){},ut.ua=function(){},ut.Oa=function(){},om.prototype.g=function(n,e){return new Vo(n,e)},Br(Vo,Jr),Vo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Rf(Kr(n.hb,n,e))),hi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=fT(n,null,n.W),vc(n)},Vo.prototype.close=function(){Xg(this.g)},Vo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ds(this.g,e)}else this.v?((e={}).__data__=lw(n),ds(this.g,e)):ds(this.g,n)},Vo.prototype.M=function(){this.g.j=null,delete this.j,Xg(this.g),delete this.g,Vo.Z.M.call(this)},Br(pT,pw),Br(Fw,gw),Br(zd,Pw),zd.prototype.xa=function(){di(this.g,"a")},zd.prototype.wa=function(n){di(this.g,new pT(n))},zd.prototype.va=function(n){di(this.g,new Fw(n))},zd.prototype.ua=function(){di(this.g,"b")},om.prototype.createWebChannel=om.prototype.g,Vo.prototype.send=Vo.prototype.u,Vo.prototype.open=Vo.prototype.m,Vo.prototype.close=Vo.prototype.close,bv.NO_ERROR=0,bv.TIMEOUT=8,bv.HTTP_ERROR=6,wv.COMPLETE="complete",Ug.EventType=Bg,Bg.OPEN="a",Bg.CLOSE="b",Bg.ERROR="c",Bg.MESSAGE="d",Jr.prototype.listen=Jr.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.La,wr.prototype.getLastErrorCode=wr.prototype.Da,wr.prototype.getStatus=wr.prototype.ba,wr.prototype.getResponseJson=wr.prototype.Qa,wr.prototype.getResponseText=wr.prototype.ga,wr.prototype.send=wr.prototype.ea;var Lw=Ba.createWebChannelTransport=function(){return new om},Vw=Ba.getStatEventTarget=function(){return Lg()},Uw=Ba.ErrorCode=bv,hs=Ba.EventType=wv,j1=Ba.Event=Za,gT=Ba.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Bw=Ba.FetchXmlHttpFactory=yc,$f=Ba.WebChannel=Ug,jw=Ba.XhrIo=wr;const $w="@firebase/firestore";class Xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xr.UNAUTHENTICATED=new Xr(null),Xr.GOOGLE_CREDENTIALS=new Xr("google-credentials-uid"),Xr.FIRST_PARTY=new Xr("first-party-uid"),Xr.MOCK_USER=new Xr("mock-user");let bc="9.9.0";const ta=new Zu.Yd("@firebase/firestore");function qv(){return ta.logLevel}function Be(n,...e){if(ta.logLevel<=Zu.in.DEBUG){const t=e.map(Wv);ta.debug(`Firestore (${bc}): ${n}`,...t)}}function Er(n,...e){if(ta.logLevel<=Zu.in.ERROR){const t=e.map(Wv);ta.error(`Firestore (${bc}): ${n}`,...t)}}function Hf(n,...e){if(ta.logLevel<=Zu.in.WARN){const t=e.map(Wv);ta.warn(`Firestore (${bc}): ${n}`,...t)}}function Wv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: `+n;throw Er(e),new Error(e)}function Ft(n,e){n||dt()}function Xe(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Pt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Hw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xr.UNAUTHENTICATED))}shutdown(){}}class mT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class na{constructor(e){this.t=e,this.currentUser=Xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let d=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new jr,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const E=d;e.enqueueRetryable((0,we.Z)(function*(){yield E.promise,yield u(r.currentUser)}))},v=E=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(E=>v(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?v(E):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new jr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft("string"==typeof r.accessToken),new Hw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new Xr(e)}}class Zf{constructor(e,t,r){this.type="FirstParty",this.user=Xr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class fi{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Zf(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class am{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,Be("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?i(u):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),this.p=t.token,new Qu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Yv(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class wc{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Yv(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function ps(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Ec(n){return n+"\0"}class yn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new yn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new yn(0,0))}static max(){return new St(new yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ra{constructor(e,t,r){void 0===t?t=0:t>e.length&&dt(),void 0===r?r=e.length-t:r>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ra.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ra?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),d=t.get(i);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kt extends ra{construct(e,t,r){return new Kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const Wd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends ra{construct(e,t,r){return new ar(e,t,r)}static isValidIdentifier(e){return Wd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Fe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Fe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Fe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===p?(d=!d,i++):"."!==p||d?(r+=p,i++):(u(),i++)}if(u(),d)throw new Fe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(t)}static emptyPath(){return new ar([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(Kt.fromString(e))}static fromName(e){return new et(Kt.fromString(e).popFirst(5))}static empty(){return new et(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new Kt(e.slice()))}}class Gf{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function um(n){return n.fields.find(e=>2===e.kind)}function Ju(n){return n.fields.filter(e=>2!==e.kind)}Gf.UNKNOWN_ID=-1;class qf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Kd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Kd(0,go.min())}}function Qv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=St.fromTimestamp(1e9===r?new yn(t+1,0):new yn(t,r));return new go(i,et.empty(),e)}function Jv(n){return new go(n.readTime,n.key,-1)}class go{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new go(St.min(),et.empty(),-1)}static max(){return new go(St.max(),et.empty(),-1)}}function lm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Lt(n.largestBatchId,e.largestBatchId))}const Zw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ia(n){return zf.apply(this,arguments)}function zf(){return zf=(0,we.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==Zw)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),zf.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let i=0,u=0,d=!1;e.forEach(p=>{++i,p.next(()=>{++u,d&&u===i&&t()},v=>r(v))}),d=!0,u===i&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(i=>i?de.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new de((r,i)=>{const u=e.length,d=new Array(u);let p=0;for(let v=0;v<u;v++){const E=v;t(e[E]).next(A=>{d[E]=A,++p,p===u&&r(d)},A=>i(A))}})}static doWhile(e,t){return new de((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class Cc{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new jr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Wf(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=Kf(r.target.error);this.T.reject(new Wf(e,i))}}static open(e,t,r,i){try{return new Cc(t,e.transaction(i,r))}catch(u){throw new Wf(t,u)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new e_(t)}}class zi{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===zi.v((0,Pt.z$)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),Xu(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Pt.hl)())return!1;if(zi.S())return!0;const e=(0,Pt.z$)(),t=zi.v(e),r=0<t&&t<10,i=zi.D(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,we.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{i(new Wf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const p=d.target.error;i("VersionError"===p.name?new Fe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Fe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Wf(e,p))},u.onupgradeneeded=d=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.P.O(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,we.Z)(function*(){const d="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.k(e);const v=Cc.open(u.db,e,d?"readonly":"readwrite",r),E=i(v).next(A=>(v.R(),A)).catch(A=>(v.abort(A),de.reject(A))).toPromise();return E.catch(()=>{}),yield v.A,E}catch(v){const E=v,A="FirebaseError"!==E.name&&p<3;if(Be("SimpleDb","Transaction failed with error:",E.message,"Retrying:",A),u.close(),!A)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Xv{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Xu(this.$.delete())}}class Wf extends Fe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function oa(n){return"IndexedDbTransactionError"===n.name}class e_{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xu(r)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),Xu(this.store.add(e))}get(e){return Xu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),Xu(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),Xu(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.G(i,(d,p)=>{u.push(p)}).next(()=>u)}{const i=this.store.getAll(r.range);return new de((u,d)=>{i.onerror=p=>{d(p.target.error)},i.onsuccess=p=>{u(p.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new de((i,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}W(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.G(i,(u,d,p)=>p.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Y(e){const t=this.cursor({});return new de((r,i)=>{t.onerror=u=>{const d=Kf(u.target.error);i(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(p=>{p?d.continue():r()}):r()}})}G(e,t){const r=[];return new de((i,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const p=d.target.result;if(!p)return void i();const v=new Xv(p),E=t(p.primaryKey,p.value,v);if(E instanceof de){const A=E.catch(S=>(v.done(),de.reject(S)));r.push(A)}v.isDone?i():null===v.U?p.continue():p.continue(v.U)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xu(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Kf(r.target.error);t(i)}})}let t_=!1;function Kf(n){const e=zi.v((0,Pt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return t_||(t_=!0,setTimeout(()=>{throw r},0)),r}}return n}class qw{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Be("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{Be("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){oa(r)?Be("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ia(r)}yield t.Z(1)}))}}class zw{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let i=t,u=!0;return de.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Be("IndexBackiller",`Processing collection: ${d}`),this.nt(e,d,i).next(p=>{i-=p,r.add(d)});u=!1})).next(()=>t-i)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.st(i,u)).next(p=>(Be("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>d.size)}))}st(e,t){let r=e;return t.changes.forEach((i,u)=>{const d=Jv(u);lm(d,r)>0&&(r=d)}),new go(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class pi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function n_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ic(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function r_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}pi.ot=-1;class Xn{constructor(e,t){this.comparator=e,this.root=t||$r.EMPTY}insert(e,t){return new Xn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$r.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yd(this.root,e,this.comparator,!0)}}class Yd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $r{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??$r.RED,this.left=i??$r.EMPTY,this.right=u??$r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new $r(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return $r.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1,$r.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new $r(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ww(this.data.getIterator())}getIteratorFrom(e){return new Ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class Ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qd(n){return n.hasNext()?n.getNext():void 0}class Di{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new Di([])}unionWith(e){let t=new In(ar.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Di(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Cr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const Kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function za(n){if(Ft(!!n),"string"==typeof n){let e=0;const t=Kw.exec(n);if(Ft(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:er(n.seconds),nanos:er(n.nanos)}}function er(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function el(n){return"string"==typeof n?Cr.fromBase64String(n):Cr.fromUint8Array(n)}function cm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function o_(n){const e=n.mapValue.fields.__previous_value__;return cm(e)?o_(e):e}function Jd(n){const e=za(n.mapValue.fields.__local_write_time__.timestampValue);return new yn(e.seconds,e.nanos)}class $1{constructor(e,t,r,i,u,d,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class Wa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}function Yf(n){return null==n}function Xd(n){return 0===n&&1/n==-1/0}function Yw(n){return"number"==typeof n&&Number.isInteger(n)&&!Xd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const On={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qf={nullValue:"NULL_VALUE"};function Dc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cm(n)?4:dm(n)?9007199254740991:10:dt()}function sa(n,e){if(n===e)return!0;const t=Dc(n);if(t!==Dc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jd(n).isEqual(Jd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=za(r.timestampValue),d=za(i.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,el(n.bytesValue).isEqual(el(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return er(r.geoPointValue.latitude)===er(i.geoPointValue.latitude)&&er(r.geoPointValue.longitude)===er(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return er(r.integerValue)===er(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=er(r.doubleValue),d=er(i.doubleValue);return u===d?Xd(u)===Xd(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ps(n.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:return function(r,i){const u=r.mapValue.fields||{},d=i.mapValue.fields||{};if(n_(u)!==n_(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===d[p]||!sa(u[p],d[p])))return!1;return!0}(n,e);default:return dt()}var i}function eh(n,e){return void 0!==(n.values||[]).find(t=>sa(t,e))}function tl(n,e){if(n===e)return 0;const t=Dc(n),r=Dc(e);if(t!==r)return Lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const d=er(i.integerValue||i.doubleValue),p=er(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return s_(n.timestampValue,e.timestampValue);case 4:return s_(Jd(n),Jd(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(i,u){const d=el(i),p=el(u);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const d=i.split("/"),p=u.split("/");for(let v=0;v<d.length&&v<p.length;v++){const E=Lt(d[v],p[v]);if(0!==E)return E}return Lt(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const d=Lt(er(i.latitude),er(u.latitude));return 0!==d?d:Lt(er(i.longitude),er(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const d=i.values||[],p=u.values||[];for(let v=0;v<d.length&&v<p.length;++v){const E=tl(d[v],p[v]);if(E)return E}return Lt(d.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===On.mapValue&&u===On.mapValue)return 0;if(i===On.mapValue)return 1;if(u===On.mapValue)return-1;const d=i.fields||{},p=Object.keys(d),v=u.fields||{},E=Object.keys(v);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const S=Lt(p[A],E[A]);if(0!==S)return S;const L=tl(d[p[A]],v[E[A]]);if(0!==L)return L}return Lt(p.length,E.length)}(n.mapValue,e.mapValue);default:throw dt()}}function s_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=za(n),r=za(e),i=Lt(t.seconds,r.seconds);return 0!==i?i:Lt(t.nanos,r.nanos)}function Tc(n){return nl(n)}function nl(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=za(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?el(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const d of r.values||[])u?u=!1:i+=",",i+=nl(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const p of i)d?d=!1:u+=",",u+=`${p}:${nl(r.fields[p])}`;return u+"}"}(n.mapValue):dt();var e}function Ac(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function a_(n){return!!n&&"integerValue"in n}function th(n){return!!n&&"arrayValue"in n}function Qw(n){return!!n&&"nullValue"in n}function u_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function l_(n){return!!n&&"mapValue"in n}function nh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ic(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dm(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function aa(n){return"nullValue"in n?Qf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ac(Wa.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function yT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ac(Wa.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?On:dt()}function Jw(n,e){const t=tl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function gs(n,e){const t=tl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!l_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nh(t)}setAll(e){let t=ar.emptyPath(),r={},i=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=p.popLast()}d?r[p.lastSegment()]=nh(d):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());l_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];l_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ic(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new An(nh(this.value))}}function Uo(n){const e=[];return Ic(n.fields,(t,r)=>{const i=new ar([t]);if(l_(r)){const u=Uo(r.mapValue).fields;if(0===u.length)e.push(i);else for(const d of u)e.push(i.child(d))}else e.push(i)}),new Di(e)}class Sn{constructor(e,t,r,i,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Sn(e,0,St.min(),St.min(),An.empty(),0)}static newFoundDocument(e,t,r){return new Sn(e,1,t,St.min(),r,0)}static newNoDocument(e,t){return new Sn(e,2,t,St.min(),An.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,St.min(),An.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xw{constructor(e,t=null,r=[],i=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=d,this.endAt=p,this.ut=null}}function eE(n,e=null,t=[],r=[],i=null,u=null,d=null){return new Xw(n,e,t,r,i,u,d)}function Sc(n){const e=Xe(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Tc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Tc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Tc(r)).join(",")),e.ut=t}return e.ut}function Jf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!aE(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!sa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!f_(n.startAt,e.startAt)&&f_(n.endAt,e.endAt)}function rh(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function rl(n,e){return n.filters.filter(t=>t instanceof ei&&t.field.isEqual(e))}function tE(n,e,t){let r=Qf,i=!0;for(const u of rl(n,e)){let d=Qf,p=!0;switch(u.op){case"<":case"<=":d=aa(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,p=!1;break;case"!=":case"not-in":d=Qf}Jw({value:r,inclusive:i},{value:d,inclusive:p})<0&&(r=d,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Jw({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function c_(n,e,t){let r=On,i=!0;for(const u of rl(n,e)){let d=On,p=!0;switch(u.op){case">=":case">":d=yT(u.value),p=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,p=!1;break;case"!=":case"not-in":d=On}gs({value:r,inclusive:i},{value:d,inclusive:p})>0&&(r=d,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];gs({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class ei extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new nE(e,t,r):"array-contains"===t?new oE(e,r):"in"===t?new sE(e,r):"not-in"===t?new d_(e,r):"array-contains-any"===t?new fm(e,r):new ei(e,t,r)}static ct(e,t,r){return"in"===t?new rE(e,r):new hm(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(tl(t,this.value)):null!==t&&Dc(this.value)===Dc(t)&&this.at(tl(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nE extends ei{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.at(t)}}class rE extends ei{constructor(e,t){super(e,"in",t),this.keys=iE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hm extends ei{constructor(e,t){super(e,"not-in",t),this.keys=iE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function iE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class oE extends ei{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return th(t)&&eh(t.arrayValue,this.value)}}class sE extends ei{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&eh(this.value.arrayValue,t)}}class d_ extends ei{constructor(e,t){super(e,"not-in",t)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!eh(this.value.arrayValue,t)}}class fm extends ei{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!th(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>eh(this.value.arrayValue,r))}}class ua{constructor(e,t){this.position=e,this.inclusive=t}}class xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function aE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function h_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],d=n.position[i];if(r=u.field.isKeyField()?et.comparator(et.fromName(d.referenceValue),t.key):tl(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function f_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sa(n.position[t],e.position[t]))return!1;return!0}class la{constructor(e,t=null,r=[],i=[],u=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=v,this.lt=null,this.ft=null}}function p_(n,e,t,r,i,u,d,p){return new la(n,e,t,r,i,u,d,p)}function Mc(n){return new la(n)}function g_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function m_(n){for(const e of n.filters)if(e.ht())return e.field;return null}function y_(n){return null!==n.collectionGroup}function ih(n){const e=Xe(n);if(null===e.lt){e.lt=[];const t=m_(e),r=g_(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new xc(t)),e.lt.push(new xc(ar.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.lt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new xc(ar.keyField(),u))}}}return e.lt}function Bo(n){const e=Xe(n);if(!e.ft)if("F"===e.limitType)e.ft=eE(e.path,e.collectionGroup,ih(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of ih(e))t.push(new xc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new ua(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ua(e.startAt.position,e.startAt.inclusive):null;e.ft=eE(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function uE(n,e,t){return new la(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xf(n,e){return Jf(Bo(n),Bo(e))&&n.limitType===e.limitType}function lE(n){return`${Sc(Bo(n))}|lt:${n.limitType}`}function v_(n){return`Query(target=${function vT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Tc(r.value)}`;var r}).join(", ")}]`),Yf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Tc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Tc(t)).join(",")),`Target(${e})`}(Bo(n))}; limitType=${n.limitType})`}function __(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):et.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,d){const p=h_(i,u,d);return i.inclusive?p<=0:p<0}(t.startAt,ih(t),r)||t.endAt&&!function(i,u,d){const p=h_(i,u,d);return i.inclusive?p>=0:p>0}(t.endAt,ih(t),r)));var t,r}function cE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dE(n){return(e,t)=>{let r=!1;for(const i of ih(n)){const u=bT(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function bT(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(i,u,d){const p=u.data.field(i),v=d.data.field(i);return null!==p&&null!==v?tl(p,v):dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}function hE(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function fE(n){return{integerValue:""+n}}function pE(n,e){return Yw(e)?fE(e):hE(n,e)}class pm{constructor(){this._=void 0}}function gE(n,e,t){return n instanceof kc?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof il?w_(n,e):n instanceof ol?E_(n,e):function(r,i){const u=b_(r,i),d=C_(u)+C_(r._t);return a_(u)&&a_(r._t)?fE(d):hE(r.wt,d)}(n,e)}function mE(n,e,t){return n instanceof il?w_(n,e):n instanceof ol?E_(n,e):t}function b_(n,e){return n instanceof Rc?a_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class kc extends pm{}class il extends pm{constructor(e){super(),this.elements=e}}function w_(n,e){const t=I_(e);for(const r of n.elements)t.some(i=>sa(i,r))||t.push(r);return{arrayValue:{values:t}}}class ol extends pm{constructor(e){super(),this.elements=e}}function E_(n,e){let t=I_(e);for(const r of n.elements)t=t.filter(i=>!sa(i,r));return{arrayValue:{values:t}}}class Rc extends pm{constructor(e,t){super(),this.wt=e,this._t=t}}function C_(n){return er(n.integerValue||n.doubleValue)}function I_(n){return th(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ms{constructor(e,t){this.field=e,this.transform=t}}class ET{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function D_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class oh{}function CT(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ya(n.key,Dn.none()):new ah(n.key,n.data,Dn.none());{const t=n.data,r=An.empty();let i=new In(ar.comparator);for(let u of e.fields)if(!i.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),i=i.add(u)}return new Ka(n.key,r,new Di(i.toArray()),Dn.none())}}function yE(n,e,t){n instanceof ah?function(r,i,u){const d=r.value.clone(),p=Oc(r.fieldTransforms,i,u.transformResults);d.setAll(p),i.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ka?function(r,i,u){if(!D_(r.precondition,i))return void i.convertToUnknownDocument(u.version);const d=Oc(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll(vE(r)),p.setAll(d),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function sh(n,e,t,r){return n instanceof ah?function(i,u,d,p){if(!D_(i.precondition,u))return d;const v=i.value.clone(),E=_E(i.fieldTransforms,p,u);return v.setAll(E),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ka?function(i,u,d,p){if(!D_(i.precondition,u))return d;const v=_E(i.fieldTransforms,p,u),E=u.data;return E.setAll(vE(i)),E.setAll(v),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(A=>A.field))}(n,e,t,r):(d=t,D_(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function H1(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=b_(r.transform,i||null);null!=u&&(null===t&&(t=An.empty()),t.set(r.field,u))}return t||null}function xt(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ps(t,r,(i,u)=>function wT(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof il&&r instanceof il||t instanceof ol&&r instanceof ol?ps(t.elements,r.elements,sa):t instanceof Rc&&r instanceof Rc?sa(t._t,r._t):t instanceof kc&&r instanceof kc);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ah extends oh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ka extends oh{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Oc(n,e,t){const r=new Map;Ft(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],d=u.transform,p=e.data.field(u.field);r.set(u.field,mE(d,p,t[i]))}return r}function _E(n,e,t){const r=new Map;for(const i of n){const u=i.transform,d=t.data.field(i.field);r.set(i.field,gE(u,d,e))}return r}class Ya extends oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uh extends oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ur{constructor(e){this.count=e}}var Nr,rn;function T_(n){switch(n){default:return dt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function bE(n){if(void 0===n)return Er("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Nr.OK:return pe.OK;case Nr.CANCELLED:return pe.CANCELLED;case Nr.UNKNOWN:return pe.UNKNOWN;case Nr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Nr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Nr.INTERNAL:return pe.INTERNAL;case Nr.UNAVAILABLE:return pe.UNAVAILABLE;case Nr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Nr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Nr.NOT_FOUND:return pe.NOT_FOUND;case Nr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Nr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Nr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Nr.ABORTED:return pe.ABORTED;case Nr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Nr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Nr.DATA_LOSS:return pe.DATA_LOSS;default:return dt()}}(rn=Nr||(Nr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";class Qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ic(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return r_(this.inner)}size(){return this.innerSize}}const wE=new Xn(et.comparator);function Ti(){return wE}const A_=new Xn(et.comparator);function ep(...n){let e=A_;for(const t of n)e=e.insert(t.key,t);return e}function EE(n){let e=A_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ca(){return tp()}function lh(){return tp()}function tp(){return new Qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const IT=new Xn(et.comparator),DT=new In(et.comparator);function Gt(...n){let e=DT;for(const t of n)e=e.add(t);return e}const CE=new In(Lt);function np(){return CE}class ch{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,rp.createSynthesizedTargetChangeForCurrentChange(e,t)),new ch(St.min(),r,np(),Ti(),Gt())}}class rp{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new rp(Cr.EMPTY_BYTE_STRING,t,Gt(),Gt(),Gt())}}class sl{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class dh{constructor(e,t){this.targetId=e,this.It=t}}class IE{constructor(e,t,r=Cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class DE{constructor(){this.Tt=0,this.Et=x_(),this.At=Cr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Gt(),t=Gt(),r=Gt();return this.Et.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:dt()}}),new rp(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=x_()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class TT{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Ti(),this.Bt=S_(),this.Lt=new In(Lt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const u=i.target;if(rh(u))if(0===r){const d=new et(u.path);this.Kt(t,d,Sn.newNoDocument(d,St.min()))}else Ft(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((u,d)=>{const p=this.Ht(d);if(p){if(u.current&&rh(p.target)){const v=new et(p.target.path);null!==this.$t.get(v)||this.Xt(d,v)||this.Kt(d,v,Sn.newNoDocument(v,e))}u.vt&&(t.set(d,u.St()),u.Dt())}});let r=Gt();this.Bt.forEach((u,d)=>{let p=!0;d.forEachWhile(v=>{const E=this.Ht(v);return!E||2===E.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.$t.forEach((u,d)=>d.setReadTime(e));const i=new ch(e,t,this.Lt,this.$t,r);return this.$t=Ti(),this.Bt=S_(),this.Lt=new In(Lt),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new DE,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new In(Lt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new DE),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function S_(){return new Xn(et.comparator)}function x_(){return new Xn(et.comparator)}const TE={asc:"ASCENDING",desc:"DESCENDING"},AT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class AE{constructor(e,t){this.databaseId=e,this.dt=t}}function ip(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SE(n,e){return n.dt?e.toBase64():e.toUint8Array()}function Z1(n,e){return ip(n,e.toTimestamp())}function ti(n){return Ft(!!n),St.fromTimestamp(function(e){const t=za(e);return new yn(t.seconds,t.nanos)}(n))}function xE(n,e){return(t=n,new Kt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ST(n){const e=Kt.fromString(n);return Ft(R_(e)),e}function hh(n,e){return xE(n.databaseId,e.path)}function mo(n,e){const t=ST(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(ph(t))}function M_(n,e){return xE(n.databaseId,e)}function ME(n){const e=ST(n);return 4===e.length?Kt.emptyPath():ph(e)}function fh(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ph(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function kE(n,e,t){return{name:hh(n,e),fields:t.value.mapValue.fields}}function RE(n,e,t){const r=mo(n,e.name),i=ti(e.updateTime),u=new An({mapValue:{fields:e.fields}}),d=Sn.newFoundDocument(r,i,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function op(n,e){let t;if(e instanceof ah)t={update:kE(n,e.key,e.value)};else if(e instanceof Ya)t={delete:hh(n,e.key)};else if(e instanceof Ka)t={update:kE(n,e.key,e.data),updateMask:VE(e.fieldMask)};else{if(!(e instanceof uh))return dt();t={verify:hh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const d=u.transform;if(d instanceof kc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof il)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ol)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Rc)return{fieldPath:u.field.canonicalString(),increment:d._t};throw dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Z1(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:dt()),t;var i}function gm(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Dn.updateTime(ti(i.updateTime)):void 0!==i.exists?Dn.exists(i.exists):Dn.none():Dn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,d){let p=null;"setToServerValue"in d?(Ft("REQUEST_TIME"===d.setToServerValue),p=new kc):"appendMissingElements"in d?p=new il(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new ol(d.removeAllFromArray.values||[]):"increment"in d?p=new Rc(u,d.increment):dt();const v=ar.fromServerFormat(d.fieldPath);return new ms(v,p)}(n,i)):[];var i;if(e.update){const i=mo(n,e.update.name),u=new An({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Di((e.updateMask.fieldPaths||[]).map(E=>ar.fromServerFormat(E)));return new Ka(i,u,d,t,r)}return new ah(i,u,t,r)}if(e.delete){const i=mo(n,e.delete);return new Ya(i,t)}if(e.verify){const i=mo(n,e.verify);return new uh(i,t)}return dt()}function OE(n,e){return{documents:[M_(n,e.path)]}}function Nc(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=M_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=M_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0===v.length)return;const E=v.map(A=>function(S){if("=="===S.op){if(u_(S.value))return{unaryFilter:{field:Pc(S.field),op:"IS_NAN"}};if(Qw(S.value))return{unaryFilter:{field:Pc(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(u_(S.value))return{unaryFilter:{field:Pc(S.field),op:"IS_NOT_NAN"}};if(Qw(S.value))return{unaryFilter:{field:Pc(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pc(S.field),op:RT(S.op),value:S.value}}}(A));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(v){if(0!==v.length)return v.map(E=>{return{field:Pc((A=E).field),direction:LE(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(E=e.limit,n.dt||Yf(E)?E:{value:E});var E,p,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function NE(n){let e=ME(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ft(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=FE(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(A=>{return new xc(gh((S=A).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let p=null;t.limit&&(p=function(A){let S;return S="object"==typeof A?A.value:A,Yf(S)?null:S}(t.limit));let v=null;var A;t.startAt&&(v=new ua((A=t.startAt).values||[],!!A.before));let E=null;return t.endAt&&(E=function(A){return new ua(A.values||[],!A.before)}(t.endAt)),p_(e,i,d,u,p,"F",v,E)}function FE(n){return n?void 0!==n.unaryFilter?[OT(n)]:void 0!==n.fieldFilter?[k_(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>FE(e)).reduce((e,t)=>e.concat(t)):dt():[]}function LE(n){return TE[n]}function RT(n){return AT[n]}function Pc(n){return{fieldPath:n.canonicalString()}}function gh(n){return ar.fromServerFormat(n.fieldPath)}function k_(n){return ei.create(gh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function OT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=gh(n.unaryFilter.field);return ei.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=gh(n.unaryFilter.field);return ei.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gh(n.unaryFilter.field);return ei.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=gh(n.unaryFilter.field);return ei.create(i,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function VE(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function R_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ai(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=UE(e)),e=NT(n.get(t),e);return UE(e)}function NT(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function UE(n){return n+"\x01\x01"}function jo(n){const e=n.length;if(Ft(e>=2),2===e)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Kt.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&dt(),n.charAt(d+1)){case"\x01":const p=n.substring(u,d);let v;0===i.length?v=p:(i+=p,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(u,d),i+="\0";break;case"\x11":i+=n.substring(u,d+1);break;default:dt()}u=d+2}return new Kt(r)}const BE=["userId","batchId"];function sp(n,e){return[n,Ai(e)]}function jE(n,e,t){return[n,Ai(e),t]}const PT={},FT=["prefixPath","collectionGroup","readTime","documentId"],LT=["prefixPath","collectionGroup","documentId"],VT=["collectionGroup","readTime","prefixPath","documentId"],UT=["canonicalId","targetId"],BT=["targetId","path"],jT=["path","targetId"],$E=["collectionId","parent"],HE=["indexId","uid"],$T=["uid","sequenceNumber"],HT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ZE=["indexId","uid","orderedDocumentKey"],ZT=["userId","collectionPath","documentId"],GT=["userId","collectionPath","largestBatchId"],qT=["userId","collectionGroup","largestBatchId"],mm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],O_=[...mm,"documentOverlays"],N_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ym=N_,zT=[...ym,"indexConfiguration","indexState","indexEntries"];class P_ extends Gw{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Ir(n,e){const t=Xe(n);return zi.N(t.ee,e)}class F_{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&yE(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=sh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=sh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=lh();return this.mutations.forEach(i=>{const u=e.get(i.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=t.has(i.key)?null:p;const v=CT(d,p);null!==v&&r.set(i.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(t,r)=>xt(t,r))&&ps(this.baseMutations,e.baseMutations,(t,r)=>xt(t,r))}}class vm{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ft(e.mutations.length===r.length);let i=IT;const u=e.mutations;for(let d=0;d<u.length;d++)i=i.insert(u[d].key,r[d].version);return new vm(e,t,r,i)}}class L_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ja{constructor(e,t,r,i,u=St.min(),d=St.min(),p=Cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class WT{constructor(e){this.ne=e}}function mh(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:da(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:hh(i=n.ne,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ip(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:al(e.version)};else{if(!e.isUnknownDocument())return dt();r.unknownDocument={path:t.path.toArray(),version:al(e.version)}}var i,u;return r}function da(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function al(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fc(n){const e=new yn(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function ul(n,e){const t=(e.baseMutations||[]).map(u=>gm(n.ne,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>gm(n.ne,u)),i=yn.fromMillis(e.localWriteTimeMs);return new F_(e.batchId,i,t,r)}function ap(n){const e=Fc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Fc(n.lastLimboFreeSnapshotVersion):St.min();let r;var i;return void 0!==n.query.documents?(Ft(1===(i=n.query).documents.length),r=Bo(Mc(ME(i.documents[0])))):r=Bo(NE(n.query)),new Ja(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Cr.fromBase64String(n.resumeToken))}function Lc(n,e){const t=al(e.snapshotVersion),r=al(e.lastLimboFreeSnapshotVersion);let i;i=rh(e.target)?OE(n.ne,e.target):Nc(n.ne,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Vc(n){const e=NE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?uE(e,e.limit,"L"):e}function V_(n,e){return new L_(e.largestBatchId,gm(n.ne,e.overlayMutation))}function YT(n,e){const t=e.path.lastSegment();return[n,Ai(e.path.popLast()),t]}function U_(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:al(r.readTime),documentKey:Ai(r.documentKey.path),largestBatchId:r.largestBatchId}}class QT{getBundleMetadata(e,t){return GE(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Fc(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return GE(e).put({bundleId:(r=t).id,createTime:al(ti(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return qE(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Vc(i.bundledQuery),readTime:Fc(i.readTime)};var i})}saveNamedQuery(e,t){return qE(e).put({name:(r=t).name,readTime:al(ti(r.readTime)),bundledQuery:r.bundledQuery});var r}}function GE(n){return Ir(n,"bundles")}function qE(n){return Ir(n,"namedQueries")}class _m{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new _m(e,t.uid||"")}getOverlay(e,t){return yh(e).get(YT(this.userId,t)).next(r=>r?V_(this.wt,r):null)}getOverlays(e,t){const r=ca();return de.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,d)=>{const p=new L_(t,d);i.push(this.ie(e,p))}),de.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Ai(d.getCollectionPath())));const u=[];return i.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(yh(e).W("collectionPathOverlayIndex",p))}),de.waitFor(u)}getOverlaysForCollection(e,t,r){const i=ca(),u=Ai(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return yh(e).K("collectionPathOverlayIndex",d).next(p=>{for(const v of p){const E=V_(this.wt,v);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=ca();let d;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yh(e).J({index:"collectionGroupOverlayIndex",range:p},(v,E,A)=>{const S=V_(this.wt,E);u.size()<i||S.largestBatchId===d?(u.set(S.getKey(),S),d=S.largestBatchId):A.done()}).next(()=>u)}ie(e,t){return yh(e).put(function(r,i,u){const[d,p,v]=YT(i,u.mutation.key);return{userId:i,collectionPath:p,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:op(r.ne,u.mutation)}}(this.wt,this.userId,t))}}function yh(n){return Ir(n,"documentOverlays")}class ll{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(er(e.integerValue));else if("doubleValue"in e){const r=er(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Xd(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(el(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?dm(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):dt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),et.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function B_(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function up(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=B_(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}ll.ye=new ll;class lp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=t.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const t=this.Ve(e),r=up(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}De(e){const t=this.Ve(e),r=up(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class JT{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class j_{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class vh{constructor(){this.Me=new lp,this.Fe=new JT(this.Me),this.$e=new j_(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Uc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Uc(this.indexId,this.documentKey,this.arrayValue,r)}}function Bc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=bm(n.arrayValue,e.arrayValue),0!==t?t:(t=bm(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function bm(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class XT{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=um(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Ju(e);let i=0,u=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const d=r[i];if(!this.je(this.Ke,d)||!this.We(this.Ue[u++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(u>=this.Ue.length||!this.We(this.Ue[u++],d))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class G1{constructor(){this.ze=new $_}addToCollectionParentIndex(e,t){return this.ze.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(go.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(go.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class $_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new In(Kt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new In(Kt.comparator)).toArray()}}const wm=new Uint8Array(0);class zE{constructor(e,t){this.user=e,this.databaseId=t,this.He=new $_,this.Je=new Qa(r=>Sc(r),(r,i)=>Jf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const u={collectionId:r,parent:Ai(i)};return Em(e).put(u)}return de.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Ec(t),""],!1,!0);return Em(e).K(i).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(jo(d.parent))}return r})}addFieldIndex(e,t){const r=_h(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var d;delete i.indexId;const u=r.add(i);if(t.indexState){const d=dp(e);return u.next(p=>{d.put(U_(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=_h(e),i=dp(e),u=cp(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=cp(e);let i=!0;const u=new Map;return de.forEach(this.Ye(t),d=>this.Xe(e,d).next(p=>{i&&(i=!!p),u.set(d,p)})).next(()=>{if(i){let d=Gt();const p=[];return de.forEach(u,(v,E)=>{var A;Be("IndexedDbIndexManager",`Using index ${A=v,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(it=>`${it.fieldPath}:${it.kind}`).join(",")}`} to execute ${Sc(t)}`);const S=function(it,st){const Ct=um(st);if(void 0===Ct)return null;for(const Ht of rl(it,Ct.fieldPath))switch(Ht.op){case"array-contains-any":return Ht.value.arrayValue.values||[];case"array-contains":return[Ht.value]}return null}(E,v),L=function(it,st){const Ct=new Map;for(const Ht of Ju(st))for(const Hn of rl(it,Ht.fieldPath))switch(Hn.op){case"==":case"in":Ct.set(Ht.fieldPath.canonicalString(),Hn.value);break;case"not-in":case"!=":return Ct.set(Ht.fieldPath.canonicalString(),Hn.value),Array.from(Ct.values())}return null}(E,v),q=function(it,st){const Ct=[];let Ht=!0;for(const Hn of Ju(st)){const Mi=0===Hn.kind?tE(it,Hn.fieldPath,it.startAt):c_(it,Hn.fieldPath,it.startAt);Ct.push(Mi.value),Ht&&(Ht=Mi.inclusive)}return new ua(Ct,Ht)}(E,v),ee=function(it,st){const Ct=[];let Ht=!0;for(const Hn of Ju(st)){const Mi=0===Hn.kind?c_(it,Hn.fieldPath,it.endAt):tE(it,Hn.fieldPath,it.endAt);Ct.push(Mi.value),Ht&&(Ht=Mi.inclusive)}return new ua(Ct,Ht)}(E,v),Pe=this.Ze(v,E,q),Le=this.Ze(v,E,ee),lt=this.tn(v,E,L),ct=this.en(v.indexId,S,Pe,q.inclusive,Le,ee.inclusive,lt);return de.forEach(ct,it=>r.j(it,t.limit).next(st=>{st.forEach(Ct=>{const Ht=et.fromSegments(Ct.documentKey);d.has(Ht)||(d=d.add(Ht),p.push(Ht))})}))}).next(()=>p)}return de.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,i,u,d,p){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),E=v/(null!=t?t.length:1),A=[];for(let S=0;S<v;++S){const L=t?this.nn(t[S/E]):wm,q=this.sn(e,L,r[S%E],i),ee=this.rn(e,L,u[S%E],d),Pe=p.map(Le=>this.sn(e,L,Le,!0));A.push(...this.createRange(q,ee,Pe))}return A}sn(e,t,r,i){const u=new Uc(e,et.empty(),t,r);return i?u:u.Le()}rn(e,t,r,i){const u=new Uc(e,et.empty(),t,r);return i?u.Le():u}Xe(e,t){const r=new XT(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let d=null;for(const p of u)r.Ge(p)&&(!d||p.fields.length>d.fields.length)&&(d=p);return d})}getIndexType(e,t){let r=2;return de.forEach(this.Ye(t),i=>this.Xe(e,i).next(u=>{u?0!==r&&u.fields.length<function(d){let p=new In(ar.comparator),v=!1;for(const E of d.filters){const A=E;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?v=!0:p=p.add(A.field))}for(const E of d.orderBy)E.field.isKeyField()||(p=p.add(E.field));return p.size+(v?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new vh;for(const i of Ju(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const d=r.Be(i.kind);ll.ye.re(u,d)}return r.Oe()}nn(e){const t=new vh;return ll.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new vh;return ll.ye.re(Ac(this.databaseId,t),r.Be(function(i){const u=Ju(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let i=[];i.push(new vh);let u=0;for(const d of Ju(e)){const p=r[u++];for(const v of i)if(this.cn(t,d.fieldPath)&&th(p))i=this.an(i,d,p);else{const E=v.Be(d.kind);ll.ye.re(p,E)}}return this.hn(i)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const i=[...e],u=[];for(const d of r.arrayValue.values||[])for(const p of i){const v=new vh;v.seed(p.Oe()),ll.ye.re(d,v.Be(t.kind)),u.push(v)}return u}cn(e,t){return!!e.filters.find(r=>r instanceof ei&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=_h(e),i=dp(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(u=>{const d=[];return de.forEach(u,p=>i.get([p.indexId,this.uid]).next(v=>{d.push(function(E,A){const S=A?new Kd(A.sequenceNumber,new go(Fc(A.readTime),new et(jo(A.documentKey)),A.largestBatchId)):Kd.empty(),L=E.fields.map(([q,ee])=>new qf(ar.fromServerFormat(q),ee));return new Gf(E.indexId,E.collectionGroup,L,S)}(p,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Lt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=_h(e),u=dp(e);return this.ln(e).next(d=>i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>de.forEach(p,v=>u.put(U_(v.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(i,u)=>{const d=r.get(i.collectionGroup);return(d?de.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),de.forEach(p,v=>this.fn(e,i,v).next(E=>{const A=this.dn(u,v);return E.isEqual(A)?de.resolve():this._n(e,u,v,E,A)}))))})}wn(e,t,r,i){return cp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,i){return cp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const i=cp(e);let u=new In(Bc);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(d,p)=>{u=u.add(new Uc(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}dn(e,t){let r=new In(Bc);const i=this.on(t,e);if(null==i)return r;const u=um(t);if(null!=u){const d=e.data.field(u.fieldPath);if(th(d))for(const p of d.arrayValue.values||[])r=r.add(new Uc(t.indexId,e.key,this.nn(p),i))}else r=r.add(new Uc(t.indexId,e.key,wm,i));return r}_n(e,t,r,i,u){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(p,v,E,A,S){const L=p.getIterator(),q=v.getIterator();let ee=Qd(L),Pe=Qd(q);for(;ee||Pe;){let Le=!1,lt=!1;if(ee&&Pe){const ct=E(ee,Pe);ct<0?lt=!0:ct>0&&(Le=!0)}else null!=ee?lt=!0:Le=!0;Le?(A(Pe),Pe=Qd(q)):lt?(S(ee),ee=Qd(L)):(ee=Qd(L),Pe=Qd(q))}}(i,u,Bc,p=>{d.push(this.wn(e,t,r,p))},p=>{d.push(this.mn(e,t,r,p))}),de.waitFor(d)}ln(e){let t=1;return dp(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,p)=>Bc(d,p)).filter((d,p,v)=>!p||0!==Bc(d,v[p-1]));const i=[];i.push(e);for(const d of r){const p=Bc(d,e),v=Bc(d,t);if(0===p)i[0]=e.Le();else if(p>0&&v<0)i.push(d),i.push(d.Le());else if(v>0)break}i.push(t);const u=[];for(let d=0;d<i.length;d+=2)u.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,wm,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,wm,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(WE)}getMinOffset(e,t){return de.mapArray(this.Ye(t),r=>this.Xe(e,r).next(i=>i||dt())).next(WE)}}function Em(n){return Ir(n,"collectionParents")}function cp(n){return Ir(n,"indexEntries")}function _h(n){return Ir(n,"indexConfiguration")}function dp(n){return Ir(n,"indexState")}function WE(n){Ft(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;lm(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new go(e.readTime,e.documentKey,t)}const KE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Wi(e,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function H_(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let p=0;const v=r.J({range:d},(A,S,L)=>(p++,L.delete()));u.push(v.next(()=>{Ft(1===p)}));const E=[];for(const A of t.mutations){const S=jE(e,A.key.path,t.batchId);u.push(i.delete(S)),E.push(A.key)}return de.waitFor(u).next(()=>E)}function Cm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi(41943040,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);class Im{constructor(e,t,r,i){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,t,r,i){Ft(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Im(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cl(e).J({index:"userMutationsIndex",range:r},(i,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=bh(e),d=cl(e);return d.add({}).next(p=>{Ft("number"==typeof p);const v=new F_(p,t,r,i),E=function(L,q,ee){const Pe=ee.baseMutations.map(lt=>op(L.ne,lt)),Le=ee.mutations.map(lt=>op(L.ne,lt));return{userId:q,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:Pe,mutations:Le}}(this.wt,this.userId,v),A=[];let S=new In((L,q)=>Lt(L.canonicalString(),q.canonicalString()));for(const L of i){const q=jE(this.userId,L.key.path,p);S=S.add(L.key.path.popLast()),A.push(d.put(E)),A.push(u.put(q,PT))}return S.forEach(L=>{A.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.gn[p]=v.keys()}),de.waitFor(A).next(()=>v)})}lookupMutationBatch(e,t){return cl(e).get(t).next(r=>r?(Ft(r.userId===this.userId),ul(this.wt,r)):null)}yn(e,t){return this.gn[t]?de.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.gn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return cl(e).J({index:"userMutationsIndex",range:i},(d,p,v)=>{p.userId===this.userId&&(Ft(p.batchId>=r),u=ul(this.wt,p)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return cl(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cl(e).K("userMutationsIndex",t).next(r=>r.map(i=>ul(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=sp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return bh(e).J({range:i},(d,p,v)=>{const[E,A,S]=d,L=jo(A);if(E===this.userId&&t.path.isEqual(L))return cl(e).get(S).next(q=>{if(!q)throw dt();Ft(q.userId===this.userId),u.push(ul(this.wt,q))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new In(Lt);const i=[];return t.forEach(u=>{const d=sp(this.userId,u.path),p=IDBKeyRange.lowerBound(d),v=bh(e).J({range:p},(E,A,S)=>{const[L,q,ee]=E,Pe=jo(q);L===this.userId&&u.path.isEqual(Pe)?r=r.add(ee):S.done()});i.push(v)}),de.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=sp(this.userId,r),d=IDBKeyRange.lowerBound(u);let p=new In(Lt);return bh(e).J({range:d},(v,E,A)=>{const[S,L,q]=v,ee=jo(L);S===this.userId&&r.isPrefixOf(ee)?ee.length===i&&(p=p.add(q)):A.done()}).next(()=>this.pn(e,p))}pn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(cl(e).get(u).next(d=>{if(null===d)throw dt();Ft(d.userId===this.userId),r.push(ul(this.wt,d))}))}),de.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return H_(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),de.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return bh(e).J({range:r},(u,d,p)=>{if(u[0]===this.userId){const v=jo(u[1]);i.push(v)}else p.done()}).next(()=>{Ft(0===i.length)})})}containsKey(e,t){return YE(e,this.userId,t)}Tn(e){return QE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function YE(n,e,t){const r=sp(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return bh(n).J({range:u,H:!0},(p,v,E)=>{const[A,S,L]=p;A===e&&S===i&&(d=!0),E.done()}).next(()=>d)}function cl(n){return Ir(n,"mutations")}function bh(n){return Ir(n,"documentMutations")}function QE(n){return Ir(n,"mutationQueues")}class jc{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new jc(0)}static Rn(){return new jc(-1)}}class eA{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new jc(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>St.fromTimestamp(new yn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pn(e,i)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ha(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(Ft(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return ha(e).J((d,p)=>{const v=ap(p);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,u.push(this.removeTargetData(e,v)))}).next(()=>de.waitFor(u)).next(()=>i)}forEachTarget(e,t){return ha(e).J((r,i)=>{const u=ap(i);t(u)})}bn(e){return Z_(e).get("targetGlobalKey").next(t=>(Ft(null!==t),t))}Pn(e,t){return Z_(e).put("targetGlobalKey",t)}vn(e,t){return ha(e).put(Lc(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Sc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return ha(e).J({range:i,index:"queryTargetsIndex"},(d,p,v)=>{const E=ap(p);Jf(t,E.target)&&(u=E,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=Xa(e);return t.forEach(d=>{const p=Ai(d.path);i.push(u.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,d))}),de.waitFor(i)}removeMatchingKeys(e,t,r){const i=Xa(e);return de.forEach(t,u=>{const d=Ai(u.path);return de.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Xa(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Xa(e);let u=Gt();return i.J({range:r,H:!0},(d,p,v)=>{const E=jo(d[1]),A=new et(E);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=Ai(t.path),i=IDBKeyRange.bound([r],[Ec(r)],!1,!0);let u=0;return Xa(e).J({index:"documentTargetsIndex",H:!0,range:i},([d,p],v,E)=>{0!==d&&(u++,E.done())}).next(()=>u>0)}te(e,t){return ha(e).get(t).next(r=>r?ap(r):null)}}function ha(n){return Ir(n,"targets")}function Z_(n){return Ir(n,"targetGlobal")}function Xa(n){return Ir(n,"targetDocuments")}function G_([n,e],[t,r]){const i=Lt(n,t);return 0===i?Lt(e,r):i}class JE{constructor(e){this.Sn=e,this.buffer=new In(G_),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();G_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XE{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){oa(r)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ia(r)}yield t.kn(3e5)}))}}class eC{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(pi.ot);const r=new JE(t);return this.On.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.On.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(KE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KE):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,i,u,d,p,v,E;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,d=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,p=Date.now(),this.removeTargets(e,r,t))).next(S=>(u=S,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(E=Date.now(),qv()<=Zu.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${i} in `+(p-d)+`ms\n\tRemoved ${u} targets in `+(v-p)+`ms\n\tRemoved ${S} documents in `+(E-v)+`ms\nTotal Duration: ${E-A}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:S})))}}class tA{constructor(e,t){this.db=e,this.garbageCollector=new eC(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,i)=>t(i))}addReference(e,t,r){return q_(e,r)}removeReference(e,t,r){return q_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return q_(e,t)}Un(e,t){return function(r,i){let u=!1;return QE(r).Y(d=>YE(r,d,i).next(p=>(p&&(u=!0),de.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Ln(e,(d,p)=>{if(p<=t){const v=this.Un(e,d).next(E=>{if(!E)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,St.min()),Xa(e).delete([0,Ai(d.path)])))});i.push(v)}}).next(()=>de.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return q_(e,t)}Ln(e,t){const r=Xa(e);let i,u=pi.ot;return r.J({index:"documentTargetsIndex"},([d,p],{path:v,sequenceNumber:E})=>{0===d?(u!==pi.ot&&t(new et(jo(i)),u),u=E,i=v):u=pi.ot}).next(()=>{u!==pi.ot&&t(new et(jo(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function q_(n,e){return Xa(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ai(e.path),sequenceNumber:r}));var r}class z_{constructor(){this.changes=new Qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nA{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ys(e).put(r)}removeEntry(e,t,r){return ys(e).delete(function(i,u){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],da(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=Sn.newInvalidDocument(t);return ys(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hp(t))},(i,u)=>{r=this.Kn(t,u)}).next(()=>r)}Gn(e,t){let r={size:0,document:Sn.newInvalidDocument(t)};return ys(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hp(t))},(i,u)=>{r={document:this.Kn(t,u),size:Cm(u)}}).next(()=>r)}getEntries(e,t){let r=Ti();return this.Qn(e,t,(i,u)=>{const d=this.Kn(i,u);r=r.insert(i,d)}).next(()=>r)}jn(e,t){let r=Ti(),i=new Xn(et.comparator);return this.Qn(e,t,(u,d)=>{const p=this.Kn(u,d);r=r.insert(u,p),i=i.insert(u,Cm(d))}).next(()=>({documents:r,Wn:i}))}Qn(e,t,r){if(t.isEmpty())return de.resolve();let i=new In(vs);t.forEach(v=>i=i.add(v));const u=IDBKeyRange.bound(hp(i.first()),hp(i.last())),d=i.getIterator();let p=d.getNext();return ys(e).J({index:"documentKeyIndex",range:u},(v,E,A)=>{const S=et.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;p&&vs(p,S)<0;)r(p,null),p=d.getNext();p&&p.isEqual(S)&&(r(p,E),p=d.hasNext()?d.getNext():null),p?A.q(hp(p)):A.done()}).next(()=>{for(;p;)r(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),da(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ys(e).K(IDBKeyRange.bound(i,u,!0)).next(d=>{let p=Ti();for(const v of d){const E=this.Kn(et.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);p=p.insert(E.key,E)}return p})}getAllFromCollectionGroup(e,t,r,i){let u=Ti();const d=Dm(t,r),p=Dm(t,go.max());return ys(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(v,E,A)=>{const S=this.Kn(et.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);u=u.insert(S.key,S),u.size===i&&A.done()}).next(()=>u)}newChangeBuffer(e){return new rA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return nC(e).get("remoteDocumentGlobalKey").next(t=>(Ft(!!t),t))}qn(e,t){return nC(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function KT(n,e){let t;if(e.document)t=RE(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),i=Fc(e.noDocument.readTime);t=Sn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const r=et.fromSegments(e.unknownDocument.path),i=Fc(e.unknownDocument.version);t=Sn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new yn(r[0],r[1]);return St.fromTimestamp(i)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(St.min()))return r}return Sn.newInvalidDocument(e)}}function tC(n){return new nA(n)}class rA extends z_{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Qa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new In((u,d)=>Lt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const p=this.Hn.get(u);if(t.push(this.zn.removeEntry(e,u,p.readTime)),d.isValidDocument()){const v=mh(this.zn.wt,d);i=i.add(u.path.popLast()),r+=Cm(v)-p.size,t.push(this.zn.addEntry(e,u,v))}else if(r-=p.size,this.trackRemovals){const v=mh(this.zn.wt,d.convertToNoDocument(St.min()));t.push(this.zn.addEntry(e,u,v))}}),i.forEach(u=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.zn.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:i})=>(i.forEach((u,d)=>{this.Hn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function nC(n){return Ir(n,"remoteDocumentGlobal")}function ys(n){return Ir(n,"remoteDocumentsV14")}function hp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Dm(n,e){const t=e.documentKey.path.toArray();return[n,da(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function vs(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=Lt(t[u],r[u]),i)return i;return i=Lt(t.length,r.length),i||(i=Lt(t[t.length-2],r[r.length-2]),i||Lt(t[t.length-1],r[r.length-1]))}class iA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Tm{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&sh(r.mutation,i,Di.empty(),yn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Gt()){const i=ca();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let d=ep();return u.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=ca();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Gt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,r,i){let u=Ti();const d=tp(),p=tp();return t.forEach((v,E)=>{const A=r.get(E.key);i.has(E.key)&&(void 0===A||A.mutation instanceof Ka)?u=u.insert(E.key,E):void 0!==A&&(d.set(E.key,A.mutation.getFieldMask()),sh(A.mutation,E,A.mutation.getFieldMask(),yn.now()))}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((E,A)=>d.set(E,A)),t.forEach((E,A)=>{var S;return p.set(E,new iA(A,null!==(S=d.get(E))&&void 0!==S?S:null))}),p))}recalculateAndSaveOverlays(e,t){const r=tp();let i=new Xn((d,p)=>d-p),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(v=>{const E=t.get(v);if(null===E)return;let A=r.get(v)||Di.empty();A=p.applyToLocalView(E,A),r.set(v,A);const S=(i.get(p.batchId)||Gt()).add(v);i=i.insert(p.batchId,S)})}).next(()=>{const d=[],p=i.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),E=v.key,A=v.value,S=lh();A.forEach(L=>{if(!u.has(L)){const q=CT(t.get(L),r.get(L));null!==q&&S.set(L,q),u=u.add(L)}}),d.push(this.documentOverlayCache.saveOverlays(e,E,S))}return de.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):y_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const d=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):de.resolve(ca());let p=-1,v=u;return d.next(E=>de.forEach(E,(A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(A)?de.resolve():this.getBaseDocument(e,A,S).next(L=>{v=v.insert(A,L)}))).next(()=>this.populateOverlays(e,E,u)).next(()=>this.computeViews(e,v,E,Gt())).next(A=>({batchId:p,changes:EE(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let i=ep();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=ep();return this.indexManager.getCollectionParents(e,i).next(d=>de.forEach(d,p=>{const v=(E=t,A=p.child(i),new la(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,A;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(E=>{E.forEach((A,S)=>{u=u.insert(A,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((p,v)=>{const E=v.getKey();null===i.get(E)&&(i=i.insert(E,Sn.newInvalidDocument(E)))});let d=ep();return i.forEach((p,v)=>{const E=u.get(p);void 0!==E&&sh(E.mutation,v,Di.empty(),yn.now()),__(t,v)&&(d=d.insert(p,v))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):de.resolve(Sn.newInvalidDocument(t))}}class fp{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return de.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:ti(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:Vc(r.bundledQuery),readTime:ti(r.readTime)}),de.resolve();var r}}class oA{constructor(){this.overlays=new Xn(et.comparator),this.Xn=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ca();return de.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.ie(e,t,u)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.Xn.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const i=ca(),u=t.length+1,d=new et(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,E=v.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===u&&v.largestBatchId>r&&i.set(v.getKey(),v)}return de.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Xn((E,A)=>E-A);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let A=u.get(E.largestBatchId);null===A&&(A=ca(),u=u.insert(E.largestBatchId,A)),A.set(E.getKey(),E)}}const p=ca(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,A)=>p.set(E,A)),!(p.size()>=i)););return de.resolve(p)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new L_(t,r));let u=this.Xn.get(t);void 0===u&&(u=Gt(),this.Xn.set(t,u)),this.Xn.set(t,u.add(r.key))}}class W_{constructor(){this.Zn=new In(Hr.ts),this.es=new In(Hr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Hr(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Hr(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new et(new Kt([])),r=new Hr(t,e),i=new Hr(t,e+1),u=[];return this.es.forEachInRange([r,i],d=>{this.rs(d),u.push(d.key)}),u}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new et(new Kt([])),r=new Hr(t,e),i=new Hr(t,e+1);let u=Gt();return this.es.forEachInRange([r,i],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new Hr(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Hr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return et.comparator(e.key,t.key)||Lt(e.ls,t.ls)}static ns(e,t){return Lt(e.ls,t.ls)||et.comparator(e.key,t.key)}}class Am{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new In(Hr.ts)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.fs;this.fs++;const d=new F_(u,t,r,i);this.mutationQueue.push(d);for(const p of i)this.ds=this.ds.add(new Hr(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return de.resolve(d)}lookupMutationBatch(e,t){return de.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),u=i<0?0:i;return de.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Hr(t,0),i=new Hr(t,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([r,i],d=>{const p=this._s(d.ls);u.push(p)}),de.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new In(Lt);return t.forEach(i=>{const u=new Hr(i,0),d=new Hr(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,d],p=>{r=r.add(p.ls)})}),de.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;et.isDocumentKey(u)||(u=u.child(""));const d=new Hr(new et(u),0);let p=new In(Lt);return this.ds.forEachWhile(v=>{const E=v.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(p=p.add(v.ls)),!0)},d),de.resolve(this.gs(p))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ft(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return de.forEach(t.mutations,i=>{const u=new Hr(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new Hr(t,0),i=this.ds.firstAfterOrEqual(r);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return de.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sm{constructor(e){this.ps=e,this.docs=new Xn(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,d=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let r=Ti();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Sn.newInvalidDocument(i))}),de.resolve(r)}getAllFromCollection(e,t,r){let i=Ti();const u=new et(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||lm(Jv(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return de.resolve(i)}getAllFromCollectionGroup(e,t,r,i){dt()}Is(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sA(this)}getSize(e){return de.resolve(this.size)}}class sA extends z_{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class aA{constructor(e){this.persistence=e,this.Ts=new Qa(t=>Sc(t),Jf),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Es=0,this.As=new W_,this.targetCount=0,this.Rs=jc.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),de.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new jc(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.vn(t),de.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Ts.forEach((d,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Ts.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),de.waitFor(u).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(d=>{u.push(i.markPotentiallyOrphaned(e,d))}),de.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.As.containsKey(t))}}class K_{constructor(e,t){this.bs={},this.overlays={},this.Ps=new pi(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new aA(this),this.indexManager=new G1,this.remoteDocumentCache=new Sm(r=>this.referenceDelegate.Ss(r)),this.wt=new WT(t),this.Ds=new fp(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new Am(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const i=new rC(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(u=>this.referenceDelegate.xs(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ns(e,t){return de.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class rC extends Gw{constructor(e){super(),this.currentSequenceNumber=e}}class wh{constructor(e){this.persistence=e,this.ks=new W_,this.Os=null}static Ms(e){return new wh(e)}get Fs(){if(this.Os)return this.Os;throw dt()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),de.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Fs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Fs,r=>{const i=et.fromPath(r);return this.$s(e,i).next(u=>{u||t.removeEntry(i,St.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return de.or([()=>de.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class iC{constructor(e){this.wt=e}O(e,t,r,i){const u=new Cc("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BE,{unique:!0}),p.createObjectStore("documentMutations"),oC(e),function(p){p.createObjectStore("remoteDocuments")}(e));let d=de.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),oC(e)),d=d.next(()=>function(p){const v=p.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",E)}(u))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(p,v){return v.store("mutations").K().next(E=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BE,{unique:!0});const A=v.store("mutations"),S=E.map(L=>A.put(L));return de.waitFor(S)})}(e,u))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Bs(u))),r<6&&i>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(u)))),r<7&&i>=7&&(d=d.next(()=>this.Us(u))),r<8&&i>=8&&(d=d.next(()=>this.qs(e,u))),r<9&&i>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.Ks(u))),r<11&&i>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:ZT});v.createIndex("collectionPathOverlayIndex",GT,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",qT,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:FT});v.createIndex("documentKeyIndex",LT),v.createIndex("collectionGroupIndex",VT)}(e)).next(()=>this.Gs(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.Qs(e,u))),r<15&&i>=15&&(d=d.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:HE}).createIndex("sequenceNumberIndex",$T,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:HT}).createIndex("documentKeyIndex",ZE,{unique:!1})}(e))),d}Ls(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=Cm(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(i=>de.forEach(i,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",d).next(p=>de.forEach(p,v=>{Ft(v.userId===u.userId);const E=ul(this.wt,v);return H_(e,u.userId,E).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.J((d,p)=>{const v=new Kt(d),E=[0,Ai(v)];u.push(t.get(E).next(A=>A?de.resolve():t.put({targetId:0,path:Ai(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>de.waitFor(u))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:$E});const r=t.store("collectionParents"),i=new $_,u=d=>{if(i.add(d)){const p=d.lastSegment(),v=d.popLast();return r.put({collectionId:p,parent:Ai(v)})}};return t.store("remoteDocuments").J({H:!0},(d,p)=>{const v=new Kt(d);return u(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([d,p,v],E)=>{const A=jo(p);return u(A.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,i)=>{const u=ap(i),d=Lc(this.wt,u);return t.put(d)})}Gs(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((u,d)=>{const p=t.store("remoteDocumentsV14"),v=(E=d,E.document?new et(Kt.fromString(E.document.name).popFirst(5)):E.noDocument?et.fromSegments(E.noDocument.path):E.unknownDocument?et.fromSegments(E.unknownDocument.path):dt()).path.toArray();var E;const A={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(p.put(A))}).next(()=>de.waitFor(i))}Qs(e,t){const r=t.store("mutations"),i=tC(this.wt),u=new K_(wh.Ms,this.wt.ne);return r.K().next(d=>{const p=new Map;return d.forEach(v=>{var E;let A=null!==(E=p.get(v.userId))&&void 0!==E?E:Gt();ul(this.wt,v).keys().forEach(S=>A=A.add(S)),p.set(v.userId,A)}),de.forEach(p,(v,E)=>{const A=new Xr(E),S=_m.se(this.wt,A),L=u.getIndexManager(A),q=Im.se(A,this.wt,L,u.referenceDelegate);return new Tm(i,q,S,L).recalculateAndSaveOverlaysForDocumentKeys(new P_(t,pi.ot),v).next()})})}}function oC(n){n.createObjectStore("targetDocuments",{keyPath:BT}).createIndex("documentTargetsIndex",jT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",UT,{unique:!0}),n.createObjectStore("targetGlobal")}const Y_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sC{constructor(e,t,r,i,u,d,p,v,E,A,S=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=u,this.window=d,this.document=p,this.Ws=E,this.zs=A,this.Hs=S,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=L=>Promise.resolve(),!sC.V())throw new Fe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tA(this,i),this.ei=t+"main",this.wt=new WT(v),this.ni=new zi(this.ei,this.Hs,new iC(this.wt)),this.Vs=new eA(this.referenceDelegate,this.wt),this.remoteDocumentCache=tC(this.wt),this.Ds=new QT,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===A&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(pe.FAILED_PRECONDITION,Y_);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new pi(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,we.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Eh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(oa(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return $c(e).get("owner").next(t=>de.resolve(this.di(t)))}_i(e){return Eh(e).delete(this.clientId)}wi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ir(r,"clientMetadata");return i.K().next(u=>{const d=e.gi(u,18e5),p=u.filter(v=>-1===d.indexOf(v));return de.forEach(p,v=>i.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?de.resolve(!0):$c(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Fe(pe.FAILED_PRECONDITION,Y_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Eh(e).K().next(r=>void 0===this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new P_(t,pi.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Eh(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return Im.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zE(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return _m.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){Be("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(d=this.Hs)?zT:14===d?ym:13===d?N_:12===d?O_:11===d?mm:void dt();var d;let p;return this.ni.runTransaction(e,i,u,v=>(p=new P_(v,this.Ps?this.Ps.next():pi.ot),"readwrite-primary"===t?this.ai(p).next(E=>!!E||this.hi(p)).next(E=>{if(!E)throw Er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Fe(pe.FAILED_PRECONDITION,Zw);return r(p)}).next(E=>this.fi(p).next(()=>E)):this.bi(p).next(()=>r(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}bi(e){return $c(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(pe.FAILED_PRECONDITION,Y_)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $c(e).put("owner",t)}static V(){return zi.V()}li(e){const t=$c(e);return t.get("owner").next(r=>this.di(r)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Er(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Pt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Er("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Er("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $c(n){return Ir(n,"owner")}function Eh(n){return Ir(n,"clientMetadata")}function xm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class pp{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=Gt(),i=Gt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new pp(e,t.fromCache,r,i)}}class Mm{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(u=>u||this.xi(e,t,i,r)).next(u=>u||this.Ni(e,t))}Ci(e,t){return de.resolve(null)}xi(e,t,r,i){return function _T(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(St.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(u=>{const d=this.ki(t,u);return this.Oi(t,d,r,i)?this.Ni(e,t):(qv()<=Zu.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),v_(t)),this.Mi(e,d,t,Qv(i,-1)))})}ki(e,t){let r=new In(dE(e));return t.forEach((i,u)=>{__(e,u)&&(r=r.add(u))}),r}Oi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Ni(e,t){return qv()<=Zu.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",v_(t)),this.Di.getDocumentsMatchingQuery(e,t,go.min())}Mi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class uA{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new Xn(Lt),this.Bi=new Qa(u=>Sc(u),Jf),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tm(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function aC(n,e,t,r){return new uA(n,e,t,r)}function uC(n,e){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,we.Z)(function*(n,e){const t=Xe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],p=[];let v=Gt();for(const E of i){d.push(E.batchId);for(const A of E.mutations)v=v.add(A.key)}for(const E of u){p.push(E.batchId);for(const A of E.mutations)v=v.add(A.key)}return t.localDocuments.getDocuments(r,v).next(E=>({Ki:E,removedBatchIds:d,addedBatchIds:p}))})})}),Q_.apply(this,arguments)}function lC(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Ui.newChangeBuffer({trackRemovals:!0});return function(d,p,v,E){const A=v.batch,S=A.keys();let L=de.resolve();return S.forEach(q=>{L=L.next(()=>E.getEntry(p,q)).next(ee=>{const Pe=v.docVersions.get(q);Ft(null!==Pe),ee.version.compareTo(Pe)<0&&(A.applyToRemoteDocument(ee,v),ee.isValidDocument()&&(ee.setReadTime(v.commitVersion),E.addEntry(ee)))})}),L.next(()=>d.mutationQueue.removeMutationBatch(p,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=Gt();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(p=p.add(d.batch.mutations[v].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function km(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function cC(n,e){const t=Xe(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const p=[];e.targetChanges.forEach((A,S)=>{const L=i.get(S);if(!L)return;p.push(t.Vs.removeMatchingKeys(u,A.removedDocuments,S).next(()=>t.Vs.addMatchingKeys(u,A.addedDocuments,S)));let q=L.withSequenceNumber(u.currentSequenceNumber);var ee,Pe,Le;e.targetMismatches.has(S)?q=q.withResumeToken(Cr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,r)),i=i.insert(S,q),Pe=q,Le=A,(0===(ee=L).resumeToken.approximateByteSize()||Pe.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0)&&p.push(t.Vs.updateTargetData(u,q))});let v=Ti(),E=Gt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),p.push(dC(u,d,e.documentUpdates).next(A=>{v=A.Gi,E=A.Qi})),!r.isEqual(St.min())){const A=t.Vs.getLastRemoteSnapshotVersion(u).next(S=>t.Vs.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(A)}return de.waitFor(p).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,E)).next(()=>v)}).then(u=>(t.$i=i,u))}function dC(n,e,t){let r=Gt(),i=Gt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=Ti();return t.forEach((p,v)=>{const E=u.get(p);v.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(p)),v.isNoDocument()&&v.version.isEqual(St.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||0===v.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):Be("LocalStore","Ignoring outdated watch update for ",p,". Current version:",E.version," Watch version:",v.version)}),{Gi:d,Qi:i}})}function hC(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hc(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(u=>u?(i=u,de.resolve(i)):t.Vs.allocateTargetId(r).next(d=>(i=new Ja(e,d,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function Ch(n,e,t){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,we.Z)(function*(n,e,t){const r=Xe(n),i=r.$i.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!oa(d))throw d;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),Rm.apply(this,arguments)}function gp(n,e,t){const r=Xe(n);let i=St.min(),u=Gt();return r.persistence.runTransaction("Execute query","readonly",d=>function(p,v,E){const A=Xe(p),S=A.Bi.get(E);return void 0!==S?de.resolve(A.$i.get(S)):A.Vs.getTargetData(v,E)}(r,d,Bo(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(d,p.targetId).next(v=>{u=v})}).next(()=>r.Fi.getDocumentsMatchingQuery(d,e,t?i:St.min(),t?u:Gt())).next(p=>(pC(r,cE(e),p),{documents:p,ji:u})))}function fC(n,e){const t=Xe(n),r=Xe(t.Vs),i=t.$i.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.te(u,e).next(d=>d?d.target:null))}function J_(n,e){const t=Xe(n),r=t.Li.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ui.getAllFromCollectionGroup(i,e,Qv(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(pC(t,e,i),i))}function pC(n,e,t){let r=St.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Li.set(e,r)}function dl(){return dl=(0,we.Z)(function*(n,e,t,r){const i=Xe(n);let u=Gt(),d=Ti();for(const E of t){const A=e.Wi(E.metadata.name);E.document&&(u=u.add(A));const S=e.zi(E);S.setReadTime(e.Hi(E.metadata.readTime)),d=d.insert(A,S)}const p=i.Ui.newChangeBuffer({trackRemovals:!0}),v=yield Hc(i,(E=r,Bo(Mc(Kt.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>dC(E,p,d).next(A=>(p.apply(E),A)).next(A=>i.Vs.removeMatchingKeysForTargetId(E,v.targetId).next(()=>i.Vs.addMatchingKeys(E,u,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,A.Gi,A.Qi)).next(()=>A.Gi)))}),dl.apply(this,arguments)}function lA(n,e){return X_.apply(this,arguments)}function X_(){return X_=(0,we.Z)(function*(n,e,t=Gt()){const r=yield Hc(n,Bo(Vc(e.bundledQuery))),i=Xe(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const d=ti(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ds.saveNamedQuery(u,e);const p=r.withResumeToken(Cr.EMPTY_BYTE_STRING,d);return i.$i=i.$i.insert(p.targetId,p),i.Vs.updateTargetData(u,p).next(()=>i.Vs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Vs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ds.saveNamedQuery(u,e))})}),X_.apply(this,arguments)}function cA(n,e){return`firestore_clients_${n}_${e}`}function dA(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Om(n,e){return`firestore_targets_${n}_${e}`}class mp{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let u,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(u=new Fe(i.error.code,i.error.message))),d?new mp(e,t,i.state,u):(Er("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eu{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Fe(r.error.code,r.error.message))),u?new eu(e,r.state,i):(Er("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=np();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Yw(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return i?new Nm(e,u):(Er("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class yp{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new yp(t.clientId,t.onlineState):(Er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class e0{constructor(){this.activeTargetIds=np()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pm{constructor(e,t,r,i,u){this.window=e,this.js=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Xn(Lt),this.started=!1,this.ir=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=cA(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new e0),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Ri();for(const i of t){if(i===e.tr)continue;const u=e.getItem(cA(e.persistenceKey,i));if(u){const d=Nm.Ji(i,u);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Om(this.persistenceKey,e));if(r){const i=eu.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Om(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(u){let d=pi.ot;if(null!=u)try{const p=JSON.parse(u);Ft("number"==typeof p),d=p}catch(p){Er("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(r.newValue);i!==pi.ot&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new mp(this.currentUser,e,t,r),u=dA(this.persistenceKey,this.currentUser,e);this.setItem(u,i.Yi())}pr(e){const t=dA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=Om(this.persistenceKey,e),u=new eu(e,t,r);this.setItem(i,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Nm.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),i=Number(r[1]);return mp.Ji(new Xr(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return eu.Ji(i,t)}wr(e){return yp.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),u=this.gr(r),d=[],p=[];return u.forEach(v=>{i.has(v)||d.push(v)}),i.forEach(v=>{u.has(v)||p.push(v)}),this.syncEngine.Mr(d,p).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=np();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class gC{constructor(){this.Fr=new e0,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new e0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hA{Br(e){}shutdown(){}}class Zc{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class t0{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class mC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,u){const d=this.oo(e,t);Be("RestConnection","Sending: ",d,r);const p={};return this.uo(p,i,u),this.co(e,d,p,r).then(v=>(Be("RestConnection","Received: ",v),v),v=>{throw Hf("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}ao(e,t,r,i,u,d){return this.ro(e,t,r,i,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+bc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}oo(e,t){return`${this.so}/v1/${t}:${fA[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((u,d)=>{const p=new jw;p.listenOnce(hs.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Uw.NO_ERROR:const E=p.getResponseJson();Be("Connection","XHR received:",JSON.stringify(E)),u(E);break;case Uw.TIMEOUT:Be("Connection",'RPC "'+e+'" timed out'),d(new Fe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Uw.HTTP_ERROR:const A=p.getStatus();if(Be("Connection",'RPC "'+e+'" failed with status:',A,"response text:",p.getResponseText()),A>0){const S=p.getResponseJson().error;if(S&&S.status&&S.message){const L=function(q){const ee=q.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(ee)>=0?ee:pe.UNKNOWN}(S.status);d(new Fe(L,S.message))}else d(new Fe(pe.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Fe(pe.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Be("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);p.send(t,"POST",v,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Lw(),d=Vw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new Bw({})),this.uo(p.initMessageHeaders,t,r),(0,Pt.uI)()||(0,Pt.b$)()||(0,Pt.d)()||(0,Pt.w1)()||(0,Pt.Mn)()||(0,Pt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Be("Connection","Creating WebChannel: "+v,p);const E=u.createWebChannel(v,p);let A=!1,S=!1;const L=new t0({jr:ee=>{S?Be("Connection","Not sending because WebChannel is closed:",ee):(A||(Be("Connection","Opening WebChannel transport."),E.open(),A=!0),Be("Connection","WebChannel sending:",ee),E.send(ee))},Wr:()=>E.close()}),q=(ee,Pe,Le)=>{ee.listen(Pe,lt=>{try{Le(lt)}catch(ct){setTimeout(()=>{throw ct},0)}})};return q(E,$f.EventType.OPEN,()=>{S||Be("Connection","WebChannel transport opened.")}),q(E,$f.EventType.CLOSE,()=>{S||(S=!0,Be("Connection","WebChannel transport closed"),L.eo())}),q(E,$f.EventType.ERROR,ee=>{S||(S=!0,Hf("Connection","WebChannel transport errored:",ee),L.eo(new Fe(pe.UNAVAILABLE,"The operation could not be completed")))}),q(E,$f.EventType.MESSAGE,ee=>{var Pe;if(!S){const Le=ee.data[0];Ft(!!Le);const lt=Le,ct=lt.error||(null===(Pe=lt[0])||void 0===Pe?void 0:Pe.error);if(ct){Be("Connection","WebChannel received error:",ct);const it=ct.status;let st=function(Ht){const Hn=Nr[Ht];if(void 0!==Hn)return bE(Hn)}(it),Ct=ct.message;void 0===st&&(st=pe.INTERNAL,Ct="Unknown error status: "+it+" with message "+ct.message),S=!0,L.eo(new Fe(st,Ct)),E.close()}else Be("Connection","WebChannel received:",Le),L.no(Le)}}),q(d,j1.STAT_EVENT,ee=>{ee.stat===gT.PROXY?Be("Connection","Detected buffering proxy"):ee.stat===gT.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.Zr()},0),L}}function n0(){return typeof window<"u"?window:null}function Gc(){return typeof document<"u"?document:null}function qc(n){return new AE(n,!0)}class yC{constructor(e,t,r=1e3,i=1.5,u=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class r0{constructor(e,t,r,i,u,d,p,v){this.js=e,this.Ao=r,this.Ro=i,this.bo=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new yC(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,we.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,we.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Fe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,we.Z)(function*(){e.state=0,e.start()}))}qo(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pA extends r0{constructor(e,t,r,i,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.wt=u}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function MT(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:dt(),i=e.targetChange.targetIds||[],u=function(v,E){return v.dt?(Ft(void 0===E||"string"==typeof E),Cr.fromBase64String(E||"")):(Ft(void 0===E||E instanceof Uint8Array),Cr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const E=void 0===v.code?pe.UNKNOWN:bE(v.code);return new Fe(E,v.message||"")}(d);t=new IE(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=mo(n,r.document.name),u=ti(r.document.updateTime),d=new An({mapValue:{fields:r.document.fields}}),p=Sn.newFoundDocument(i,u,d);t=new sl(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=mo(n,r.document),u=r.readTime?ti(r.readTime):St.min(),d=Sn.newNoDocument(i,u);t=new sl([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=mo(n,r.document);t=new sl([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return dt();{const r=e.filter,u=new ur(r.count||0);t=new dh(r.targetId,u)}}var v;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return St.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?St.min():u.readTime?ti(u.readTime):St.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=fh(this.wt),t.addTarget=function(i,u){let d;const p=u.target;return d=rh(p)?{documents:OE(i,p)}:{query:Nc(i,p)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=SE(i,u.resumeToken):u.snapshotVersion.compareTo(St.min())>0&&(d.readTime=ip(i,u.snapshotVersion.toTimestamp())),d}(this.wt,e);const r=function PE(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=fh(this.wt),t.removeTarget=e,this.Mo(t)}}class vC extends r0{constructor(e,t,r,i,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.wt=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function kT(n,e){return n&&n.length>0?(Ft(void 0!==e),n.map(t=>function(r,i){let u=ti(r.updateTime?r.updateTime:i);return u.isEqual(St.min())&&(u=ti(i)),new ET(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.Jo(r,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=fh(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>op(this.wt,r))};this.Mo(t)}}class Ih extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Fe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.ro(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(pe.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.bo.ao(e,t,r,u,d,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Fe(pe.UNKNOWN,u.toString())})}terminate(){this.Zo=!0}}class gA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Er(t),this.su=!1):Be("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class _C{constructor(e,t,r,i,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(p=>{r.enqueueAndForget((0,we.Z)(function*(){var v;tu(d)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,we.Z)(function*(E){const A=Xe(E);A.lu.add(4),yield Dh(A),A._u.set("Unknown"),A.lu.delete(4),yield zc(A)}),function(E){return v.apply(this,arguments)})(d))}))}),this._u=new gA(r,i)}}function zc(n){return bC.apply(this,arguments)}function bC(){return bC=(0,we.Z)(function*(n){if(tu(n))for(const e of n.fu)yield e(!0)}),bC.apply(this,arguments)}function Dh(n){return wC.apply(this,arguments)}function wC(){return wC=(0,we.Z)(function*(n){for(const e of n.fu)yield e(!1)}),wC.apply(this,arguments)}function Fm(n,e){const t=Xe(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),a0(t)?Lm(t):hl(t).Co()&&o0(t,e))}function vp(n,e){const t=Xe(n),r=hl(t);t.hu.delete(e),r.Co()&&s0(t,e),0===t.hu.size&&(r.Co()?r.ko():tu(t)&&t._u.set("Unknown"))}function o0(n,e){n.wu.Nt(e.targetId),hl(n).Qo(e)}function s0(n,e){n.wu.Nt(e),hl(n).jo(e)}function Lm(n){n.wu=new TT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),hl(n).start(),n._u.iu()}function a0(n){return tu(n)&&!hl(n).Do()&&n.hu.size>0}function tu(n){return 0===Xe(n).lu.size}function u0(n){n.wu=void 0}function mA(n){return l0.apply(this,arguments)}function l0(){return l0=(0,we.Z)(function*(n){n.hu.forEach((e,t)=>{o0(n,e)})}),l0.apply(this,arguments)}function EC(n,e){return c0.apply(this,arguments)}function c0(){return c0=(0,we.Z)(function*(n,e){u0(n),a0(n)?(n._u.uu(e),Lm(n)):n._u.set("Unknown")}),c0.apply(this,arguments)}function CC(n,e,t){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,we.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof IE&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(i,u){const d=u.cause;for(const p of u.targetIds)i.hu.has(p)&&(yield i.remoteSyncer.rejectListen(p,d),i.hu.delete(p),i.wu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _p(n,r)}else if(e instanceof sl?n.wu.Ut(e):e instanceof dh?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(St.min()))try{const r=yield km(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const d=i.wu.Yt(u);return d.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const E=i.hu.get(v);E&&i.hu.set(v,E.withResumeToken(p.resumeToken,u))}}),d.targetMismatches.forEach(p=>{const v=i.hu.get(p);if(!v)return;i.hu.set(p,v.withResumeToken(Cr.EMPTY_BYTE_STRING,v.snapshotVersion)),s0(i,p);const E=new Ja(v.target,p,1,v.sequenceNumber);o0(i,E)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield _p(n,r)}var r}),Vm.apply(this,arguments)}function _p(n,e,t){return Um.apply(this,arguments)}function Um(){return Um=(0,we.Z)(function*(n,e,t){if(!oa(e))throw e;n.lu.add(1),yield Dh(n),n._u.set("Offline"),t||(t=()=>km(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield zc(n)}))}),Um.apply(this,arguments)}function IC(n,e){return e().catch(t=>_p(n,t,e))}function Th(n){return DC.apply(this,arguments)}function DC(){return DC=(0,we.Z)(function*(n){const e=Xe(n),t=nu(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;TC(e);)try{const i=yield hC(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,q1(e,i)}catch(i){yield _p(e,i)}yA(e)&&vA(e)}),DC.apply(this,arguments)}function TC(n){return tu(n)&&n.au.length<10}function q1(n,e){n.au.push(e);const t=nu(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function yA(n){return tu(n)&&!nu(n).Do()&&n.au.length>0}function vA(n){nu(n).start()}function z1(n){return AC.apply(this,arguments)}function AC(){return AC=(0,we.Z)(function*(n){nu(n).Xo()}),AC.apply(this,arguments)}function W1(n){return SC.apply(this,arguments)}function SC(){return SC=(0,we.Z)(function*(n){const e=nu(n);for(const t of n.au)e.Ho(t.mutations)}),SC.apply(this,arguments)}function K1(n,e,t){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,we.Z)(function*(n,e,t){const r=n.au.shift(),i=vm.from(r,e,t);yield IC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Th(n)}),Ah.apply(this,arguments)}function Y1(n,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,we.Z)(function*(n,e){var t;e&&nu(n).zo&&(yield(t=(0,we.Z)(function*(r,i){if(T_(u=i.code)&&u!==pe.ABORTED){const d=r.au.shift();nu(r).No(),yield IC(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Th(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),yA(n)&&vA(n)}),Bm.apply(this,arguments)}function bp(n,e){return jm.apply(this,arguments)}function jm(){return jm=(0,we.Z)(function*(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=tu(t);t.lu.add(3),yield Dh(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield zc(t)}),jm.apply(this,arguments)}function $m(n,e){return xC.apply(this,arguments)}function xC(){return xC=(0,we.Z)(function*(n,e){const t=Xe(n);e?(t.lu.delete(2),yield zc(t)):e||(t.lu.add(2),yield Dh(t),t._u.set("Unknown"))}),xC.apply(this,arguments)}function hl(n){return n.mu||(n.mu=function(e,t,r){const i=Xe(e);return i.tu(),new pA(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:mA.bind(null,n),Jr:EC.bind(null,n),Go:CC.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.mu.No(),a0(n)?Lm(n):n._u.set("Unknown")):(yield n.mu.stop(),u0(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function nu(n){return n.gu||(n.gu=function(e,t,r){const i=Xe(e);return i.tu(),new vC(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:z1.bind(null,n),Jr:Y1.bind(null,n),Yo:W1.bind(null,n),Jo:K1.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.gu.No(),yield Th(n)):(yield n.gu.stop(),n.au.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class d0{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,u){const d=Date.now()+r,p=new d0(e,t,d,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wc(n,e){if(Er("AsyncQueue",`${e}: ${n}`),oa(n))return new Fe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class wp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=ep(),this.sortedSet=new Xn(this.comparator)}static emptySet(e){return new wp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new wp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _A{constructor(){this.yu=new Xn(et.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):dt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Sh{constructor(e,t,r,i,u,d,p,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Sh(e,t,wp.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class bA{constructor(){this.Iu=void 0,this.listeners=[]}}class Hm{constructor(){this.queries=new Qa(e=>lE(e),Xf),this.onlineState="Unknown",this.Tu=new Set}}function h0(n,e){return MC.apply(this,arguments)}function MC(){return MC=(0,we.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new bA),i)try{u.Iu=yield t.onListen(r)}catch(d){const p=Wc(d,`Initialization of query '${v_(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&f0(t)}),MC.apply(this,arguments)}function kC(n,e){return RC.apply(this,arguments)}function RC(){return RC=(0,we.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),RC.apply(this,arguments)}function wA(n,e){const t=Xe(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const p of d.listeners)p.Au(i)&&(r=!0);d.Iu=i}}r&&f0(t)}function EA(n,e,t){const r=Xe(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function f0(n){n.Tu.forEach(e=>{e.next()})}class OC{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Sh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Sh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class CA{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class Zm{constructor(e){this.wt=e}Wi(e){return mo(this.wt,e)}zi(e){return e.metadata.exists?RE(this.wt,e.document,!1):Sn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return ti(e)}}class IA{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ki(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Kt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new Zm(this.wt);for(const i of e)if(i.metadata.queries){const u=r.Wi(i.metadata.name);for(const d of i.metadata.queries){const p=(t.get(d)||Gt()).add(u);t.set(d,p)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function Si(n,e,t,r){return dl.apply(this,arguments)}(e.localStore,new Zm(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield lA(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function Ki(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class NC{constructor(e){this.key=e}}class Gm{constructor(e){this.key=e}}class PC{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Gt(),this.mutatedKeys=Gt(),this.Lu=dE(e),this.Uu=new wp(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new _A,i=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,d=i,p=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,S)=>{const L=i.get(A),q=__(this.query,S)?S:null,ee=!!L&&this.mutatedKeys.has(L.key),Pe=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Le=!1;L&&q?L.data.isEqual(q.data)?ee!==Pe&&(r.track({type:3,doc:q}),Le=!0):this.Qu(L,q)||(r.track({type:2,doc:q}),Le=!0,(v&&this.Lu(q,v)>0||E&&this.Lu(q,E)<0)&&(p=!0)):!L&&q?(r.track({type:0,doc:q}),Le=!0):L&&!q&&(r.track({type:1,doc:L}),Le=!0,(v||E)&&(p=!0)),Le&&(q?(d=d.add(q),u=Pe?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{Uu:d,Gu:r,Oi:p,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Gu.pu();u.sort((E,A)=>function(S,L){const q=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return q(S)-q(L)}(E.type,A.type)||this.Lu(E.doc,A.doc)),this.ju(r);const d=t?this.Wu():[],p=0===this.Bu.size&&this.current?1:0,v=p!==this.$u;return this.$u=p,0!==u.length||v?{snapshot:new Sh(this.query,e.Uu,i,u,e.mutatedKeys,0===p,v,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new _A,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Gt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new Gm(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new NC(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Gt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Sh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class DA{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class p0{constructor(e){this.key=e,this.Xu=!1}}class FC{constructor(e,t,r,i,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Zu={},this.tc=new Qa(p=>lE(p),Xf),this.ec=new Map,this.nc=new Set,this.sc=new Xn(et.comparator),this.ic=new Map,this.rc=new W_,this.oc={},this.uc=new Map,this.cc=jc.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function LC(n,e){return g0.apply(this,arguments)}function g0(){return g0=(0,we.Z)(function*(n,e){const t=qC(n);let r,i;const u=t.tc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.Yu();else{const d=yield Hc(t.localStore,Bo(e));t.isPrimaryClient&&Fm(t.remoteStore,d);const p=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield qm(t,e,r,"current"===p)}return i}),g0.apply(this,arguments)}function qm(n,e,t,r){return zm.apply(this,arguments)}function zm(){return zm=(0,we.Z)(function*(n,e,t,r){n.hc=(A,S,L)=>{return(q=(0,we.Z)(function*(ee,Pe,Le,lt){let ct=Pe.view.Ku(Le);ct.Oi&&(ct=yield gp(ee.localStore,Pe.query,!1).then(({documents:Ct})=>Pe.view.Ku(Ct,ct)));const it=lt&&lt.targetChanges.get(Pe.targetId),st=Pe.view.applyChanges(ct,ee.isPrimaryClient,it);return UC(ee,Pe.targetId,st.zu),st.snapshot}),function(ee,Pe,Le,lt){return q.apply(this,arguments)})(n,A,S,L);var q};const i=yield gp(n.localStore,e,!0),u=new PC(e,i.ji),d=u.Ku(i.documents),p=rp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=u.applyChanges(d,n.isPrimaryClient,p);UC(n,t,v.zu);const E=new DA(e,t,u);return n.tc.set(e,E),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),v.snapshot}),zm.apply(this,arguments)}function TA(n,e){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,we.Z)(function*(n,e){const t=Xe(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(u=>!Xf(u,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ch(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),vp(t.remoteStore,r.targetId),xh(t,r.targetId)}).catch(ia))):(xh(t,r.targetId),yield Ch(t.localStore,r.targetId,!0))}),Wm.apply(this,arguments)}function Ep(){return Ep=(0,we.Z)(function*(n,e,t){const r=zC(n);try{const i=yield function(u,d){const p=Xe(u),v=yn.now(),E=d.reduce((L,q)=>L.add(q.key),Gt());let A,S;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let q=Ti(),ee=Gt();return p.Ui.getEntries(L,E).next(Pe=>{q=Pe,q.forEach((Le,lt)=>{lt.isValidDocument()||(ee=ee.add(Le))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,q)).next(Pe=>{A=Pe;const Le=[];for(const lt of d){const ct=H1(lt,A.get(lt.key).overlayedDocument);null!=ct&&Le.push(new Ka(lt.key,ct,Uo(ct.value.mapValue),Dn.exists(!0)))}return p.mutationQueue.addMutationBatch(L,v,Le,d)}).next(Pe=>{S=Pe;const Le=Pe.applyToLocalDocumentSet(A,ee);return p.documentOverlayCache.saveOverlays(L,Pe.batchId,Le)})}).then(()=>({batchId:S.batchId,changes:EE(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,p){let v=u.oc[u.currentUser.toKey()];v||(v=new Xn(Lt)),v=v.insert(d,p),u.oc[u.currentUser.toKey()]=v}(r,i.batchId,t),yield fa(r,i.changes),yield Th(r.remoteStore)}catch(i){const u=Wc(i,"Failed to persist write");t.reject(u)}}),Ep.apply(this,arguments)}function ru(n,e){return Km.apply(this,arguments)}function Km(){return Km=(0,we.Z)(function*(n,e){const t=Xe(n);try{const r=yield cC(t.localStore,e);e.targetChanges.forEach((i,u)=>{const d=t.ic.get(u);d&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.Xu=!0:i.modifiedDocuments.size>0?Ft(d.Xu):i.removedDocuments.size>0&&(Ft(d.Xu),d.Xu=!1))}),yield fa(t,r,e)}catch(r){yield ia(r)}}),Km.apply(this,arguments)}function Ym(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((u,d)=>{const p=d.view.Eu(e);p.snapshot&&i.push(p.snapshot)}),function(u,d){const p=Xe(u);p.onlineState=d;let v=!1;p.queries.forEach((E,A)=>{for(const S of A.listeners)S.Eu(d)&&(v=!0)}),v&&f0(p)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iu(n,e,t){return m0.apply(this,arguments)}function m0(){return m0=(0,we.Z)(function*(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),u=i&&i.key;if(u){let d=new Xn(et.comparator);d=d.insert(u,Sn.newNoDocument(u,St.min()));const p=Gt().add(u),v=new ch(St.min(),new Map,new In(Lt),d,p);yield ru(r,v),r.sc=r.sc.remove(u),r.ic.delete(e),Xm(r)}else yield Ch(r.localStore,e,!1).then(()=>xh(r,e,t)).catch(ia)}),m0.apply(this,arguments)}function Q1(n,e){return y0.apply(this,arguments)}function y0(){return y0=(0,we.Z)(function*(n,e){const t=Xe(n),r=e.batch.batchId;try{const i=yield lC(t.localStore,e);Jm(t,r,null),VC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield fa(t,i)}catch(i){yield ia(i)}}),y0.apply(this,arguments)}function SA(n,e,t){return v0.apply(this,arguments)}function v0(){return v0=(0,we.Z)(function*(n,e,t){const r=Xe(n);try{const i=yield function(u,d){const p=Xe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return p.mutationQueue.lookupMutationBatch(v,d).next(A=>(Ft(null!==A),E=A.keys(),p.mutationQueue.removeMutationBatch(v,A))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>p.localDocuments.getDocuments(v,E))})}(r.localStore,e);Jm(r,e,t),VC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield fa(r,i)}catch(i){yield ia(i)}}),v0.apply(this,arguments)}function Qm(){return Qm=(0,we.Z)(function*(n,e){const t=Xe(n);tu(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Xe(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.uc.get(r)||[];i.push(e),t.uc.set(r,i)}catch(r){const i=Wc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Qm.apply(this,arguments)}function VC(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function Jm(n,e,t){const r=Xe(n);let i=r.oc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function xh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||_0(n,r)})}function _0(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(vp(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),Xm(n))}function UC(n,e,t){for(const r of t)r instanceof NC?(n.rc.addReference(r.key,e),b0(n,r)):r instanceof Gm?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||_0(n,r.key)):dt()}function b0(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.nc.add(r),Xm(n))}function Xm(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new et(Kt.fromString(e)),r=n.cc.next();n.ic.set(r,new p0(t)),n.sc=n.sc.insert(t,r),Fm(n.remoteStore,new Ja(Bo(Mc(t.path)),r,2,pi.ot))}}function fa(n,e,t){return w0.apply(this,arguments)}function w0(){return w0=(0,we.Z)(function*(n,e,t){const r=Xe(n),i=[],u=[],d=[];var p;r.tc.isEmpty()||(r.tc.forEach((p,v)=>{d.push(r.hc(v,e,t).then(E=>{if(E){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,E.fromCache?"not-current":"current"),i.push(E);const A=pp.Vi(v.targetId,E);u.push(A)}}))}),yield Promise.all(d),r.Zu.Go(i),yield(p=(0,we.Z)(function*(v,E){const A=Xe(v);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>de.forEach(E,L=>de.forEach(L.Pi,q=>A.persistence.referenceDelegate.addReference(S,L.targetId,q)).next(()=>de.forEach(L.vi,q=>A.persistence.referenceDelegate.removeReference(S,L.targetId,q)))))}catch(S){if(!oa(S))throw S;Be("LocalStore","Failed to update sequence numbers: "+S)}for(const S of E){const L=S.targetId;if(!S.fromCache){const q=A.$i.get(L),Pe=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);A.$i=A.$i.insert(L,Pe)}}}),function(v,E){return p.apply(this,arguments)})(r.localStore,u))}),w0.apply(this,arguments)}function BC(n,e){return ey.apply(this,arguments)}function ey(){return ey=(0,we.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield uC(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(d=>{d.forEach(p=>{p.reject(new Fe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fa(t,r.Ki)}var i}),ey.apply(this,arguments)}function ty(n,e){const t=Xe(n),r=t.ic.get(e);if(r&&r.Xu)return Gt().add(r.key);{let i=Gt();const u=t.ec.get(e);if(!u)return i;for(const d of u){const p=t.tc.get(d);i=i.unionWith(p.view.qu)}return i}}function ny(n,e){return ry.apply(this,arguments)}function ry(){return ry=(0,we.Z)(function*(n,e){const t=Xe(n),r=yield gp(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&UC(t,e.targetId,i.zu),i}),ry.apply(this,arguments)}function MA(n,e){return iy.apply(this,arguments)}function iy(){return iy=(0,we.Z)(function*(n,e){const t=Xe(n);return J_(t.localStore,e).then(r=>fa(t,r))}),iy.apply(this,arguments)}function jC(n,e,t,r){return E0.apply(this,arguments)}function E0(){return E0=(0,we.Z)(function*(n,e,t,r){const i=Xe(n),u=yield function(d,p){const v=Xe(d),E=Xe(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",A=>E.yn(A,p).next(S=>S?v.localDocuments.getDocuments(A,S):de.resolve(null)))}(i.localStore,e);var p;null!==u?("pending"===t?yield Th(i.remoteStore):"acknowledged"===t||"rejected"===t?(Jm(i,e,r||null),VC(i,e),p=e,Xe(Xe(i.localStore).mutationQueue).In(p)):dt(),yield fa(i,u)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),E0.apply(this,arguments)}function $C(){return $C=(0,we.Z)(function*(n,e){const t=Xe(n);if(qC(t),zC(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield RA(t,r.toArray());t.ac=!0,yield $m(t.remoteStore,!0);for(const u of i)Fm(t.remoteStore,u)}else if(!1===e&&!1!==t.ac){const r=[];let i=Promise.resolve();t.ec.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(xh(t,d),Ch(t.localStore,d,!0))),vp(t.remoteStore,d)}),yield i,yield RA(t,r),function(u){const d=Xe(u);d.ic.forEach((p,v)=>{vp(d.remoteStore,v)}),d.rc.cs(),d.ic=new Map,d.sc=new Xn(et.comparator)}(t),t.ac=!1,yield $m(t.remoteStore,!1)}}),$C.apply(this,arguments)}function RA(n,e,t){return oy.apply(this,arguments)}function oy(){return oy=(0,we.Z)(function*(n,e,t){const r=Xe(n),i=[],u=[];for(const d of e){let p;const v=r.ec.get(d);if(v&&0!==v.length){p=yield Hc(r.localStore,Bo(v[0]));for(const E of v){const A=r.tc.get(E),S=yield ny(r,A);S.snapshot&&u.push(S.snapshot)}}else{const E=yield fC(r.localStore,d);p=yield Hc(r.localStore,E),yield qm(r,HC(E),d,!1)}i.push(p)}return r.Zu.Go(u),i}),oy.apply(this,arguments)}function HC(n){return p_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function OA(n){const e=Xe(n);return Xe(Xe(e.localStore).persistence).Ri()}function NA(n,e,t,r){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,we.Z)(function*(n,e,t,r){const i=Xe(n);if(i.ac)return void Be("SyncEngine","Ignoring unexpected query state notification.");const u=i.ec.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield J_(i.localStore,cE(u[0])),p=ch.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield fa(i,d,p);break}case"rejected":yield Ch(i.localStore,e,!0),xh(i,e,r);break;default:dt()}}),ZC.apply(this,arguments)}function J1(n,e,t){return GC.apply(this,arguments)}function GC(){return GC=(0,we.Z)(function*(n,e,t){const r=qC(n);if(r.ac){for(const i of e){if(r.ec.has(i)){Be("SyncEngine","Adding an already active target "+i);continue}const u=yield fC(r.localStore,i),d=yield Hc(r.localStore,u);yield qm(r,HC(u),d.targetId,!1),Fm(r.remoteStore,d)}for(const i of t)r.ec.has(i)&&(yield Ch(r.localStore,i,!1).then(()=>{vp(r.remoteStore,i),xh(r,i)}).catch(ia))}}),GC.apply(this,arguments)}function qC(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ru.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ty.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iu.bind(null,e),e.Zu.Go=wA.bind(null,e.eventManager),e.Zu.lc=EA.bind(null,e.eventManager),e}function zC(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SA.bind(null,e),e}class Cp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.wt=qc(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return aC(this.persistence,new Mm,e.initialUser,this.wt)}_c(e){return new K_(wh.Ms,this.wt)}dc(e){return new gC}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class WC extends Cp{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield zC(r.yc.syncEngine),yield Th(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return aC(this.persistence,new Mm,e.initialUser,this.wt)}mc(e,t){return new XE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new zw(t,this.persistence);return new qw(e.asyncQueue,r)}_c(e){const t=xm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new sC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,n0(),Gc(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new gC}}class FA extends WC{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const i=r.yc.syncEngine;r.sharedClientState instanceof Pm&&(r.sharedClientState.syncEngine={kr:jC.bind(null,i),Or:NA.bind(null,i),Mr:J1.bind(null,i),Ri:OA.bind(null,i),Nr:MA.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var u=(0,we.Z)(function*(d){yield function kA(n,e){return $C.apply(this,arguments)}(r.yc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}dc(e){const t=n0();if(!Pm.V(t))throw new Fe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=xm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pm(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class sy{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Ym(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=BC.bind(null,r.syncEngine),yield $m(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hm}createDatastore(e){const t=qc(e.databaseInfo.databaseId),r=new mC(e.databaseInfo);return new Ih(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>Ym(this.syncEngine,p,0),d=Zc.V()?new Zc:new hA,new _C(t,r,i,u,d);var t,r,i,u,d}createSyncEngine(e,t){return function(r,i,u,d,p,v,E){const A=new FC(r,i,u,d,p,v);return E&&(A.ac=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=Xe(t);Be("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Dh(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function fl(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ip{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class C0{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new jr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,we.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),i=Number(r);isNaN(i)&&e.Pc(`length string (${r}) is not valid number`);const u=yield e.vc(i);return new CA(JSON.parse(u),t.length+i)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,we.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class I0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,we.Z)(function*(u,d){const p=Xe(u),v=fh(p.wt)+"/documents",E={documents:d.map(q=>hh(p.wt,q))},A=yield p.ao("BatchGetDocuments",v,E,d.length),S=new Map;A.forEach(q=>{const ee=function xT(n,e){return"found"in e?function(t,r){Ft(!!r.found);const i=mo(t,r.found.name),u=ti(r.found.updateTime),d=new An({mapValue:{fields:r.found.fields}});return Sn.newFoundDocument(i,u,d)}(n,e):"missing"in e?function(t,r){Ft(!!r.missing),Ft(!!r.readTime);const i=mo(t,r.missing),u=ti(r.readTime);return Sn.newNoDocument(i,u)}(n,e):dt()}(p.wt,q);S.set(ee.key.toString(),ee)});const L=[];return d.forEach(q=>{const ee=S.get(q.toString());Ft(!!ee),L.push(ee)}),L}),function(u,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ya(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=et.fromPath(i);e.mutations.push(new uh(u,e.precondition(u)))}),yield(r=(0,we.Z)(function*(i,u){const d=Xe(i),p=fh(d.wt)+"/documents",v={writes:u.map(E=>op(d.wt,E))};yield d.ro("Commit",p,v)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=St.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Dn.updateTime(t):Dn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new Fe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(t)}return Dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class LA{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.Dc=r.maxAttempts,this.So=new yC(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,we.Z)(function*(){const t=new I0(e.datastore),r=e.xc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Nc(u)}))}).catch(i=>{e.Nc(i)})}))}xc(e){try{const t=this.updateFunction(e);return!Yf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!T_(t)}return!1}}class D0{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xr.UNAUTHENTICATED,this.clientId=wc.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,we.Z)(function*(p){Be("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Be("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Wc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ay(n,e){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,we.Z)(function*(u){r.isEqual(u)||(yield uC(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Mh.apply(this,arguments)}function VA(n,e){return KC.apply(this,arguments)}function KC(){return KC=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield YC(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>bp(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>bp(e.remoteStore,u)),n.onlineComponents=e}),KC.apply(this,arguments)}function YC(n){return QC.apply(this,arguments)}function QC(){return QC=(0,we.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield ay(n,new Cp)),n.offlineComponents}),QC.apply(this,arguments)}function Dp(n){return T0.apply(this,arguments)}function T0(){return T0=(0,we.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield VA(n,new sy)),n.onlineComponents}),T0.apply(this,arguments)}function JC(n){return YC(n).then(e=>e.persistence)}function A0(n){return YC(n).then(e=>e.localStore)}function XC(n){return Dp(n).then(e=>e.remoteStore)}function uy(n){return Dp(n).then(e=>e.syncEngine)}function Kc(n){return ly.apply(this,arguments)}function ly(){return ly=(0,we.Z)(function*(n){const e=yield Dp(n),t=e.eventManager;return t.onListen=LC.bind(null,e.syncEngine),t.onUnlisten=TA.bind(null,e.syncEngine),t}),ly.apply(this,arguments)}function cy(n,e,t={}){const r=new jr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,u,d,p,v){const E=new Ip({next:S=>{u.enqueueAndForget(()=>kC(i,A));const L=S.docs.has(d);!L&&S.fromCache?v.reject(new Fe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&S.fromCache&&p&&"server"===p.source?v.reject(new Fe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(S)},error:S=>v.reject(S)}),A=new OC(Mc(d.path),E,{includeMetadataChanges:!0,Du:!0});return h0(i,A)}(yield Kc(n),n.asyncQueue,e,t,r)})),r.promise}function S0(n,e,t={}){const r=new jr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,u,d,p,v){const E=new Ip({next:S=>{u.enqueueAndForget(()=>kC(i,A)),S.fromCache&&"server"===p.source?v.reject(new Fe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),A=new OC(d,E,{includeMetadataChanges:!0,Du:!0});return h0(i,A)}(yield Kc(n),n.asyncQueue,e,t,r)})),r.promise}const HA=new Map;function M0(n,e,t){if(!t)throw new Fe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tI(n,e,t,r){if(!0===e&&!0===r)throw new Fe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nI(n){if(!et.isDocumentKey(n))throw new Fe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZA(n){if(et.isDocumentKey(n))throw new Fe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function k0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=k0(n);throw new Fe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function GA(n,e){if(e<=0)throw new Fe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class qA{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,tI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tp{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qA({}),this._settingsFrozen=!1,e instanceof Wa?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Fe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(i.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Kv;switch(t.type){case"gapi":const r=t.client;return Ft(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new fi(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=HA.get(e);t&&(Be("ComponentProvider","Removing Datastore"),HA.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class xi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xi(this.firestore,e,this._query)}}class ou extends xi{constructor(e,t,r){super(e,t,Mc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new et(e))}withConverter(e){return new ou(this.firestore,e,this._path)}}function o(n,e,...t){if(n=(0,Pt.m9)(n),M0("collection","path",e),n instanceof Tp){const r=Kt.fromString(e,...t);return ZA(r),new ou(n,null,r)}{if(!(n instanceof $n||n instanceof ou))throw new Fe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return ZA(r),new ou(n.firestore,null,r)}}function a(n,e,...t){if(n=(0,Pt.m9)(n),1===arguments.length&&(e=wc.I()),M0("doc","path",e),n instanceof Tp){const r=Kt.fromString(e,...t);return nI(r),new $n(n,null,new et(r))}{if(!(n instanceof $n||n instanceof ou))throw new Fe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return nI(r),new $n(n.firestore,n instanceof ou?n.converter:null,new et(r))}}function c(n,e){return n=(0,Pt.m9)(n),e=(0,Pt.m9)(e),(n instanceof $n||n instanceof ou)&&(e instanceof $n||e instanceof ou)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function h(n,e){return n=(0,Pt.m9)(n),e=(0,Pt.m9)(e),n instanceof xi&&e instanceof xi&&n.firestore===e.firestore&&Xf(n._query,e._query)&&n.converter===e.converter}class f{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new yC(this,"async_queue_retry"),this.Kc=()=>{const t=Gc();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Gc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=Gc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new jr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,we.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!oa(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,Er("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=d0.createAndSchedule(this,e,t,r,u=>this.Wc(u));return this.$c.push(i),i}Gc(){this.Bc&&dt()}verifyOperationInProgress(){}zc(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function y(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class b{constructor(){this._progressObserver={},this._taskCompletionResolver=new jr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class T extends Tp{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new f,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||X(this),this._firestoreClient.terminate()}}function B(n){return n._firestoreClient||X(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function X(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $1(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new D0(n._authCredentials,n._appCheckCredentials,n._queue,r)}function tt(n,e,t){const r=new jr;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield ay(n,t),yield VA(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(d=u).name?d.code===pe.FAILED_PRECONDITION||d.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function dy(n){if(n._initialized||n._terminated)throw new Fe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _s{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(Cr.fromBase64String(e))}catch(t){throw new Fe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $o(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class su{constructor(e){this._methodName=e}}class kh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const R0=/^__.*__$/;class O0{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms):new ah(e,this.data,t,this.fieldTransforms)}}class hy{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class iI{constructor(e,t,r,i,u,d){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===u&&this.Xc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new iI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return aI(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(nx(this.Zc)&&R0.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class nO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||qc(e)}aa(e,t,r,i=!1){return new iI({Zc:e,methodName:t,ca:r,path:ar.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Ap(n){const e=n._freezeSettings(),t=qc(n._databaseId);return new nO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oI(n,e,t,r,i,u={}){const d=n.aa(u.merge||u.mergeFields?2:0,e,t,i);YA("Data must be an object, but it was:",d,r);const p=ox(r,d);let v,E;if(u.merge)v=new Di(d.fieldMask),E=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const S of u.mergeFields){const L=QA(e,S,t);if(!d.contains(L))throw new Fe(pe.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);ax(A,L)||A.push(L)}v=new Di(A),E=d.fieldTransforms.filter(S=>v.covers(S.field))}else v=null,E=d.fieldTransforms;return new O0(new An(p),v,E)}class N0 extends su{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof N0}}function rx(n,e,t){return new iI({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class zA extends su{_toFieldTransform(e){return new ms(e.path,new kc)}isEqual(e){return e instanceof zA}}class rO extends su{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=rx(this,e,!0),r=this.ha.map(u=>Sp(u,t)),i=new il(r);return new ms(e.path,i)}isEqual(e){return this===e}}class iO extends su{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=rx(this,e,!0),r=this.ha.map(u=>Sp(u,t)),i=new ol(r);return new ms(e.path,i)}isEqual(e){return this===e}}class oO extends su{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Rc(e.wt,pE(e.wt,this.la));return new ms(e.path,t)}isEqual(e){return this===e}}function WA(n,e,t,r){const i=n.aa(1,e,t);YA("Data must be an object, but it was:",i,r);const u=[],d=An.empty();Ic(r,(v,E)=>{const A=sI(e,v,t);E=(0,Pt.m9)(E);const S=i.ia(A);if(E instanceof N0)u.push(A);else{const L=Sp(E,S);null!=L&&(u.push(A),d.set(A,L))}});const p=new Di(u);return new hy(d,p,i.fieldTransforms)}function KA(n,e,t,r,i,u){const d=n.aa(1,e,t),p=[QA(e,r,t)],v=[i];if(u.length%2!=0)throw new Fe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<u.length;L+=2)p.push(QA(e,u[L])),v.push(u[L+1]);const E=[],A=An.empty();for(let L=p.length-1;L>=0;--L)if(!ax(E,p[L])){const q=p[L];let ee=v[L];ee=(0,Pt.m9)(ee);const Pe=d.ia(q);if(ee instanceof N0)E.push(q);else{const Le=Sp(ee,Pe);null!=Le&&(E.push(q),A.set(q,Le))}}const S=new Di(E);return new hy(A,S,d.fieldTransforms)}function ix(n,e,t,r=!1){return Sp(t,n.aa(r?4:3,e))}function Sp(n,e){if(sx(n=(0,Pt.m9)(n)))return YA("Unsupported field value:",e,n),ox(n,e);if(n instanceof su)return function(t,r){if(!nx(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const d of t){let p=Sp(d,r.ra(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Pt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return pE(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=yn.fromDate(t);return{timestampValue:ip(r.wt,i)}}if(t instanceof yn){const i=new yn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ip(r.wt,i)}}if(t instanceof kh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $o)return{bytesValue:SE(r.wt,t._byteString)};if(t instanceof $n){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.oa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xE(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${k0(t)}`)}(n,e)}function ox(n,e){const t={};return r_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ic(n,(r,i)=>{const u=Sp(i,e.ea(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function sx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yn||n instanceof kh||n instanceof $o||n instanceof $n||n instanceof su)}function YA(n,e,t){if(!sx(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=k0(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function QA(n,e,t){if((e=(0,Pt.m9)(e))instanceof _s)return e._internalPath;if("string"==typeof e)return sI(n,e);throw aI("Field path arguments must be of type string or ",n,!1,void 0,t)}const sO=new RegExp("[~\\*/\\[\\]]");function sI(n,e,t){if(e.search(sO)>=0)throw aI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _s(...e.split("."))._internalPath}catch{throw aI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function aI(n,e,t,r,i){const u=r&&!r.isEmpty(),d=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${r}`),d&&(v+=` in document ${i}`),v+=")"),new Fe(pe.INVALID_ARGUMENT,p+n+v)}function ax(n,e){return n.some(t=>t.isEqual(e))}class P0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class aO extends P0{data(){return super.data()}}function uI(n,e){return"string"==typeof e?sI(n,e):e instanceof _s?e._internalPath:e._delegate._internalPath}class xp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qc extends P0{constructor(e,t,r,i,u,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new F0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class F0 extends Qc{data(e={}){return super.data(e)}}class Rh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new F0(this._firestore,this._userDataWriter,r.key,r,new xp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new F0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new xp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const p=new F0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new xp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,E=-1;return 0!==d.type&&(v=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),E=u.indexOf(d.doc.key)),{type:uO(d.type),doc:p,oldIndex:v,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function ux(n,e){return n instanceof Qc&&e instanceof Qc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Rh&&e instanceof Rh&&n._firestore===e._firestore&&h(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function lx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L0{}function Oh(n,...e){for(const t of e)n=t._apply(n);return n}class lO extends L0{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=Ap(e.firestore),r=function(i,u,d,p,v,E,A){let S;if(v.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){gx(A,E);const q=[];for(const ee of A)q.push(px(p,i,ee));S={arrayValue:{values:q}}}else S=px(p,i,A)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||gx(A,E),S=ix(d,"where",A,"in"===E||"not-in"===E);const L=ei.create(v,E,S);return function(q,ee){if(ee.ht()){const Le=m_(q);if(null!==Le&&!Le.isEqual(ee.field))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Le.toString()}' and '${ee.field.toString()}'`);const lt=g_(q);null!==lt&&mx(0,ee.field,lt)}const Pe=function(Le,lt){for(const ct of Le.filters)if(lt.indexOf(ct.op)>=0)return ct.op;return null}(q,function(Le){switch(Le){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ee.op));if(null!==Pe)throw new Fe(pe.INVALID_ARGUMENT,Pe===ee.op?`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`:`Invalid query. You cannot use '${ee.op.toString()}' filters with '${Pe.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new xi(e.firestore,e.converter,function(i,u){const d=i.filters.concat([u]);return new la(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class dO extends L0{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new xc(i,u);return function(p,v){if(null===g_(p)){const E=m_(p);null!==E&&mx(0,E,v.field)}}(r,d),d}(e._query,this.fa,this.wa);return new xi(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new la(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class cx extends L0{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new xi(e.firestore,e.converter,uE(e._query,this.ma,this.ga))}}class dx extends L0{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=fx(e,this.type,this.ya,this.pa);return new xi(e.firestore,e.converter,(i=t,new la((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class hx extends L0{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=fx(e,this.type,this.ya,this.pa);return new xi(e.firestore,e.converter,(i=t,new la((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function fx(n,e,t,r){if(t[0]=(0,Pt.m9)(t[0]),t[0]instanceof P0)return function(i,u,d,p,v){if(!p)throw new Fe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const A of ih(i))if(A.field.isKeyField())E.push(Ac(u,p.key));else{const S=p.data.field(A.field);if(cm(S))throw new Fe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const L=A.field.canonicalString();throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}E.push(S)}return new ua(E,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Ap(n.firestore);return function(u,d,p,v,E,A){const S=u.explicitOrderBy;if(E.length>S.length)throw new Fe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let q=0;q<E.length;q++){const ee=E[q];if(S[q].field.isKeyField()){if("string"!=typeof ee)throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ee}`);if(!y_(u)&&-1!==ee.indexOf("/"))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ee}' contains a slash.`);const Pe=u.path.child(Kt.fromString(ee));if(!et.isDocumentKey(Pe))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Pe}' is not because it contains an odd number of segments.`);const Le=new et(Pe);L.push(Ac(d,Le))}else{const Pe=ix(p,v,ee);L.push(Pe)}}return new ua(L,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function px(n,e,t){if("string"==typeof(t=(0,Pt.m9)(t))){if(""===t)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y_(e)&&-1!==t.indexOf("/"))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Kt.fromString(t));if(!et.isDocumentKey(r))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ac(n,new et(r))}if(t instanceof $n)return Ac(n,t._key);throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${k0(t)}.`)}function gx(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function mx(n,e,t){if(!t.isEqual(e))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const _O={maxAttempts:5};class JA{convertValue(e,t="none"){switch(Dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const r={};return Ic(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new kh(er(e.latitude),er(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=o_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jd(e));default:return null}}convertTimestamp(e){const t=za(e);return new yn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Kt.fromString(e);Ft(R_(r));const i=new Wa(r.get(1),r.get(3)),u=new et(r.popFirst(5));return i.isEqual(t)||Er(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function lI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class bO extends JA{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class yx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ap(e)}set(e,t,r){this._verifyNotCommitted();const i=Nh(e,this._firestore),u=lI(i.converter,t,r),d=oI(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Dn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Nh(e,this._firestore);let d;return d="string"==typeof(t=(0,Pt.m9)(t))||t instanceof _s?KA(this._dataReader,"WriteBatch.update",u._key,t,r,i):WA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nh(e,this._firestore);return this._mutations=this._mutations.concat(new Ya(t._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nh(n,e){if((n=(0,Pt.m9)(n)).firestore!==e)throw new Fe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Mp extends JA{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function vx(n,e,t){n=sn(n,$n);const r=sn(n.firestore,T),i=lI(n.converter,e,t);return fy(r,[oI(Ap(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Dn.none())])}function _x(n,e,t,...r){n=sn(n,$n);const i=sn(n.firestore,T),u=Ap(i);let d;return d="string"==typeof(e=(0,Pt.m9)(e))||e instanceof _s?KA(u,"updateDoc",n._key,e,t,r):WA(u,"updateDoc",n._key,e),fy(i,[d.toMutation(n._key,Dn.exists(!0))])}function bx(n,...e){var t,r,i;n=(0,Pt.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||y(e[d])||(u=e[d],d++);const p={includeMetadataChanges:u.includeMetadataChanges};if(y(e[d])){const S=e[d];e[d]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[d+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[d+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let v,E,A;if(n instanceof $n)E=sn(n.firestore,T),A=Mc(n._key.path),v={next:S=>{e[d]&&e[d](XA(E,n,S))},error:e[d+1],complete:e[d+2]};else{const S=sn(n,xi);E=sn(S.firestore,T),A=S._query;const L=new Mp(E);v={next:q=>{e[d]&&e[d](new Rh(E,L,S,q))},error:e[d+1],complete:e[d+2]},lx(n._query)}return function(S,L,q,ee){const Pe=new Ip(ee),Le=new OC(L,Pe,q);return S.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return h0(yield Kc(S),Le)})),()=>{Pe.Tc(),S.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return kC(yield Kc(S),Le)}))}}(B(E),A,p,v)}function fy(n,e){return function(t,r){const i=new jr;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function AA(n,e,t){return Ep.apply(this,arguments)}(yield uy(t),r,i)})),i.promise}(B(n),e)}function XA(n,e,t){const r=t.docs.get(e._key),i=new Mp(n);return new Qc(n,i,e._key,r,new xp(t.hasPendingWrites,t.fromCache),e.converter)}class MO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ap(e)}get(e){const t=Nh(e,this._firestore),r=new bO(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return dt();const u=i[0];if(u.isFoundDocument())return new P0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new P0(this._firestore,r,t._key,null,t.converter);throw dt()})}set(e,t,r){const i=Nh(e,this._firestore),u=lI(i.converter,t,r),d=oI(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const u=Nh(e,this._firestore);let d;return d="string"==typeof(t=(0,Pt.m9)(t))||t instanceof _s?KA(this._dataReader,"Transaction.update",u._key,t,r,i):WA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Nh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nh(e,this._firestore),r=new Mp(this._firestore);return super.get(e).then(i=>new Qc(this._firestore,r,t._key,i._document,new xp(!1,!1),t.converter))}}function eS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ex(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function Cx(){if(!function i_(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){bc=Po.SDK_VERSION,(0,Po._registerComponent)(new lc.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new T(i,new na(t.getProvider("auth-internal")),new am(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Po.registerVersion)($w,"3.4.12",n),(0,Po.registerVersion)($w,"3.4.12","esm2017")}();class V0{constructor(e){this._delegate=e}static fromBase64String(e){return Cx(),new V0($o.fromBase64String(e))}static fromUint8Array(e){return Ex(),new V0($o.fromUint8Array(e))}toBase64(){return Cx(),this._delegate.toBase64()}toUint8Array(){return Ex(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tS(n){return function UO(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class BO{enableIndexedDbPersistence(e,t){return function De(n,e){dy(n=sn(n,T));const t=B(n),r=n._freezeSettings(),i=new sy;return tt(t,i,new WC(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function je(n){dy(n=sn(n,T));const e=B(n),t=n._freezeSettings(),r=new sy;return tt(e,r,new FA(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ot(n){if(n._initialized&&!n._terminated)throw new Fe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new jr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!zi.V())return Promise.resolve();const i=r+"main";yield zi.delete(i)}),function(r){return t.apply(this,arguments)})(xm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ix{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Hf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function tx(n,e,t,r={}){var i;const u=(n=sn(n,Tp))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Hf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,p;if("string"==typeof r.mockUserToken)d=r.mockUserToken,p=Xr.MOCK_USER;else{d=(0,Pt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Fe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xr(v)}n._authCredentials=new mT(new Hw(d,p))}}(this._delegate,e,t,r)}enableNetwork(){return function Ve(n){return function UA(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield JC(n),t=yield XC(n);return e.setNetworkEnabled(!0),function(r){const i=Xe(r);return i.lu.delete(0),zc(i)}(t)}))}(B(n=sn(n,T)))}(this._delegate)}disableNetwork(){return function Et(n){return function BA(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield JC(n),t=yield XC(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(i){const u=Xe(i);u.lu.add(0),yield Dh(u),u._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(B(n=sn(n,T)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,tI("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function kt(n){return function(e){const t=new jr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function xA(n,e){return Qm.apply(this,arguments)}(yield uy(e),t)})),t.promise}(B(n=sn(n,T)))}(this._delegate)}onSnapshotsInSync(e){return function xO(n,e){return function x0(n,e){const t=new Ip(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Kc(n),i=t,Xe(r).Tu.add(i),void i.next();var r,i})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Kc(n),i=t,void Xe(r).Tu.delete(i);var r,i}))}}(B(n=sn(n,T)),y(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new py(this,o(this._delegate,e))}catch(t){throw yo(t,"collection()","Firestore.collection()")}}doc(e){try{return new pa(this,a(this._delegate,e))}catch(t){throw yo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vo(this,function s(n,e){if(n=sn(n,Tp),M0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xi(n,null,(t=e,new la(Kt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw yo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kO(n,e,t){n=sn(n,T);const r=Object.assign(Object.assign({},_O),t);return function(i){if(i.maxAttempts<1)throw new Fe(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function jA(n,e,t){const r=new jr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const i=yield(u=n,Dp(u).then(d=>d.datastore));var u;new LA(n.asyncQueue,i,t,e,r).run()})),r.promise}(B(n),i=>e(new MO(n,i)),r)}(this._delegate,t=>e(new Dx(this,t)))}batch(){return B(this._delegate),new Tx(new yx(this._delegate,e=>fy(this._delegate,e)))}loadBundle(e){return function Bn(n,e){const t=B(n=sn(n,T)),r=new b;return function $A(n,e,t,r){const i=function(u,d){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,E){if(v instanceof Uint8Array)return fl(v,E);if(v instanceof ArrayBuffer)return fl(new Uint8Array(v),E);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new C0(v,d);var v}(t,qc(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function PA(n,e,t){const r=Xe(n);var i;(i=(0,we.Z)(function*(u,d,p){try{const v=yield d.getMetadata();if(yield function(L,q){const ee=Xe(L),Pe=ti(q.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",Le=>ee.Ds.getBundleMetadata(Le,q.id)).then(Le=>!!Le&&Le.createTime.compareTo(Pe)>=0)}(u.localStore,v))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(L=v).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);p._updateProgress(Ki(v));const E=new IA(v,u.localStore,d.wt);let A=yield d.fc();for(;A;){const L=yield E.Nu(A);L&&p._updateProgress(L),A=yield d.fc()}const S=yield E.complete();return yield fa(u,S.Mu,void 0),yield function(L,q){const ee=Xe(L);return ee.persistence.runTransaction("Save bundle","readwrite",Pe=>ee.Ds.saveBundleMetadata(Pe,q))}(u.localStore,v),p._completeWith(S.progress),Promise.resolve(S.Ou)}catch(v){return Hf("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var L}),function(u,d,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield uy(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Yc(n,e){return function ex(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const i=Xe(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ds.getNamedQuery(u,r))}(yield A0(n),e)}))}(B(n=sn(n,T)),e).then(t=>t?new xi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new vo(this,t):null)}}class cI extends JA{constructor(e){super(),this.firestore=e}convertBytes(e){return new V0(new $o(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pa.forKey(t,this.firestore,null)}}class Dx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cI(e)}get(e){const t=Rp(e);return this._delegate.get(t).then(r=>new U0(this._firestore,new Qc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Rp(e);return r?(eS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Rp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Rp(e);return this._delegate.delete(t),this}}class Tx{constructor(e){this._delegate=e}set(e,t,r){const i=Rp(e);return r?(eS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Rp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Rp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new F0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new B0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=kp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new kp(e,new cI(e),t),i.set(t,u)),u}}kp.INSTANCES=new WeakMap;class pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pa(t,new $n(t._delegate,r,new et(e)))}static forKey(e,t,r){return new pa(t,new $n(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new py(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new py(this.firestore,o(this._delegate,e))}catch(t){throw yo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Pt.m9)(e))instanceof $n&&c(this._delegate,e)}set(e,t){t=eS("DocumentReference.set",t);try{return t?vx(this._delegate,e,t):vx(this._delegate,e)}catch(r){throw yo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?_x(this._delegate,e):_x(this._delegate,e,t,...r)}catch(i){throw yo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function AO(n){return fy(sn(n.firestore,T),[new Ya(n._key,Dn.none())])}(this._delegate)}onSnapshot(...e){const t=Ax(e),r=Sx(e,i=>new U0(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return bx(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function EO(n){n=sn(n,$n);const e=sn(n.firestore,T),t=B(e),r=new Mp(e);return function eI(n,e){const t=new jr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,u,d){try{const p=yield function(v,E){const A=Xe(v);return A.persistence.runTransaction("read document","readonly",S=>A.localDocuments.getDocument(S,E))}(i,u);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new Fe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=Wc(p,`Failed to get document '${u} from cache`);d.reject(v)}}),function(i,u,d){return r.apply(this,arguments)})(yield A0(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Qc(e,r,n._key,i,new xp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function CO(n){n=sn(n,$n);const e=sn(n.firestore,T);return cy(B(e),n._key,{source:"server"}).then(t=>XA(e,n,t))}(this._delegate):function wO(n){n=sn(n,$n);const e=sn(n.firestore,T);return cy(B(e),n._key).then(t=>XA(e,n,t))}(this._delegate),t.then(r=>new U0(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new pa(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}function yo(n,e,t){return n.message=n.message.replace(e,t),n}function Ax(n){for(const e of n)if("object"==typeof e&&!tS(e))return e;return{}}function Sx(n,e){var t,r;let i;return i=tS(n[0])?n[0]:tS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class U0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ux(this._delegate,e._delegate)}}class B0 extends U0{data(e){const t=this._delegate.data(e);return function sm(n,e){n||dt()}(void 0!==t),t}}class vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cI(e)}where(e,t,r){try{return new vo(this.firestore,Oh(this._delegate,function cO(n,e,t){const r=e,i=uI("where",n);return new lO(i,r,t)}(e,t,r)))}catch(i){throw yo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new vo(this.firestore,Oh(this._delegate,function hO(n,e="asc"){const t=e,r=uI("orderBy",n);return new dO(r,t)}(e,t)))}catch(r){throw yo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vo(this.firestore,Oh(this._delegate,function fO(n){return GA("limit",n),new cx("limit",n,"F")}(e)))}catch(t){throw yo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new vo(this.firestore,Oh(this._delegate,function pO(n){return GA("limitToLast",n),new cx("limitToLast",n,"L")}(e)))}catch(t){throw yo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vo(this.firestore,Oh(this._delegate,function gO(...n){return new dx("startAt",n,!0)}(...e)))}catch(t){throw yo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vo(this.firestore,Oh(this._delegate,function mO(...n){return new dx("startAfter",n,!1)}(...e)))}catch(t){throw yo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vo(this.firestore,Oh(this._delegate,function yO(...n){return new hx("endBefore",n,!1)}(...e)))}catch(t){throw yo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vo(this.firestore,Oh(this._delegate,function vO(...n){return new hx("endAt",n,!0)}(...e)))}catch(t){throw yo(t,"endAt()","Query.endAt()")}}isEqual(e){return h(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function DO(n){n=sn(n,xi);const e=sn(n.firestore,T),t=B(e),r=new Mp(e);return function X1(n,e){const t=new jr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,u,d){try{const p=yield gp(i,u,!0),v=new PC(u,p.ji),E=v.Ku(p.documents),A=v.applyChanges(E,!1);d.resolve(A.snapshot)}catch(p){const v=Wc(p,`Failed to execute query '${u} against cache`);d.reject(v)}}),function(i,u,d){return r.apply(this,arguments)})(yield A0(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Rh(e,r,n,i))}(this._delegate):"server"===e?.source?function TO(n){n=sn(n,xi);const e=sn(n.firestore,T),t=B(e),r=new Mp(e);return S0(t,n._query,{source:"server"}).then(i=>new Rh(e,r,n,i))}(this._delegate):function IO(n){n=sn(n,xi);const e=sn(n.firestore,T),t=B(e),r=new Mp(e);return lx(n._query),S0(t,n._query).then(i=>new Rh(e,r,n,i))}(this._delegate),t.then(r=>new nS(this.firestore,new Rh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Ax(e),r=Sx(e,i=>new nS(this.firestore,new Rh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return bx(this._delegate,t,r)}withConverter(e){return new vo(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}class $O{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new B0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new vo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new B0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new $O(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new B0(this._firestore,r))})}isEqual(e){return ux(this._delegate,e._delegate)}}class py extends vo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pa(this.firestore,e):null}doc(e){try{return new pa(this.firestore,void 0===e?a(this._delegate):a(this._delegate,e))}catch(t){throw yo(t,"doc()","CollectionReference.doc()")}}add(e){return function SO(n,e){const t=sn(n.firestore,T),r=a(n),i=lI(n.converter,e);return fy(t,[oI(Ap(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Dn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new pa(this.firestore,t))}isEqual(e){return c(this._delegate,e._delegate)}withConverter(e){return new py(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}function Rp(n){return sn(n,$n)}class rS{constructor(...e){this._delegate=new _s(...e)}static documentId(){return new rS(ar.keyField().canonicalString())}isEqual(e){return(e=(0,Pt.m9)(e))instanceof _s&&this._delegate._internalPath.isEqual(e._internalPath)}}class Op{constructor(e){this._delegate=e}static serverTimestamp(){const e=function OO(){return new zA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Op(e)}static delete(){const e=function RO(){return new N0("deleteField")}();return e._methodName="FieldValue.delete",new Op(e)}static arrayUnion(...e){const t=function NO(...n){return new rO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Op(t)}static arrayRemove(...e){const t=function PO(...n){return new iO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Op(t)}static increment(e){const t=function FO(n){return new oO("increment",n)}(e);return t._methodName="FieldValue.increment",new Op(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const HO={Firestore:Ix,GeoPoint:kh,Timestamp:yn,Blob:V0,Transaction:Dx,WriteBatch:Tx,DocumentReference:pa,DocumentSnapshot:U0,Query:vo,QueryDocumentSnapshot:B0,QuerySnapshot:nS,CollectionReference:py,FieldPath:rS,FieldValue:Op,setLogLevel:function jO(n){!function zv(n){ta.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function GO(n){(function ZO(n,e){n.INTERNAL.registerComponent(new lc.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},HO)))})(n,(e,t)=>new Ix(e,t,new BO)),n.registerVersion("@firebase/firestore-compat","0.1.21")}(jt.Z);var qO=N(6451),dI=N(5363),zO=N(6063);class WO extends Gr.x{constructor(e=1/0,t=1/0,r=zO.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!i&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const d=t.now();let p=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)p=v;p&&r.splice(0,p+1)}}}var KO=N(3099);function xx(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,KO.B)({connector:()=>new WO(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Mx(n,e){return(0,gd.m)(e)?kn(()=>n,e):kn(()=>n)}var iS=N(9468);N(5867);const Rx=new Map,eN={activated:!1,tokenObservers:[]},tN={initialized:!1,enabled:!1};function gi(n){return Rx.get(n)||eN}function au(n,e){Rx.set(n,e)}function fI(){return tN}class sN{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new Pt.BH,yield function aN(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Pt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const _o=new Pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Nx(n){if(!gi(n).activated)throw _o.create("use-before-activation",{appName:n.name})}function uS(n,e){return lS.apply(this,arguments)}function lS(){return lS=(0,we.Z)(function*({url:n,body:e},t){var r,i;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const q=yield d.getHeartbeatsHeader();q&&(u["X-Firebase-Client"]=q)}const p={method:"POST",body:JSON.stringify(e),headers:u};let v,E;try{v=yield fetch(n,p)}catch(q){throw _o.create("fetch-network-error",{originalErrorMessage:null===(r=q)||void 0===r?void 0:r.message})}if(200!==v.status)throw _o.create("fetch-status-error",{httpStatus:v.status});try{E=yield v.json()}catch(q){throw _o.create("fetch-parse-error",{originalErrorMessage:null===(i=q)||void 0===i?void 0:i.message})}const A=E.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw _o.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const S=1e3*Number(A[1]),L=Date.now();return{token:E.token,expireTimeMillis:L+S,issuedAtTimeMillis:L}}),lS.apply(this,arguments)}function dN(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const j0="firebase-app-check-store";let mI=null;function Fx(){return mI||(mI=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var u;e(_o.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(j0,{keyPath:"compositeKey"})}}catch(r){e(_o.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),mI)}function cS(){return cS=(0,we.Z)(function*(n,e){const r=(yield Fx()).transaction(j0,"readwrite"),u=r.objectStore(j0).put({compositeKey:n,value:e});return new Promise((d,p)=>{u.onsuccess=v=>{d()},r.onerror=v=>{var E;p(_o.create("storage-set",{originalErrorMessage:null===(E=v.target.error)||void 0===E?void 0:E.message}))}})}),cS.apply(this,arguments)}const $0=new Zu.Yd("@firebase/app-check");function Bx(n,e){return(0,Pt.hl)()?function gN(n,e){return function Lx(n,e){return cS.apply(this,arguments)}(function Ux(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{$0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function jx(){return fI().enabled}function $x(){return pS.apply(this,arguments)}function pS(){return pS=(0,we.Z)(function*(){const n=fI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),pS.apply(this,arguments)}const wN={error:"UNKNOWN_ERROR"};function EN(n){return Pt.US.encodeString(JSON.stringify(n),!1)}function yI(n){return gS.apply(this,arguments)}function gS(){return gS=(0,we.Z)(function*(n,e=!1){const t=n.app;Nx(t);const r=gi(t);let u,i=r.token;if(!i){const v=yield r.cachedTokenPromise;v&&vI(v)&&(i=v)}if(!e&&i&&vI(i))return{token:i.token};let p,d=!1;if(jx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=uS(dN(t,yield $x()),n.heartbeatServiceProvider).then(E=>(r.exchangeTokenPromise=void 0,E)),d=!0);const v=yield r.exchangeTokenPromise;return yield Bx(t,v),au(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),d=!0),i=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?$0.warn(v.message):$0.error(v),u=v}return i?(p={token:i.token},au(t,Object.assign(Object.assign({},r),{token:i})),yield Bx(t,i)):p=IN(u),d&&Zx(t,p),p}),gS.apply(this,arguments)}function yS(n,e){const t=gi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),au(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Hx(n){const{app:e}=n,t=gi(e);let r=t.tokenRefresher;r||(r=function CN(n){const{app:e}=n;return new sN((0,we.Z)(function*(){let r;if(r=gi(e).token?yield yI(n,!0):yield yI(n),r.error)throw r.error}),()=>!0,()=>{const t=gi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),au(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Zx(n,e){const t=gi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function vI(n){return n.expireTimeMillis-Date.now()>0}function IN(n){return{token:EN(wN),error:n}}class DN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gi(this.app);for(const t of e)yS(this.app,t.next);return Promise.resolve()}}const Jx="app-check-internal";!function UN(){(0,Po._registerComponent)(new lc.wA("app-check",n=>function TN(n,e){return new DN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Jx).initialize()})),(0,Po._registerComponent)(new lc.wA(Jx,n=>function AN(n){return{getToken:e=>yI(n,e),addTokenListener:e=>function mS(n,e,t,r){const{app:i}=n,u=gi(i),d={next:t,error:r,type:e};if(au(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&vI(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),Hx(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Hx(n))}(n,"INTERNAL",e),removeTokenListener:e=>yS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Po.registerVersion)("@firebase/app-check","0.5.11")}();class bI{constructor(){return(0,gr.vb)("app-check")}}typeof window<"u"&&window,N(127);const eM=new l.OlP("angularfire2.auth.use-emulator"),tM=new l.OlP("angularfire2.auth.settings"),nM=new l.OlP("angularfire2.auth.tenant-id"),rM=new l.OlP("angularfire2.auth.langugage-code"),iM=new l.OlP("angularfire2.auth.use-device-language"),oM=new l.OlP("angularfire.auth.persistence"),sM=(n,e,t,r,i,u,d,p)=>(0,Ii.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,u&&v.useDeviceLanguage(),d)for(const[E,A]of Object.entries(d))v.settings[E]=A;return p&&v.setPersistence(p),v},[t,r,i,u,d,p]);let ES=(()=>{class n{constructor(t,r,i,u,d,p,v,E,A,S,L,q){const ee=new Gr.x,Pe=bt(void 0).pipe((0,dI.Q)(d.outsideAngular),kn(()=>u.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,5881)))),(0,Mt.U)(()=>(0,Ii.on)(t,u,r)),(0,Mt.U)(Le=>sM(Le,u,p,E,A,S,v,L)),xx({bufferSize:1,refCount:!1}));if(dd(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{Pe.pipe(ko()).subscribe();const lt=Pe.pipe(kn(st=>st.getRedirectResult().then(Ct=>Ct,()=>null)),gr.iC,xx({bufferSize:1,refCount:!1})),ct=Pe.pipe(kn(st=>new yr.y(Ct=>({unsubscribe:u.runOutsideAngular(()=>st.onAuthStateChanged(Ht=>Ct.next(Ht),Ht=>Ct.error(Ht),()=>Ct.complete()))})))),it=Pe.pipe(kn(st=>new yr.y(Ct=>({unsubscribe:u.runOutsideAngular(()=>st.onIdTokenChanged(Ht=>Ct.next(Ht),Ht=>Ct.error(Ht),()=>Ct.complete()))}))));this.authState=lt.pipe(Mx(ct),(0,iS.R)(d.outsideAngular),(0,dI.Q)(d.insideAngular)),this.user=lt.pipe(Mx(it),(0,iS.R)(d.outsideAngular),(0,dI.Q)(d.insideAngular)),this.idToken=this.user.pipe(kn(st=>st?(0,dn.D)(st.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(kn(st=>st?(0,dn.D)(st.getIdTokenResult()):bt(null))),this.credential=(0,qO.T)(lt,ee,this.authState.pipe(Ui(st=>!st))).pipe((0,Mt.U)(st=>st?.user?st:null),(0,iS.R)(d.outsideAngular),(0,dI.Q)(d.insideAngular))}return(0,Ii.pX)(this,Pe,u,{spy:{apply:(Le,lt,ct)=>{(Le.startsWith("signIn")||Le.startsWith("createUser"))&&ct.then(it=>ee.next(it))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ii.Dh),l.LFG(Ii.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(gr.HU),l.LFG(eM,8),l.LFG(tM,8),l.LFG(nM,8),l.LFG(rM,8),l.LFG(iM,8),l.LFG(oM,8),l.LFG(bI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function aM(n,e){return function GN(n,e=Gb.z){return new yr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function CS(n,e){return aM(n,e).pipe((0,Mt.U)(t=>({payload:t,type:"query"})))}function wI(n,e){return CS(n,e).pipe(Mu(void 0),Xy(),(0,Mt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,p)=>{const v=i.find(A=>A.doc.ref.isEqual(d.ref)),E=t?.payload.docs.find(A=>A.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),u}))}function uM(n,e,t){return wI(n,t).pipe(Vi((r,i)=>function zN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function WN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return IS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return IS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return IS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function qb(n,e=oo.y){return n=n??jD,(0,mn.e)((t,r)=>{let i,u=!0;t.subscribe((0,kr.x)(r,d=>{const p=e(d);(u||!n(i,p))&&(u=!1,i=p,r.next(d))}))})}(),(0,Mt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function IS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function lM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class cM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=wI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Mt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Mu(void 0),Xy(),Ui(([r,i])=>i.length>0||!r),(0,Mt.U)(([r,i])=>i),gr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=lM(e);return uM(this.query,t,this.afs.schedulers.outsideAngular).pipe(gr.iC)}valueChanges(e={}){return CS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),gr.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(gr.iC)}add(e){return this.ref.add(e)}doc(e){return new dM(this.ref.doc(e),this.afs)}}class dM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=hM(r,t);return new cM(i,u,this.afs)}snapshotChanges(){return function qN(n,e){return aM(n,e).pipe(Mu(void 0),Xy(),(0,Mt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,dn.D)(this.ref.get(e)).pipe(gr.iC)}}class KN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?wI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ui(t=>t.length>0),gr.iC):wI(this.query,this.afs.schedulers.outsideAngular).pipe(gr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=lM(e);return uM(this.query,t,this.afs.schedulers.outsideAngular).pipe(gr.iC)}valueChanges(e={}){return CS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),gr.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(gr.iC)}}const YN=new l.OlP("angularfire2.enableFirestorePersistence"),QN=new l.OlP("angularfire2.firestore.persistenceSettings"),JN=new l.OlP("angularfire2.firestore.settings"),XN=new l.OlP("angularfire2.firestore.use-emulator");function hM(n,e=(t=>t)){return{query:e(n),ref:n}}let gy=(()=>{class n{constructor(t,r,i,u,d,p,v,E,A,S,L,q,ee,Pe,Le,lt,ct){this.schedulers=v;const it=(0,Ii.on)(t,p,r),st=A;S&&sM(it,p,L,ee,Pe,Le,q,lt),[this.firestore,this.persistenceEnabled$]=(0,Ii.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const Ct=p.runOutsideAngular(()=>it.firestore());if(u&&Ct.settings(u),st&&Ct.useEmulator(...st),i&&!dd(d)){const Ht=()=>{try{return(0,dn.D)(Ct.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(Hn){return typeof console<"u"&&console.warn(Hn),bt(!1)}};return[Ct,p.runOutsideAngular(Ht)]}return[Ct,bt(!1)]},[u,st,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=hM(i,r),p=this.schedulers.ngZone.run(()=>u);return new cM(p,d,this)}collectionGroup(t,r){const i=r||(d=>d),u=this.firestore.collectionGroup(t);return new KN(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new dM(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ii.Dh),l.LFG(Ii.xv,8),l.LFG(YN,8),l.LFG(JN,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(gr.HU),l.LFG(QN,8),l.LFG(XN,8),l.LFG(ES,8),l.LFG(eM,8),l.LFG(tM,8),l.LFG(nM,8),l.LFG(rM,8),l.LFG(iM,8),l.LFG(oM,8),l.LFG(bI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const fM="firebasestorage.googleapis.com",pM="storageBucket";class Dr extends Pt.ZR{constructor(e,t){super(DS(e),`Firebase Storage: ${t} (${DS(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dr.prototype)}_codeEquals(e){return DS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function DS(n){return"storage/"+n}function TS(){return new Dr("unknown","An unknown error occurred, please check the error payload for server response.")}function gM(){return new Dr("canceled","User canceled the upload/download.")}function mM(){return new Dr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function my(n){return new Dr("invalid-argument",n)}function yM(){return new Dr("app-deleted","The Firebase app was deleted.")}function vM(n){return new Dr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function H0(n,e){return new Dr("invalid-format","String does not match format '"+n+"': "+e)}function Z0(n){throw new Dr("internal-error","Internal error: "+n)}class Yi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Yi.makeFromUrl(e,t)}catch{return new Yi(e,"")}if(""===r.path)return r;throw function cP(n){return new Dr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+i+"(/(.*))?$","i");function E(st){st.path_=decodeURIComponent(st.path)}const S=t.replace(/[.]/g,"\\."),it=[{regex:p,indices:{bucket:1,path:3},postModify:function u(st){"/"===st.path.charAt(st.path.length-1)&&(st.path_=st.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${t===fM?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let st=0;st<it.length;st++){const Ct=it[st],Ht=Ct.regex.exec(e);if(Ht){let Mi=Ht[Ct.indices.path];Mi||(Mi=""),r=new Yi(Ht[Ct.indices.bucket],Mi),Ct.postModify(r);break}}if(null==r)throw function lP(n){return new Dr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class pP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function EI(n){return"string"==typeof n||n instanceof String}function _M(n){return AS()&&n instanceof Blob}function AS(){return typeof Blob<"u"}function SS(n,e,t,r){if(r<e)throw my(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw my(`Invalid value for '${n}'. Expected ${t} or less.`)}function Jc(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function bM(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Ph=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ph||(Ph={})),Ph))();class bP{constructor(e,t,r,i,u,d,p,v,E,A,S){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=v,this.timeout_=E,this.progressCallback_=A,this.connectionFactory_=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,q)=>{this.resolve_=L,this.reject_=q,this.start_()})}start_(){const t=(r,i)=>{const u=this.resolve_,d=this.reject_,p=i.connection;if(i.wasSuccessCode)try{const v=this.callback_(p,p.getResponse());!function yP(n){return void 0!==n}(v)?u():u(v)}catch(v){d(v)}else if(null!==p){const v=TS();v.serverResponse=p.getErrorText(),d(this.errorCallback_?this.errorCallback_(p,v):v)}else d(i.canceled?this.appDelete_?yM():gM():function uP(){return new Dr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new CI(!1,null,!0)):this.backoffId_=function gP(n,e,t){let r=1,i=null,u=null,d=!1,p=0;function v(){return 2===p}let E=!1;function A(...Le){E||(E=!0,e.apply(null,Le))}function S(Le){i=setTimeout(()=>{i=null,n(q,v())},Le)}function L(){u&&clearTimeout(u)}function q(Le,...lt){if(E)return void L();if(Le)return L(),void A.call(null,Le,...lt);if(v()||d)return L(),void A.call(null,Le,...lt);let it;r<64&&(r*=2),1===p?(p=2,it=0):it=1e3*(r+Math.random()),S(it)}let ee=!1;function Pe(Le){ee||(ee=!0,L(),!E&&(null!==i?(Le||(p=2),clearTimeout(i),S(0)):Le||(p=1)))}return S(0),u=setTimeout(()=>{d=!0,Pe(!0)},t),Pe}((r,i)=>{if(i)return void r(!1,new CI(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Ph.NO_ERROR,v=u.getStatus();if(!p||this.isRetryStatusCode_(v)){const A=u.getErrorCode()===Ph.ABORT;return void r(!1,new CI(!1,null,A))}const E=-1!==this.successCodes_.indexOf(v);r(!0,new CI(E,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function mP(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||u}}class CI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function AP(...n){const e=function TP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(AS())return new Blob(n);throw new Dr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const bs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xS{constructor(e,t){this.data=e,this.contentType=t||null}}function MS(n,e){switch(n){case bs.RAW:return new xS(wM(e));case bs.BASE64:case bs.BASE64URL:return new xS(EM(n,e));case bs.DATA_URL:return new xS(function kP(n){const e=new CM(n);return e.base64?EM(bs.BASE64,e.rest):function MP(n){let e;try{e=decodeURIComponent(n)}catch{throw H0(bs.DATA_URL,"Malformed data URL.")}return wM(e)}(e.rest)}(e),function RP(n){return new CM(n).contentType}(e))}throw TS()}function wM(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function EM(n,e){switch(n){case bs.BASE64:{const i=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(i||u)throw H0(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case bs.BASE64URL:{const i=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(i||u)throw H0(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function xP(n){return atob(n)}(e)}catch{throw H0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class CM{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw H0(bs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function OP(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class pl{constructor(e,t){let r=0,i="";_M(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(_M(this.data_)){const i=function SP(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new pl(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new pl(r,!0)}}static getBlob(...e){if(AS()){const t=e.map(r=>r instanceof pl?r.data_:r);return new pl(AP.apply(null,t))}{const t=e.map(d=>EI(d)?MS(bs.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const i=new Uint8Array(r);let u=0;return t.forEach(d=>{for(let p=0;p<d.length;p++)i[u++]=d[p]}),new pl(i,!0)}}uploadData(){return this.data_}}function kS(n){let e;try{e=JSON.parse(n)}catch{return null}return function _P(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function IM(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function FP(n,e){return e}class bo{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||FP}}let II=null;function G0(){if(II)return II;const n=[];n.push(new bo("bucket")),n.push(new bo("generation")),n.push(new bo("metageneration")),n.push(new bo("name","fullPath",!0));const t=new bo("name");t.xform=function e(u,d){return function LP(n){return!EI(n)||n.length<2?n:IM(n)}(d)},n.push(t);const i=new bo("size");return i.xform=function r(u,d){return void 0!==d?Number(d):d},n.push(i),n.push(new bo("timeCreated")),n.push(new bo("updated")),n.push(new bo("md5Hash",null,!0)),n.push(new bo("cacheControl",null,!0)),n.push(new bo("contentDisposition",null,!0)),n.push(new bo("contentEncoding",null,!0)),n.push(new bo("contentLanguage",null,!0)),n.push(new bo("contentType",null,!0)),n.push(new bo("metadata","customMetadata",!0)),II=n,II}function DM(n,e,t){const r=kS(e);return null===r?null:function UP(n,e,t){const r={type:"file"},i=t.length;for(let u=0;u<i;u++){const d=t[u];r[d.local]=d.xform(r,e[d.server])}return function VP(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new Yi(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function RS(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const u=e[i];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const TM="prefixes";class gl{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ml(n){if(!n)throw TS()}function DI(n,e){return function t(r,i){const u=DM(n,i,e);return ml(null!==u),u}}function yy(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function sP(){return new Dr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function oP(){return new Dr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function iP(n){return new Dr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function aP(n){return new Dr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function q0(n){const e=yy(n);return function t(r,i){let u=e(r,i);return 404===r.getStatus()&&(u=function rP(n){return new Dr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=i.serverResponse,u}}function SM(n,e,t){const i=Jc(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,p=new gl(i,"GET",DI(n,t),d);return p.errorHandler=q0(e),p}function GP(n,e,t,r,i){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),i&&(u.maxResults=i);const p=Jc(e.bucketOnlyServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,A=new gl(p,"GET",function HP(n,e){return function t(r,i){const u=function $P(n,e,t){const r=kS(t);return null===r?null:function jP(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[TM])for(const i of t[TM]){const u=i.replace(/\/$/,""),d=n._makeStorageReference(new Yi(e,u));r.prefixes.push(d)}if(t.items)for(const i of t.items){const u=n._makeStorageReference(new Yi(e,i.name));r.items.push(u)}return r}(n,e,r)}(n,e,i);return ml(null!==u),u}}(n,e.bucket),E);return A.urlParams=u,A.errorHandler=yy(e),A}function MM(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function KP(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class TI{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function OS(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ml(!1)}return ml(!!t&&-1!==(e||["active"]).indexOf(t)),t}const XP={STATE_CHANGED:"state_changed"},wo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function NS(n){switch(n){case"running":case"pausing":case"canceling":return wo.RUNNING;case"paused":return wo.PAUSED;case"success":return wo.SUCCESS;case"canceled":return wo.CANCELED;default:return wo.ERROR}}class eF{constructor(e,t,r){if(function vP(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function vy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class nF extends class tF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ph.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ph.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ph.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Z0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const u in i)i.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,i[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Z0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Z0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Z0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Z0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function uu(){return new nF}class NM{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=G0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,u)=>{this._resolve=i,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function YP(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),d=MM(e,r,i),p={name:d.fullPath},v=Jc(u,n.host,n._protocol),A={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},S=RS(d,t),ee=new gl(v,"POST",function q(Pe){let Le;OS(Pe);try{Le=Pe.getResponseHeader("X-Goog-Upload-URL")}catch{ml(!1)}return ml(EI(Le)),Le},n.maxUploadRetryTime);return ee.urlParams=p,ee.headers=A,ee.body=S,ee.errorHandler=yy(e),ee}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,uu,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function QP(n,e,t,r){const v=new gl(t,"POST",function u(E){const A=OS(E,["active","final"]);let S=null;try{S=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ml(!1)}S||ml(!1);const L=Number(S);return ml(!isNaN(L)),new TI(L,r.size(),"final"===A)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=yy(e),v}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(i,uu,t,r);this._request=u,u.getPromise().then(d=>{this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new TI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,u)=>{let d;try{d=function JP(n,e,t,r,i,u,d,p){const v=new TI(0,0);if(d?(v.current=d.current,v.total=d.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw function hP(){return new Dr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const E=v.total-v.current;let A=E;i>0&&(A=Math.min(A,i));const S=v.current,ee={"X-Goog-Upload-Command":A===E?"upload, finalize":"upload","X-Goog-Upload-Offset":`${v.current}`},Pe=r.slice(S,S+A);if(null===Pe)throw mM();const it=new gl(t,"POST",function Le(st,Ct){const Ht=OS(st,["active","final"]),Hn=v.current+A,Mi=r.size();let wl;return wl="final"===Ht?DI(e,u)(st,Ct):null,new TI(Hn,Mi,"final"===Ht,wl)},e.maxUploadRetryTime);return it.headers=ee,it.body=Pe.uploadData(),it.progressCallback=p||null,it.errorHandler=yy(n),it}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const p=this._ref.storage._makeRequest(d,uu,i,u);this._request=p,p.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=SM(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,uu,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function kM(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},v=function p(){let it="";for(let st=0;st<2;st++)it+=Math.random().toString().slice(2);return it}();d["Content-Type"]="multipart/related; boundary="+v;const E=MM(e,r,i),A=RS(E,t),q=pl.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+A+"\r\n--"+v+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===q)throw mM();const ee={name:E.fullPath},Pe=Jc(u,n.host,n._protocol),lt=n.maxUploadRetryTime,ct=new gl(Pe,"POST",DI(n,t),lt);return ct.urlParams=ee,ct.headers=d,ct.body=q.uploadData(),ct.errorHandler=yy(e),ct}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,uu,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=gM(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=NS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const u=new eF(t||void 0,r||void 0,i||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(NS(this._state)){case wo.SUCCESS:vy(this._resolve.bind(null,this.snapshot))();break;case wo.CANCELED:case wo.ERROR:vy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(NS(this._state)){case wo.RUNNING:case wo.PAUSED:e.next&&vy(e.next.bind(e,this.snapshot))();break;case wo.SUCCESS:e.complete&&vy(e.complete.bind(e))();break;default:e.error&&vy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Np{constructor(e,t){this._service=e,this._location=t instanceof Yi?t:Yi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Np(e,t)}get root(){const e=new Yi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IM(this._location.path)}get storage(){return this._service}get parent(){const e=function NP(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Yi(this._location.bucket,e);return new Np(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw vM(e)}}function FM(n,e,t){return PS.apply(this,arguments)}function PS(){return PS=(0,we.Z)(function*(n,e,t){const i=yield LM(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield FM(n,e,i.nextPageToken))}),PS.apply(this,arguments)}function LM(n,e){null!=e&&"number"==typeof e.maxResults&&SS("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=GP(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,uu)}function pF(n){n._throwIfRoot("getDownloadURL");const e=function qP(n,e,t){const i=Jc(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,p=new gl(i,"GET",function ZP(n,e){return function t(r,i){const u=DM(n,i,e);return ml(null!==u),function BP(n,e,t,r){const i=kS(e);if(null===i||!EI(i.downloadTokens))return null;const u=i.downloadTokens;if(0===u.length)return null;const d=encodeURIComponent;return u.split(",").map(E=>{const S=n.fullPath;return Jc("/b/"+d(n.bucket)+"/o/"+d(S),t,r)+bM({alt:"media",token:E})})[0]}(u,i,n.host,n._protocol)}}(n,t),d);return p.errorHandler=q0(e),p}(n.storage,n._location,G0());return n.storage.makeRequestWithTokens(e,uu).then(t=>{if(null===t)throw function fP(){return new Dr("no-download-url","The given file does not have any download URLs.")}();return t})}function VM(n,e){const t=function PP(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Yi(n._location.bucket,t);return new Np(n.storage,r)}function UM(n,e){if(n instanceof FS){const t=n;if(null==t._bucket)throw function dP(){return new Dr("no-default-bucket","No default bucket found. Did you set the '"+pM+"' property when initializing the app?")}();const r=new Np(t,t._bucket);return null!=e?UM(r,e):r}return void 0!==e?VM(n,e):n}function vF(n,e){if(e&&function mF(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof FS)return function yF(n,e){return new Np(n,e)}(n,e);throw my("To use ref(service, url), the first argument must be a Storage instance.")}return UM(n,e)}function BM(n,e){const t=e?.[pM];return null==t?null:Yi.makeFromBucketSpec(t,n)}class FS{constructor(e,t,r,i,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=u,this._bucket=null,this._host=fM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Yi.makeFromBucketSpec(i,this._host):BM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Yi.makeFromBucketSpec(this._url,e):BM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,we.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,we.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Np(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new pP(yM());{const u=function DP(n,e,t,r,i,u){const d=bM(n.urlParams),p=n.url+d,v=Object.assign({},n.headers);return function CP(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function wP(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function EP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,u),function IP(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new bP(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,we.Z)(function*(){const[i,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,u).getPromise()})()}}const jM="@firebase/storage";function ZM(n,e){return vF(n=(0,Pt.m9)(n),e)}function xF(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new FS(t,r,i,e,Po.SDK_VERSION)}!function MF(){(0,Po._registerComponent)(new lc.wA("storage",xF,"PUBLIC").setMultipleInstances(!0)),(0,Po.registerVersion)(jM,"0.9.9",""),(0,Po.registerVersion)(jM,"0.9.9","esm2017")}();class AI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class GM{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new AI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new AI(r,this,this._ref))},t)}on(e,t,r,i){let u;return t&&(u="function"==typeof t?d=>t(new AI(d,this,this._ref)):{next:t.next?d=>t.next(new AI(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,i||void 0)}}class qM{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Xc(e,this._service))}get items(){return this._delegate.items.map(e=>new Xc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function AF(n,e){return VM(n,e)}(this._delegate,e);return new Xc(t,this.storage)}get root(){return new Xc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Xc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new GM(function bF(n,e,t){return function lF(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new NM(n,new pl(e),t)}(n=(0,Pt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=bs.RAW,r){this._throwIfRoot("putString");const i=MS(t,e),u=Object.assign({},r);return null==u.contentType&&null!=i.contentType&&(u.contentType=i.contentType),new GM(new NM(this._delegate,new pl(i.data,!0),u),this)}listAll(){return function IF(n){return function dF(n){const e={prefixes:[],items:[]};return FM(n,e).then(()=>e)}(n=(0,Pt.m9)(n))}(this._delegate).then(e=>new qM(e,this.storage))}list(e){return function CF(n,e){return LM(n=(0,Pt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new qM(t,this.storage))}getMetadata(){return function wF(n){return function hF(n){n._throwIfRoot("getMetadata");const e=SM(n.storage,n._location,G0());return n.storage.makeRequestWithTokens(e,uu)}(n=(0,Pt.m9)(n))}(this._delegate)}updateMetadata(e){return function EF(n,e){return function fF(n,e){n._throwIfRoot("updateMetadata");const t=function zP(n,e,t,r){const u=Jc(e.fullServerUrl(),n.host,n._protocol),p=RS(t,r),E=n.maxOperationRetryTime,A=new gl(u,"PATCH",DI(n,r),E);return A.headers={"Content-Type":"application/json; charset=utf-8"},A.body=p,A.errorHandler=q0(e),A}(n.storage,n._location,e,G0());return n.storage.makeRequestWithTokens(t,uu)}(n=(0,Pt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function DF(n){return pF(n=(0,Pt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function TF(n){return function gF(n){n._throwIfRoot("deleteObject");const e=function WP(n,e){const r=Jc(e.fullServerUrl(),n.host,n._protocol),p=new gl(r,"DELETE",function d(v,E){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=q0(e),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,uu)}(n=(0,Pt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw vM(e)}}class zM{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(WM(e))throw my("ref() expected a child path but got a URL, use refFromURL instead.");return new Xc(ZM(this._delegate,e),this)}refFromURL(e){if(!WM(e))throw my("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Yi.makeFromUrl(e,this._delegate.host)}catch{throw my("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xc(ZM(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function SF(n,e,t,r={}){!function _F(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Pt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function WM(n){return/^[A-Za-z]+:\/\//.test(n)}function NF(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new zM(t,r)}function KM(n){const e=function FF(n){return new yr.y(e=>{const t=d=>e.next(d);t(n.snapshot);const u=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){u()}}).pipe(function eP(n,e=Gb.z){return(0,mn.e)((t,r)=>{let i=null,u=null,d=null;const p=()=>{if(i){i.unsubscribe(),i=null;const E=u;u=null,r.next(E)}};function v(){const E=d+n,A=e.now();if(A<E)return i=this.schedule(void 0,E-A),void r.add(i);p()}t.subscribe((0,kr.x)(r,E=>{u=E,d=e.now(),i||(i=e.schedule(v,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{u=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Mt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function SI(n){return{getDownloadURL:()=>bt(void 0).pipe(gr.fc,kn(()=>n.getDownloadURL()),gr.iC),getMetadata:()=>bt(void 0).pipe(gr.fc,kn(()=>n.getMetadata()),gr.iC),delete:()=>(0,dn.D)(n.delete()),child:e=>SI(n.child(e)),updateMetadata:e=>(0,dn.D)(n.updateMetadata(e)),put:(e,t)=>KM(n.put(e,t)),putString:(e,t,r)=>KM(n.putString(e,t,r)),list:e=>(0,dn.D)(n.list(e)),listAll:()=>(0,dn.D)(n.listAll())}}!function PF(n){const e={TaskState:wo,TaskEvent:XP,StringFormat:bs,Storage:zM,Reference:Xc};n.INTERNAL.registerComponent(new lc.wA("storage-compat",NF,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(jt.Z);const LF=new l.OlP("angularfire2.storageBucket"),VF=new l.OlP("angularfire2.storage.maxUploadRetryTime"),UF=new l.OlP("angularfire2.storage.maxOperationRetryTime"),BF=new l.OlP("angularfire2.storage.use-emulator");let Pp=(()=>{class n{constructor(t,r,i,u,d,p,v,E,A,S){const L=(0,Ii.on)(t,d,r);this.storage=(0,Ii.cc)(`${L.name}.storage.${i}`,"AngularFireStorage",L.name,()=>{const q=d.runOutsideAngular(()=>L.storage(i||void 0)),ee=A;return ee&&q.useEmulator(...ee),v&&q.setMaxUploadRetryTime(v),E&&q.setMaxOperationRetryTime(E),q},[v,E])}ref(t){return SI(this.storage.ref(t))}refFromURL(t){return SI(this.storage.refFromURL(t))}upload(t,r,i){return SI(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ii.Dh),l.LFG(Ii.xv,8),l.LFG(LF,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(gr.HU),l.LFG(VF,8),l.LFG(UF,8),l.LFG(BF,8),l.LFG(bI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jF=(()=>{class n{constructor(t,r){this.fireStore=t,this.fireStorage=r}saveMetaDataOfFile(t){const r={id:"",name:t.name,url:t.url,size:t.size};r.id=this.fireStore.createId(),this.fireStore.collection("/Fichier").add(r)}getAllFiles(){return this.fireStore.collection("/Fichier").snapshotChanges()}deleteFile(t){this.fireStore.collection("/Fichier").doc(t.id).delete(),this.fireStorage.ref("/Fichier/"+t.name).delete()}updateFile(t){this.deleteFile(t),this.saveMetaDataOfFile(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gy),l.LFG(Pp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YM=(()=>{class n{constructor(t,r){this.afs=t,this.fireStorage=r}addStudent(t){return t.id=this.afs.createId(),this.afs.collection("/NoterStudents").add(t)}getAllStudents(){return this.afs.collection("/NoterStudents").snapshotChanges()}deleteStudent(t){this.afs.doc("/NoterStudents/"+t.id).delete()}updateStudent(t){this.deleteStudent(t),this.addStudent(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gy),l.LFG(Pp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $F(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"th"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td")(6,"a",16),l._UZ(7,"i",17),l.qZA(),l.TgZ(8,"a",18),l.NdJ("click",function(){const u=l.CHM(t).$implicit,d=l.oxw();return l.KtG(d.deleteFile(u))}),l._UZ(9,"i",19),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.name),l.xp6(2),l.Oqu(t.size),l.xp6(2),l.s9C("href",t.url,l.LSH)}}const HF=function(n){return{width:n}};let ZF=(()=>{class n{constructor(t,r,i){this.fileService=t,this.fireStorage=r,this.dataService=i,this.percentage=0,this.listOfFiles=[]}ngOnInit(){this.getAllFiles()}selectFile(t){this.selectedFiles=t.target.files}uploadFile(){this.currentFileUpload=new BD(this.selectedFiles[0]);const r=this.fireStorage.ref("Fichier/"+this.currentFileUpload.file.name);r.put(this.selectedFiles[0]).snapshotChanges().pipe(Na(()=>{r.getDownloadURL().subscribe(u=>{this.currentFileUpload.id="",this.currentFileUpload.url=u,this.currentFileUpload.size=this.currentFileUpload.file.size,this.currentFileUpload.name=this.currentFileUpload.file.name,this.fileService.saveMetaDataOfFile(this.currentFileUpload)}),this.ngOnInit()})).subscribe(u=>{this.percentage=100*u.bytesTransferred/u.totalBytes},u=>{console.log("Error occured")})}getAllFiles(){this.fileService.getAllFiles().subscribe(t=>{this.listOfFiles=t.map(r=>{const i=r.payload.doc.data();return i.id=r.payload.doc.id,i})},t=>{console.log("Error occured while fetching file meta data")})}deleteFile(t){window.confirm("Are you sure you want to delete "+t.name+"?")&&(this.fileService.deleteFile(t),this.ngOnInit())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(jF),l.Y36(Pp),l.Y36(YM))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-ajouter-cours"]],decls:32,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-2"],[1,"col-md","mt-5"],[1,"card","border-0","shadow"],[1,"card-body"],["type","file",1,"text-nowrap","text-truncate","file",3,"change"],["type","button",1,"btn","btn-outline-warning",3,"disabled","click"],[1,"progress","mt-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info",3,"ngStyle"],[1,"col-md"],[1,"mb-3","mt-3"],[1,"text-primary"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["target","_blank","type","button","download","",1,"btn","btn-outline-info",3,"href"],[1,"bi","bi-download"],["type","button",1,"btn","btn-outline-danger","ms-2",3,"click"],[1,"bi","bi-trash"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"div",2),l.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"span"),l._uU(7,"x charger un documents"),l.qZA(),l.TgZ(8,"div")(9,"input",6),l.NdJ("change",function(u){return r.selectFile(u)}),l.qZA(),l.TgZ(10,"button",7),l.NdJ("click",function(){return r.uploadFile()}),l._uU(11,"Envoyer"),l.qZA()(),l.TgZ(12,"div",8)(13,"div",9),l._uU(14),l.qZA()()()()(),l._UZ(15,"div",2),l.qZA(),l.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"h4",12),l._uU(20,"Liste des Documents"),l.qZA()(),l.TgZ(21,"table",13)(22,"thead")(23,"tr")(24,"th",14),l._uU(25,"Nom du documents"),l.qZA(),l.TgZ(26,"th",14),l._uU(27,"Taille"),l.qZA(),l.TgZ(28,"th",14),l._uU(29,"Action"),l.qZA()()(),l.TgZ(30,"tbody"),l.YNc(31,$F,10,3,"tr",15),l.qZA()()()()()),2&t&&(l.xp6(10),l.Q6J("disabled",!r.selectedFiles),l.xp6(3),l.Q6J("ngStyle",l.VKq(5,HF,r.percentage+"%")),l.uIk("aria-valuenow",r.percentage),l.xp6(1),l.hij(" ",r.percentage,"% "),l.xp6(17),l.Q6J("ngForOf",r.listOfFiles))},dependencies:[Fr,ya],styles:["h1[_ngcontent-%COMP%]{border-bottom:2px solid black;font-family:Times New Roman,Times,serif;letter-spacing:5px;font-style:italic;opacity:.5;color:#6495ed}.container1[_ngcontent-%COMP%]{margin:auto;width:65em;height:30em;padding:35px;background-color:#f0f8ff;border-radius:1em;box-shadow:2px 2px 4px #000 inset,2px 2px 4px #000}span[_ngcontent-%COMP%]{text-transform:uppercase;text-shadow:1px 2px 2px rgb(178,167,167)}"]}),n})(),QM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Fp=(()=>{class n extends QM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const yl=new l.OlP("NgValueAccessor"),zF={provide:yl,useExisting:(0,l.Gpc)(()=>vl),multi:!0},KF=new l.OlP("CompositionEventMode");let vl=(()=>{class n extends QM{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function WF(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(KF,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[l._Bn([zF]),l.qOj]}),n})();const Qi=new l.OlP("NgValidators"),Lh=new l.OlP("NgAsyncValidators");function nk(n){return function Fh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function xI(n){return null}function uk(n){return null!=n}function lk(n){return(0,l.QGY)(n)?(0,dn.D)(n):n}function ck(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function dk(n,e){return e.map(t=>t(n))}function hk(n){return n.map(e=>function JF(n){return!n.validate}(e)?e:t=>e.validate(t))}function LS(n){return null!=n?function fk(n){if(!n)return null;const e=n.filter(uk);return 0==e.length?null:function(t){return ck(dk(t,e))}}(hk(n)):null}function VS(n){return null!=n?function pk(n){if(!n)return null;const e=n.filter(uk);return 0==e.length?null:function(t){return function GF(...n){const e=(0,fn.jO)(n),{args:t,keys:r}=Ra(n),i=new yr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const p=new Array(d);let v=d,E=d;for(let A=0;A<d;A++){let S=!1;(0,Hs.Xf)(t[A]).subscribe((0,kr.x)(u,L=>{S||(S=!0,E--),p[A]=L},()=>v--,void 0,()=>{(!v||!S)&&(E||u.next(r?so(r,p):p),u.complete())}))}});return e?i.pipe(Us(e)):i}(dk(t,e).map(lk)).pipe((0,Mt.U)(ck))}}(hk(n)):null}function gk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function mk(n){return n._rawValidators}function yk(n){return n._rawAsyncValidators}function US(n){return n?Array.isArray(n)?n:[n]:[]}function MI(n,e){return Array.isArray(n)?n.includes(e):n===e}function vk(n,e){const t=US(e);return US(n).forEach(i=>{MI(t,i)||t.push(i)}),t}function _k(n,e){return US(e).filter(t=>!MI(n,t))}class bk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=LS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=VS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Eo extends bk{get formDirective(){return null}get path(){return null}}class Vh extends bk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wk{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Uh=(()=>{class n extends wk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Vh,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),Bh=(()=>{class n extends wk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Eo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const z0="VALID",RI="INVALID",_y="PENDING",W0="DISABLED";function HS(n){return(OI(n)?n.validators:n)||null}function Ck(n){return Array.isArray(n)?LS(n):n||null}function ZS(n,e){return(OI(e)?e.asyncValidators:n)||null}function Ik(n){return Array.isArray(n)?VS(n):n||null}function OI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Dk(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")}function Tk(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})}class NI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Ck(this._rawValidators),this._composedAsyncValidatorFn=Ik(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===z0}get invalid(){return this.status===RI}get pending(){return this.status==_y}get disabled(){return this.status===W0}get enabled(){return this.status!==W0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Ck(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ik(e)}addValidators(e){this.setValidators(vk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_k(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_k(e,this._rawAsyncValidators))}hasValidator(e){return MI(this._rawValidators,e)}hasAsyncValidator(e){return MI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_y,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=W0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=z0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===z0||this.status===_y)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?W0:z0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_y,this._hasOwnPendingAsyncValidator=!0;const t=lk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?W0:this.errors?RI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_y)?_y:this._anyControlsHaveStatus(RI)?RI:z0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){OI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class PI extends NI{constructor(e,t,r){super(HS(t),ZS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Tk(this,0,e),Object.keys(e).forEach(r=>{Dk(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function FI(n,e){return[...e.path,n]}function K0(n,e){GS(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function aL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ak(n,e)})}(n,e),function lL(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function uL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ak(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function sL(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function LI(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),UI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function VI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function GS(n,e){const t=mk(n);null!==e.validator?n.setValidators(gk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=yk(n);null!==e.asyncValidator?n.setAsyncValidators(gk(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();VI(e._rawValidators,i),VI(e._rawAsyncValidators,i)}function UI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=mk(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=yk(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return VI(e._rawValidators,r),VI(e._rawAsyncValidators,r),t}function Ak(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Sk(n,e){GS(n,e)}function qS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Mk(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function zS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===vl?t=u:function hL(n){return Object.getPrototypeOf(n.constructor)===Fp}(u)?r=u:i=u}),i||r||t||null}const pL={provide:Eo,useExisting:(0,l.Gpc)(()=>jh)},Y0=(()=>Promise.resolve(null))();let jh=(()=>{class n extends Eo{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new PI({},LS(t),VS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Y0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),K0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Y0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Y0.then(()=>{const r=this._findContainer(t.path),i=new PI({});Sk(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Y0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Y0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Mk(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Qi,10),l.Y36(Lh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([pL]),l.qOj]}),n})();function kk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Rk(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Q0=class extends NI{constructor(e=null,t,r){super(HS(t),ZS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),OI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Rk(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Rk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},yL={provide:Vh,useExisting:(0,l.Gpc)(()=>ed)},Pk=(()=>Promise.resolve(null))();let ed=(()=>{class n extends Vh{constructor(t,r,i,u,d){super(),this._changeDetectorRef=d,this.control=new Q0,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=zS(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),qS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){K0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Pk.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,l.D6c)(r);Pk.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?FI(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Eo,9),l.Y36(Qi,10),l.Y36(Lh,10),l.Y36(yl,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([yL]),l.qOj,l.TTD]}),n})(),$h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const vL={provide:yl,useExisting:(0,l.Gpc)(()=>WS),multi:!0};let WS=(()=>{class n extends Fp{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([vL]),l.qOj]}),n})(),Fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const KS=new l.OlP("NgModelWithFormControlWarning"),CL={provide:Eo,useExisting:(0,l.Gpc)(()=>by)};let by=(()=>{class n extends Eo{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(UI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return K0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){LI(t.control||null,t,!1),function fL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Mk(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(LI(r||null,t),(n=>n instanceof Q0)(i)&&(K0(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Sk(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function cL(n,e){return UI(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){GS(this.form,this),this._oldForm&&UI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Qi,10),l.Y36(Lh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([CL]),l.qOj,l.TTD]}),n})();const TL={provide:Vh,useExisting:(0,l.Gpc)(()=>J0)};let J0=(()=>{class n extends Vh{constructor(t,r,i,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=zS(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),qS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return FI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Eo,13),l.Y36(Qi,10),l.Y36(Lh,10),l.Y36(yl,10),l.Y36(KS,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([TL]),l.qOj,l.TTD]}),n})();const AL={provide:yl,useExisting:(0,l.Gpc)(()=>Lp),multi:!0};function jk(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Lp=(()=>{class n extends Fp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=jk(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function SL(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([AL]),l.qOj]}),n})(),X0=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(jk(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Lp,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const xL={provide:yl,useExisting:(0,l.Gpc)(()=>JS),multi:!0};function $k(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let JS=(()=>{class n extends Fp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let p=0;p<d.length;p++){const E=this._getOptionValue(d[p].value);i.push(E)}}else{const d=r.options;for(let p=0;p<d.length;p++){const v=d[p];if(v.selected){const E=this._getOptionValue(v.value);i.push(E)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function ML(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([xL]),l.qOj]}),n})(),eb=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue($k(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue($k(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(JS,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Vp=(()=>{class n{constructor(){this._validator=xI}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const OL={provide:Qi,useExisting:(0,l.Gpc)(()=>tb),multi:!0};let tb=(()=>{class n extends Vp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>nk}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([OL]),l.qOj]}),n})(),Jk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Fk]}),n})(),UL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Jk]}),n})(),Xk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:KS,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Jk]}),n})();class eR extends NI{constructor(e,t,r){super(HS(t),ZS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Tk(this,0,e),e.forEach((r,i)=>{Dk(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function tR(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let BI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let p,u=null,d=null;return null!==r&&(tR(r)?(u=null!=r.validators?r.validators:null,d=null!=r.asyncValidators?r.asyncValidators:null,p=null!=r.updateOn?r.updateOn:void 0):(u=null!=r.validator?r.validator:null,d=null!=r.asyncValidator?r.asyncValidator:null)),new PI(i,{asyncValidators:d,updateOn:p,validators:u})}control(t,r,i){let u={};return this.useNonNullable?(tR(r)?u=r:(u.validators=r,u.asyncValidators=i),new Q0(t,{...u,nonNullable:!0})):new Q0(t,r,i)}array(t,r,i){const u=t.map(d=>this._createControl(d));return new eR(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Q0||t instanceof NI?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:Xk}),n})();var BL=N(6457);let _l=(()=>{class n{constructor(t,r){this.fireauth=t,this.router=r,this.isAdmin=!1,this.isAuth=!1,this.controlEmail=""}login(t,r,i){this.isAdmin=i,this.controlEmail=t,this.fireauth.signInWithEmailAndPassword(t,r).then(u=>{localStorage.setItem("token","true"),this.isAuth=!0,this.router.navigate(["/Accueil"])},u=>{alert(u.message),this.isAuth=!1,this.router.navigate(["/connexion"])})}register(t,r){this.fireauth.createUserWithEmailAndPassword(t,r).then(i=>{alert("Registration Successful"),this.sendEmailForVarification(i.user),this.router.navigate(["/ajoutedutiant"])},i=>{alert(i.message),this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/connexion"])},t=>{alert(t.message)})}forgotPassword(t){this.fireauth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/verify-Email"])},r=>{alert("Something went wrong")})}sendEmailForVarification(t){console.log(t),t.sendEmailVerification().then(r=>{this.router.navigate(["/varify-email"])},r=>{alert("Something went wrong. Not able to send mail to your email.")})}googleSignIn(){return this.fireauth.signInWithPopup(new BL.Q).then(t=>{this.router.navigate(["/dashboard"]),localStorage.setItem("token",JSON.stringify(t.user?.uid))},t=>{alert(t.message)})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ES),l.LFG(Wr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jL=(()=>{class n{constructor(t,r){this.afs=t,this.fireStorage=r}addStudent(t){return t.id=this.afs.createId(),this.afs.collection("/StudentsListe").add(t)}getAllStudents(){return this.afs.collection("/StudentsListe").snapshotChanges()}deleteStudent(t){this.afs.doc("/StudentsListe/"+t.id).delete()}updateStudent(t){this.deleteStudent(t),this.addStudent(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gy),l.LFG(Pp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $L(n,e){1&n&&(l.TgZ(0,"div",54)(1,"div",55)(2,"button",56),l._UZ(3,"i",57),l._uU(4," \xa0 Authentifier un Etudiant"),l.qZA()()())}function HL(n,e){1&n&&(l.TgZ(0,"th",22),l._uU(1,"Action"),l.qZA())}function ZL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td")(1,"button",59),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit,u=l.oxw();return l.KtG(u.editEmployee(i))}),l._UZ(2,"i",60),l.qZA(),l.TgZ(3,"button",61),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit,u=l.oxw();return l.KtG(u.deleteStudent(i))}),l._UZ(4,"i",62),l.qZA()()}}function GL(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td"),l._uU(14),l.qZA(),l.TgZ(15,"td"),l._uU(16),l.qZA(),l.YNc(17,ZL,5,0,"td",58),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.xp6(2),l.Oqu(t.first_name),l.xp6(2),l.Oqu(t.last_name),l.xp6(2),l.Oqu(t.filiere),l.xp6(2),l.Oqu(t.classe),l.xp6(2),l.Oqu(t.tel),l.xp6(2),l.Oqu(t.email),l.xp6(2),l.Oqu(t.matricule),l.xp6(2),l.Oqu(t.motPasse),l.xp6(1),l.Q6J("ngIf",r.auth.isAdmin)}}let qL=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.auth=r,this.data=i,this.Authemail="",this.Authpassword="",this.studentsList=[],this.studentObj={id:"",first_name:"",last_name:"",filiere:"",classe:"",email:"",tel:"",matricule:"",motPasse:""},this.id="",this.first_name="",this.last_name="",this.filiere="",this.classe="",this.email="",this.tel="",this.matricule="",this.motPasse=""}ngOnInit(){this.getAllStudents(),this.etudDetail=this.formBuilder.group({id:[""],first_name:[""],last_name:[""],filiere:[""],classe:[""],email:[""],tel:[""],matricule:[""],motPasse:[""]})}editEmployee(t){this.etudDetail.controls.id.setValue(t.id),this.etudDetail.controls.first_name.setValue(t.first_name),this.etudDetail.controls.last_name.setValue(t.last_name),this.etudDetail.controls.filiere.setValue(t.filiere),this.etudDetail.controls.classe.setValue(t.classe),this.etudDetail.controls.email.setValue(t.email),this.etudDetail.controls.tel.setValue(t.tel),this.etudDetail.controls.matricule.setValue(t.matricule),this.etudDetail.controls.motPasse.setValue(t.motPasse)}getAllStudents(){this.data.getAllStudents().subscribe(t=>{this.studentsList=t.map(r=>{const i=r.payload.doc.data();return i.id=r.payload.doc.id,i})},t=>{alert("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es des \xe9tudiants")})}resetForm(){this.id="",this.first_name="",this.last_name="",this.filiere="",this.classe="",this.tel="",this.email="",this.matricule="",this.motPasse=""}addStudent(){""!=this.first_name&&""!=this.last_name&&""!=this.filiere&&""!=this.classe&&""!=this.tel?(this.studentObj.id="",this.studentObj.email=this.email,this.studentObj.first_name=this.first_name,this.studentObj.last_name=this.last_name,this.studentObj.filiere=this.filiere,this.studentObj.classe=this.classe,this.studentObj.tel=this.tel,this.studentObj.matricule=this.matricule,this.studentObj.motPasse=this.motPasse,this.data.addStudent(this.studentObj),this.resetForm()):alert("Remplir tous les champs de saisie")}updateStudent(){this.studentObj.id=this.etudDetail.value.id,this.studentObj.first_name=this.etudDetail.value.first_name,this.studentObj.last_name=this.etudDetail.value.last_name,this.studentObj.filiere=this.etudDetail.value.filiere,this.studentObj.classe=this.etudDetail.value.classe,this.studentObj.email=this.etudDetail.value.email,this.studentObj.matricule=this.etudDetail.value.matricule,this.studentObj.tel=this.etudDetail.value.tel,this.studentObj.motPasse=this.etudDetail.value.motPasse,this.data.updateStudent(this.studentObj)}deleteStudent(t){window.confirm("\xcates vous sur de supprimer "+t.first_name+" "+t.last_name+" ?")&&this.data.deleteStudent(t)}register(){""!=this.Authemail?""!=this.Authpassword?(this.auth.register(this.Authemail,this.Authpassword),this.Authemail="",this.Authpassword=""):alert("Please enter password"):alert("Please enter email")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(BI),l.Y36(_l),l.Y36(jL))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-ajouter-etud"]],decls:122,vars:6,consts:[[1,"container-fluid"],["class","position-relative mb-5",4,"ngIf"],["id","AddEtudiant","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-center"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"card","border-0","shadow","p-3"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["required","","type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["required","","type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button","data-bs-dismiss","modal",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col","mt-2"],[1,"text-danger"],[1,"card","p-3","shadow"],[1,"card-body"],[1,"table","table-hover"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["id","editEmployee","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title"],[3,"formGroup"],["type","text","formControlName","first_name","id","first_name","aria-describedby","emailHelp",1,"form-control"],["type","text","formControlName","last_name","id","last_name","aria-describedby","emailHelp",1,"form-control"],[1,"form-floating","mb-3"],["value",""],["formControlName","filiere","aria-label","Default select example",1,"form-select"],["selected",""],["value","GME"],["value","GEEA"],["value","GEOLOGIE"],["value","GENIE CIVIL"],["value","TOPOLOGIE"],["formControlName","classe","aria-label","Default select example",1,"form-select"],["value","DUT"],["value","TECHNICIEN SUPERIEUR"],["value","LICENCE 1"],["value","LICENCE 2"],["value","LICENCE 3"],["value","MASTER 1"],["value","MASTER 2"],["type","text","formControlName","tel","id","tel","aria-describedby","emailHelp",1,"form-control"],["type","email","formControlName","email","id","email","aria-describedby","emailHelp",1,"form-control"],["type","email","formControlName","matricule","id","email","aria-describedby","emailHelp",1,"form-control"],["type","password","formControlName","motPasse","id","email","aria-describedby","emailHelp",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-success",3,"click"],[1,"position-relative","mb-5"],[1,"position-absolute","top-0","end-0"],["type","button","data-bs-toggle","modal","data-bs-target","#AddEtudiant",1,"btn","btn-outline-primary","me-2"],[1,"bi","bi-plus-square"],[4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#editEmployee",1,"btn","btn-outline-primary","me-2",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-trash"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,$L,5,0,"div",1),l.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),l._uU(7,"Authentification de l'etudiant "),l.qZA(),l._UZ(8,"button",7),l.qZA(),l.TgZ(9,"div",8)(10,"div",9)(11,"form")(12,"div",10)(13,"label",11),l._uU(14,"Email"),l.qZA(),l.TgZ(15,"input",12),l.NdJ("ngModelChange",function(u){return r.Authemail=u}),l.qZA()(),l.TgZ(16,"div",10)(17,"label",13),l._uU(18,"Mot de Passe"),l.qZA(),l.TgZ(19,"input",14),l.NdJ("ngModelChange",function(u){return r.Authpassword=u}),l.qZA()(),l.TgZ(20,"button",15),l.NdJ("click",function(){return r.register()}),l._uU(21,"Authentifier"),l.qZA()()()()()()(),l.TgZ(22,"div",16)(23,"div",17)(24,"h5",18),l._uU(25," Liste Etudiant"),l.qZA(),l.TgZ(26,"div",19)(27,"div",20)(28,"table",21)(29,"thead")(30,"tr")(31,"th",22),l._uU(32,"Prenom"),l.qZA(),l.TgZ(33,"th",22),l._uU(34,"Nom"),l.qZA(),l.TgZ(35,"th",22),l._uU(36,"Filiere"),l.qZA(),l.TgZ(37,"th",22),l._uU(38,"Classe"),l.qZA(),l.TgZ(39,"th",22),l._uU(40,"Telephone"),l.qZA(),l.TgZ(41,"th",22),l._uU(42,"Email"),l.qZA(),l.TgZ(43,"th",22),l._uU(44,"Matricule"),l.qZA(),l.TgZ(45,"th",22),l._uU(46,"Mot de Passe"),l.qZA(),l.YNc(47,HL,2,0,"th",23),l.qZA()(),l.TgZ(48,"tbody"),l.YNc(49,GL,18,9,"tr",24),l.qZA()()()()()(),l.TgZ(50,"div",25)(51,"div",3)(52,"div",4)(53,"div",5)(54,"h5",26),l._uU(55,"Modifier Les informations de L'etudiant "),l.qZA(),l._UZ(56,"button",7),l.qZA(),l.TgZ(57,"div",8)(58,"form",27)(59,"div",10)(60,"label",11),l._uU(61," Prenom "),l.qZA(),l._UZ(62,"input",28),l.qZA(),l.TgZ(63,"div",10)(64,"label",11),l._uU(65,"Nom "),l.qZA(),l._UZ(66,"input",29),l.qZA(),l.TgZ(67,"div",30)(68,"option",31),l._uU(69,"Selectionner la Filiere"),l.qZA(),l.TgZ(70,"select",32)(71,"option",33),l._uU(72,"GIT"),l.qZA(),l.TgZ(73,"option",34),l._uU(74,"GME"),l.qZA(),l.TgZ(75,"option",35),l._uU(76,"GEEA"),l.qZA(),l.TgZ(77,"option",36),l._uU(78,"GEOLOGIE"),l.qZA(),l.TgZ(79,"option",37),l._uU(80,"GENIE CIVIL"),l.qZA(),l.TgZ(81,"option",38),l._uU(82,"TOPOLOGIE"),l.qZA()()(),l.TgZ(83,"div",30)(84,"option",31),l._uU(85,"Selectionner la classe"),l.qZA(),l.TgZ(86,"select",39)(87,"option",40),l._uU(88,"DUT"),l.qZA(),l.TgZ(89,"option",41),l._uU(90,"TECHNICIEN SUPERIEUR"),l.qZA(),l.TgZ(91,"option",42),l._uU(92,"LICENCE 1"),l.qZA(),l.TgZ(93,"option",43),l._uU(94,"LICENCE 2"),l.qZA(),l.TgZ(95,"option",44),l._uU(96,"LICENCE 3"),l.qZA(),l.TgZ(97,"option",45),l._uU(98,"MASTER 1"),l.qZA(),l.TgZ(99,"option",46),l._uU(100,"MASTER 2"),l.qZA()()(),l.TgZ(101,"div",10)(102,"label",11),l._uU(103,"Tel "),l.qZA(),l._UZ(104,"input",47),l.qZA(),l.TgZ(105,"div",10)(106,"label",11),l._uU(107,"Email "),l.qZA(),l._UZ(108,"input",48),l.qZA(),l.TgZ(109,"div",10)(110,"label",11),l._uU(111,"Matricule "),l.qZA(),l._UZ(112,"input",49),l.qZA(),l.TgZ(113,"div",10)(114,"label",11),l._uU(115,"Mot de Passe "),l.qZA(),l._UZ(116,"input",50),l.qZA(),l.TgZ(117,"div",51)(118,"button",52),l._uU(119,"Fermer"),l.qZA(),l.TgZ(120,"button",53),l.NdJ("click",function(){return r.updateStudent()}),l._uU(121,"Mettre \xe0 jour "),l.qZA()()()()()()()()),2&t&&(l.xp6(1),l.Q6J("ngIf",r.auth.isAdmin),l.xp6(14),l.Q6J("ngModel",r.Authemail),l.xp6(4),l.Q6J("ngModel",r.Authpassword),l.xp6(28),l.Q6J("ngIf",r.auth.isAdmin),l.xp6(2),l.Q6J("ngForOf",r.studentsList),l.xp6(9),l.Q6J("formGroup",r.etudDetail))},dependencies:[Fr,Wn,$h,X0,eb,vl,Lp,Uh,Bh,tb,ed,jh,by,J0],styles:["h1[_ngcontent-%COMP%]{border-bottom:2px solid black;font-family:Times New Roman,Times,serif;letter-spacing:5px;font-style:italic;opacity:.5;color:#6495ed}.container1[_ngcontent-%COMP%]{margin:auto;width:65em;height:30em;padding:35px;background-color:#f0f8ff;border-radius:1em;box-shadow:2px 2px 4px #000 inset,2px 2px 4px #000}"]}),n})(),zL=(()=>{class n{constructor(t,r){this.afs=t,this.fireStorage=r}addStudent(t){return t.id=this.afs.createId(),this.afs.collection("/Information").add(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gy),l.LFG(Pp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WL(n,e){1&n&&(l.TgZ(0,"div",24),l._uU(1," information a bien \xe9t\xe9 envoy\xe9 "),l.qZA())}let KL=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.auth=r,this.data=i,this.isInf=!1,this.studentObj={id:"",titre:"",contenu:"",classe:"",filiere:""},this.id="",this.titre="",this.contenu="",this.classe="",this.filiere=""}ngOnInit(){}resetForm(){this.id="",this.titre="",this.contenu="",this.filiere="",this.classe=""}addStudent(){if(""==this.titre||""==this.contenu)return alert("Remplir tous les champs de saisie"),void(this.isInf=!1);this.studentObj.id="",this.studentObj.titre=this.titre,this.studentObj.contenu=this.contenu,this.studentObj.filiere=this.filiere,this.studentObj.classe=this.classe,this.data.addStudent(this.studentObj),this.isInf=!0,this.resetForm()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(BI),l.Y36(_l),l.Y36(zL))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-ajouter-info"]],decls:49,vars:5,consts:[[1,"row"],[1,"col-1"],[1,"card","border-0","shadow","p-3","col"],[1,"form-floating","mb-3","tetx-center"],[1,"text-center","text-warning"],[1,"form-floating","mb-3"],["type","text","id","firstName","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["for","firstname"],["aria-label",".form-select-lg example",1,"form-select","form-select-lg","mb-3",3,"ngModel","ngModelChange"],["selected",""],["value","GIT"],["value","GME"],["value","GEEA"],["value","DUT"],["value","TECHNICIEN"],["value","LICENCE 1"],["value","LICENCE 2"],["value","LICENCE 3"],["value","MASTER 1"],["value","MASTER 2"],[1,"mb-3"],["name","contenu","id","exampleFormControlTextarea1","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-dark","role","alert",4,"ngIf"],["type","button",1,"btn","btn-outline-success",3,"click"],["role","alert",1,"alert","alert-dark"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"div",3)(4,"h5",4),l._uU(5,"Ajouter Information"),l.qZA()(),l.TgZ(6,"div",5)(7,"input",6),l.NdJ("ngModelChange",function(u){return r.titre=u}),l.qZA(),l.TgZ(8,"label",7),l._uU(9,"Titre"),l.qZA()(),l.TgZ(10,"select",8),l.NdJ("ngModelChange",function(u){return r.filiere=u}),l.TgZ(11,"option",9),l._uU(12," Selectionner la Filiere"),l.qZA(),l.TgZ(13,"option",10),l._uU(14,"GIT"),l.qZA(),l.TgZ(15,"option",11),l._uU(16,"GME"),l.qZA(),l.TgZ(17,"option",12),l._uU(18,"GEEA"),l.qZA(),l.TgZ(19,"option",12),l._uU(20,"GEOLOGIE"),l.qZA(),l.TgZ(21,"option",12),l._uU(22,"GENIE CIVIL"),l.qZA(),l.TgZ(23,"option",12),l._uU(24,"TOPOLOGIE"),l.qZA()(),l.TgZ(25,"select",8),l.NdJ("ngModelChange",function(u){return r.classe=u}),l.TgZ(26,"option",9),l._uU(27,"Selectionner la Classe"),l.qZA(),l.TgZ(28,"option",13),l._uU(29,"DUT"),l.qZA(),l.TgZ(30,"option",14),l._uU(31,"TECHNICIEN SUPERIEUR"),l.qZA(),l.TgZ(32,"option",15),l._uU(33,"LICENCE 1"),l.qZA(),l.TgZ(34,"option",16),l._uU(35,"LICENCE 2"),l.qZA(),l.TgZ(36,"option",17),l._uU(37,"LICENCE 3"),l.qZA(),l.TgZ(38,"option",18),l._uU(39,"MASTER 1"),l.qZA(),l.TgZ(40,"option",19),l._uU(41,"MASTER 2"),l.qZA()(),l.TgZ(42,"div",20)(43,"textarea",21),l.NdJ("ngModelChange",function(u){return r.contenu=u}),l._uU(44,"Contenu"),l.qZA()(),l.YNc(45,WL,2,0,"div",22),l.TgZ(46,"button",23),l.NdJ("click",function(){return r.addStudent()}),l._uU(47,"Envoyer"),l.qZA()(),l._UZ(48,"div",1),l.qZA()),2&t&&(l.xp6(7),l.Q6J("ngModel",r.titre),l.xp6(3),l.Q6J("ngModel",r.filiere),l.xp6(15),l.Q6J("ngModel",r.classe),l.xp6(18),l.Q6J("ngModel",r.contenu),l.xp6(2),l.Q6J("ngIf",r.isInf))},dependencies:[Wn,X0,eb,vl,Lp,Uh,ed],styles:["h1[_ngcontent-%COMP%]{border-bottom:2px solid black;font-family:Times New Roman,Times,serif;letter-spacing:5px;font-style:italic;opacity:.5;color:#6495ed}.container1[_ngcontent-%COMP%]{margin:auto;width:65em;height:30em;padding:35px;background-color:#f0f8ff;border-radius:1em;box-shadow:2px 2px 4px #000 inset,2px 2px 4px #000}"]}),n})(),nR=(()=>{class n{constructor(t){this.auth=t,this.email="",this.password="",this.isAdmin=!1}ngOnInit(){}login(){""!=this.email?""!=this.password?(this.isAdmin="iddembele206@gmail.com"==this.email,this.auth.login(this.email,this.password,this.isAdmin),this.email="",this.password=""):alert("Please enter password"):alert("Please enter email")}signInWithGoogle(){this.auth.googleSignIn()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_l))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-connecter"]],decls:21,vars:2,consts:[[1,"containter"],[1,"row","d-flex","content","justify-content-center","align-items-center","shadow-lg"],[1,"col-md-5"],[1,"box","img","shadow","bg-white","p-4"],[1,"md-4","text-center","fs-1"],[1,"mb-3"],[1,"form-floating","mb-3"],["type","email","name","email","required","","id","floatingInput","placeholder","name@gmail.com",1,"form-control","rounded-0",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","password","name","password","required","","id","floatingPassword","placeholder","name@gmail.com",1,"form-control","rounded-0",3,"ngModel","ngModelChange"],["for","floatingPassword"],[1,"d-grid","gap-2","mb-3"],["type","button",1,"btn","color","btn-lg","border-0","rounded-0",3,"click"],[1,"forgot-password-link","mb-3","text-end"],["href","mot-passe-oublie",1,"text-decoration-none"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),l._uU(5," Connexion "),l.qZA(),l.TgZ(6,"form",5)(7,"div",6)(8,"input",7),l.NdJ("ngModelChange",function(u){return r.email=u}),l.qZA(),l.TgZ(9,"label",8),l._uU(10,"Email"),l.qZA()(),l.TgZ(11,"div",6)(12,"input",9),l.NdJ("ngModelChange",function(u){return r.password=u}),l.qZA(),l.TgZ(13,"label",10),l._uU(14,"Mot de Passe"),l.qZA()(),l.TgZ(15,"div",11)(16,"button",12),l.NdJ("click",function(){return r.login()}),l._uU(17," Connecter "),l.qZA()(),l.TgZ(18,"div",13)(19,"a",14),l._uU(20," Mot de Passe Oubli\xe9? "),l.qZA()()()()()()()),2&t&&(l.xp6(8),l.Q6J("ngModel",r.email),l.xp6(4),l.Q6J("ngModel",r.password))},dependencies:[$h,vl,Uh,Bh,tb,ed,jh],styles:[".form-container[_ngcontent-%COMP%]{display:block;max-width:70em;margin:auto;background-color:#e7f7fc;padding:5em;border-radius:10px}.color[_ngcontent-%COMP%]{background-image:linear-gradient(to right top,#d16ba5,#c777b9,#ba83ca,#aa8fd8,#9a9ae1,#8aa7ec,#79b3f4,#69bff8,#52cffe,#41dfff,#46eefa,#5ffbf1)}.color[_ngcontent-%COMP%]:hover{color:#fff;background-image:radial-gradient(circle,#320537,#373a74,#166eab,#00a4d3,#12daeb)}.content[_ngcontent-%COMP%]{height:50vw;background-image:url(e-learning.84569c5fb466bd62.png);background-repeat:no-repeat;background-size:cover;opacity:1}"]}),n})(),YL=(()=>{class n{constructor(t,r){this.afs=t,this.fireStorage=r}addStudent(t){return t.id=this.afs.createId(),this.afs.collection("/ProfListe").add(t)}getAllStudents(){return this.afs.collection("/ProfListe").snapshotChanges()}deleteStudent(t){this.afs.doc("/ProfListe/"+t.id).delete()}updateStudent(t){this.deleteStudent(t),this.addStudent(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gy),l.LFG(Pp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td")(14,"button",50),l.NdJ("click",function(){const u=l.CHM(t).$implicit,d=l.oxw();return l.KtG(d.editEmployee(u))}),l._UZ(15,"i",51),l.qZA(),l.TgZ(16,"button",52),l.NdJ("click",function(){const u=l.CHM(t).$implicit,d=l.oxw();return l.KtG(d.deleteStudent(u))}),l._UZ(17,"i",53),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.first_name),l.xp6(2),l.Oqu(t.last_name),l.xp6(2),l.Oqu(t.grade),l.xp6(2),l.Oqu(t.specialite),l.xp6(2),l.Oqu(t.tel),l.xp6(2),l.Oqu(t.email)}}let JL=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.auth=r,this.data=i,this.studentsList=[],this.studentObj={id:"",first_name:"",last_name:"",grade:"",specialite:"",email:"",tel:""},this.id="",this.first_name="",this.last_name="",this.grade="",this.specialite="",this.email="",this.tel=""}ngOnInit(){this.getAllStudents(),this.etudDetail=this.formBuilder.group({id:[""],first_name:[""],last_name:[""],grade:[""],specialite:[""],email:[""],tel:[""]})}editEmployee(t){this.etudDetail.controls.id.setValue(t.id),this.etudDetail.controls.first_name.setValue(t.first_name),this.etudDetail.controls.last_name.setValue(t.last_name),this.etudDetail.controls.grade.setValue(t.grade),this.etudDetail.controls.specialite.setValue(t.specialite),this.etudDetail.controls.email.setValue(t.email),this.etudDetail.controls.tel.setValue(t.tel)}getAllStudents(){this.data.getAllStudents().subscribe(t=>{this.studentsList=t.map(r=>{const i=r.payload.doc.data();return i.id=r.payload.doc.id,i})},t=>{alert("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es des \xe9tudiants")})}resetForm(){this.id="",this.first_name="",this.last_name="",this.grade="",this.specialite="",this.email="",this.tel=""}addStudent(){""!=this.first_name&&""!=this.last_name?(this.studentObj.id="",this.studentObj.email=this.email,this.studentObj.first_name=this.first_name,this.studentObj.last_name=this.last_name,this.studentObj.specialite=this.specialite,this.studentObj.grade=this.grade,this.studentObj.tel=this.tel,this.data.addStudent(this.studentObj),this.resetForm()):alert("Remplir tous les champs de saisie")}updateStudent(){this.studentObj.id=this.etudDetail.value.id,this.studentObj.first_name=this.etudDetail.value.first_name,this.studentObj.last_name=this.etudDetail.value.last_name,this.studentObj.grade=this.etudDetail.value.grade,this.studentObj.specialite=this.etudDetail.value.specialite,this.studentObj.email=this.etudDetail.value.email,this.studentObj.tel=this.etudDetail.value.tel,this.data.updateStudent(this.studentObj)}deleteStudent(t){window.confirm("\xcates vous sur de supprimer "+t.first_name+" "+t.last_name+" ?")&&this.data.deleteStudent(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(BI),l.Y36(_l),l.Y36(YL))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-enseignant"]],decls:115,vars:8,consts:[[1,"container-fluid"],[1,"position-relative","mb-5"],[1,"position-absolute","top-0","end-0"],["type","button","data-bs-toggle","modal","data-bs-target","#AddEtudiant",1,"btn","btn-outline-primary","me-2"],[1,"bi","bi-plus-square"],["id","AddEtudiant","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"card","border-0","shadow","p-3"],[1,"form-floating","mb-3"],["type","text","id","firstName","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["for","firstname"],["type","text","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["value","Monsieur/Madame"],["value","Docteur"],["value","Professeur"],["type","text","id","specialiste","name","specialite",1,"form-control",3,"ngModel","ngModelChange"],["for","specialiste"],["type","text","id","tel","name","tel",1,"form-control",3,"ngModel","ngModelChange"],["for","tel"],["type","email","id","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-success",3,"click"],[1,"row"],[1,"col","mt-2"],[1,"text-danger"],[1,"card","p-3","shadow"],[1,"card-body"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["id","editEmployee","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[3,"formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","text","formControlName","first_name","id","first_name","aria-describedby","emailHelp",1,"form-control"],["type","text","formControlName","last_name","id","last_name","aria-describedby","emailHelp",1,"form-control"],["value",""],["formControlName","grade","aria-label","Default select example",1,"form-select"],["type","text","formControlName","specialite","id","Devoir","aria-describedby","emailHelp",1,"form-control"],["type","text","formControlName","tel","id","tel","aria-describedby","emailHelp",1,"form-control"],["type","email","formControlName","email","id","email","aria-describedby","emailHelp",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-toggle","modal","data-bs-target","#editEmployee",1,"btn","btn-outline-primary","me-2",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-trash"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),l._UZ(4,"i",4),l._uU(5," \xa0 Ajouter Enseignant"),l.qZA()()(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"h5",9),l._uU(11,"Ajouter Enseignant "),l.qZA(),l._UZ(12,"button",10),l.qZA(),l.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"input",14),l.NdJ("ngModelChange",function(u){return r.first_name=u}),l.qZA(),l.TgZ(17,"label",15),l._uU(18,"Prenom"),l.qZA()(),l.TgZ(19,"div",13)(20,"input",16),l.NdJ("ngModelChange",function(u){return r.last_name=u}),l.qZA(),l.TgZ(21,"label",17),l._uU(22,"Nom"),l.qZA()(),l.TgZ(23,"div",13)(24,"label"),l._uU(25,"Selectionner la Grade"),l.qZA(),l.TgZ(26,"select",18),l.NdJ("ngModelChange",function(u){return r.grade=u}),l.TgZ(27,"option",19),l._uU(28,"Monsieur/Madame"),l.qZA(),l.TgZ(29,"option",20),l._uU(30,"Docteur"),l.qZA(),l.TgZ(31,"option",21),l._uU(32,"Professeur"),l.qZA()()(),l.TgZ(33,"div",13)(34,"input",22),l.NdJ("ngModelChange",function(u){return r.specialite=u}),l.qZA(),l.TgZ(35,"label",23),l._uU(36,"Sp\xe9cialit\xe9"),l.qZA()(),l.TgZ(37,"div",13)(38,"input",24),l.NdJ("ngModelChange",function(u){return r.tel=u}),l.qZA(),l.TgZ(39,"label",25),l._uU(40," Tel "),l.qZA()(),l.TgZ(41,"div",13)(42,"input",26),l.NdJ("ngModelChange",function(u){return r.email=u}),l.qZA(),l.TgZ(43,"label",27),l._uU(44,"Email"),l.qZA()(),l.TgZ(45,"button",28),l.NdJ("click",function(){return r.addStudent()}),l._uU(46,"Enregistrer"),l.qZA()()()()()(),l.TgZ(47,"div",29)(48,"div",30)(49,"h5",31),l._uU(50," Liste des Enseignants "),l.qZA(),l.TgZ(51,"div",32)(52,"div",33)(53,"table",34)(54,"thead")(55,"tr")(56,"th",35),l._uU(57,"Prenom"),l.qZA(),l.TgZ(58,"th",35),l._uU(59,"Nom"),l.qZA(),l.TgZ(60,"th",35),l._uU(61,"Grade"),l.qZA(),l.TgZ(62,"th",35),l._uU(63,"Specialiste"),l.qZA(),l.TgZ(64,"th",35),l._uU(65,"Telephone"),l.qZA(),l.TgZ(66,"th",35),l._uU(67,"Email"),l.qZA(),l.TgZ(68,"th",35),l._uU(69,"Action"),l.qZA()()(),l.TgZ(70,"tbody"),l.YNc(71,QL,18,6,"tr",36),l.qZA()()()()()(),l.TgZ(72,"div",37)(73,"div",6)(74,"div",7)(75,"div",8)(76,"h5",9),l._uU(77,"Modifier Les informations de L'Enseignant "),l.qZA(),l._UZ(78,"button",10),l.qZA(),l.TgZ(79,"div",11)(80,"form",38)(81,"div",39)(82,"label",40),l._uU(83,"Prenom "),l.qZA(),l._UZ(84,"input",41),l.qZA(),l.TgZ(85,"div",39)(86,"label",40),l._uU(87,"Nom "),l.qZA(),l._UZ(88,"input",42),l.qZA(),l.TgZ(89,"div",13)(90,"option",43),l._uU(91,"Selectionner la Grade"),l.qZA(),l.TgZ(92,"select",44)(93,"option",19),l._uU(94,"Monsieur/Madame"),l.qZA(),l.TgZ(95,"option",20),l._uU(96,"Docteur"),l.qZA(),l.TgZ(97,"option",21),l._uU(98,"Professeur"),l.qZA()()(),l.TgZ(99,"div",39)(100,"label",40),l._uU(101," Specialite "),l.qZA(),l._UZ(102,"input",45),l.qZA(),l.TgZ(103,"div",39),l._UZ(104,"label",40)(105,"input",46),l.qZA(),l.TgZ(106,"div",39)(107,"label",40),l._uU(108,"Email"),l.qZA(),l._UZ(109,"input",47),l.qZA(),l.TgZ(110,"div",48)(111,"button",49),l._uU(112,"Close"),l.qZA(),l.TgZ(113,"button",28),l.NdJ("click",function(){return r.updateStudent()}),l._uU(114,"Mettre \xe0 jour "),l.qZA()()()()()()()()),2&t&&(l.xp6(16),l.Q6J("ngModel",r.first_name),l.xp6(4),l.Q6J("ngModel",r.last_name),l.xp6(6),l.Q6J("ngModel",r.grade),l.xp6(8),l.Q6J("ngModel",r.specialite),l.xp6(4),l.Q6J("ngModel",r.tel),l.xp6(4),l.Q6J("ngModel",r.email),l.xp6(29),l.Q6J("ngForOf",r.studentsList),l.xp6(9),l.Q6J("formGroup",r.etudDetail))},dependencies:[Fr,$h,X0,eb,vl,Lp,Uh,Bh,ed,by,J0]}),n})(),XL=(()=>{class n{constructor(t){this.auth=t,this.email=""}ngOnInit(){}forgotPassword(){this.auth.forgotPassword(this.email),this.email=""}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_l))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-forgot-passe-word"]],decls:23,vars:1,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["href","connexion",2,"text-decoration","none"],[1,"text-danger"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"div",2),l.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),l._uU(9,"Verfication Email"),l.qZA()(),l.TgZ(10,"div",6)(11,"label",8),l._uU(12,"Email"),l.qZA(),l.TgZ(13,"input",9),l.NdJ("ngModelChange",function(u){return r.email=u}),l.qZA()(),l.TgZ(14,"button",10),l.NdJ("click",function(){return r.forgotPassword()}),l._uU(15,"Envoyer le lien"),l.qZA(),l.TgZ(16,"div",11)(17,"div",12)(18,"a",13),l._uU(19,"Retour "),l.TgZ(20,"span",14),l._uU(21,"connexion"),l.qZA()()()()()()()(),l._UZ(22,"div",2),l.qZA()()),2&t&&(l.xp6(13),l.Q6J("ngModel",r.email))},dependencies:[$h,vl,Uh,Bh,ed,jh]}),n})(),lu=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}canActivate(t,r){return!!this.auth.isAuth||(this.router.navigate([""]),!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_l),l.LFG(Wr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function e2(n,e){1&n&&(l.TgZ(0,"th",51),l._uU(1,"Action"),l.qZA())}function t2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td"),l._uU(14),l.qZA(),l.TgZ(15,"td"),l._uU(16),l.qZA(),l.TgZ(17,"td"),l._uU(18),l.qZA(),l.TgZ(19,"td")(20,"button",69),l.NdJ("click",function(){const u=l.CHM(t).$implicit,d=l.oxw();return l.KtG(d.editEmployee(u))}),l._UZ(21,"i",70),l.qZA()(),l.TgZ(22,"td")(23,"button",71),l.NdJ("click",function(){const u=l.CHM(t).$implicit,d=l.oxw();return l.KtG(d.deleteStudent(u))}),l._UZ(24,"i",72),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.first_name),l.xp6(2),l.Oqu(t.last_name),l.xp6(2),l.Oqu(t.filiere),l.xp6(2),l.Oqu(t.classe),l.xp6(2),l.Oqu(t.matiere),l.xp6(2),l.Oqu(t.Examen),l.xp6(2),l.Oqu(t.Devoir),l.xp6(2),l.Oqu(t.tel),l.xp6(2),l.Oqu(t.email)}}let n2=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.auth=r,this.data=i,this.studentsList=[],this.studentObj={id:"",first_name:"",last_name:"",filiere:"",classe:"",matiere:"",email:"",tel:"",Devoir:0,Examen:0},this.id="",this.first_name="",this.last_name="",this.filiere="",this.classe="",this.matiere="",this.email="",this.Devoir=0,this.Examen=0,this.tel=""}ngOnInit(){this.getAllStudents(),this.etudDetail=this.formBuilder.group({id:[""],first_name:[""],last_name:[""],filiere:[""],classe:[""],matiere:[""],email:[""],tel:[""],Devoir:0,Examen:0})}editEmployee(t){this.etudDetail.controls.id.setValue(t.id),this.etudDetail.controls.first_name.setValue(t.first_name),this.etudDetail.controls.last_name.setValue(t.last_name),this.etudDetail.controls.filiere.setValue(t.filiere),this.etudDetail.controls.classe.setValue(t.classe),this.etudDetail.controls.matiere.setValue(t.matiere),this.etudDetail.controls.email.setValue(t.email),this.etudDetail.controls.Devoir.setValue(t.Devoir),this.etudDetail.controls.Examen.setValue(t.Examen),this.etudDetail.controls.tel.setValue(t.tel)}getAllStudents(){this.data.getAllStudents().subscribe(t=>{this.studentsList=t.map(r=>{const i=r.payload.doc.data();return i.id=r.payload.doc.id,i})},t=>{alert("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es des \xe9tudiants")})}resetForm(){this.id="",this.first_name="",this.last_name="",this.filiere="",this.classe="",this.matiere="",this.email="",this.Devoir=0,this.Examen=0,this.tel=""}addStudent(){""!=this.first_name&&""!=this.last_name&&""!=this.matiere&&""!=this.email?(this.studentObj.id="",this.studentObj.email=this.email,this.studentObj.first_name=this.first_name,this.studentObj.last_name=this.last_name,this.studentObj.filiere=this.filiere,this.studentObj.classe=this.classe,this.studentObj.matiere=this.matiere,this.studentObj.Devoir=this.Devoir,this.studentObj.Examen=this.Examen,this.studentObj.tel=this.tel,this.data.addStudent(this.studentObj),this.resetForm()):alert("Remplir tous les champs de saisie")}updateStudent(){this.studentObj.id=this.etudDetail.value.id,this.studentObj.first_name=this.etudDetail.value.first_name,this.studentObj.last_name=this.etudDetail.value.last_name,this.studentObj.filiere=this.etudDetail.value.filiere,this.studentObj.classe=this.etudDetail.value.classe,this.studentObj.matiere=this.etudDetail.value.matiere,this.studentObj.email=this.etudDetail.value.email,this.studentObj.Devoir=this.etudDetail.value.Devoir,this.studentObj.Examen=this.etudDetail.value.Examen,this.studentObj.tel=this.etudDetail.value.tel,this.data.updateStudent(this.studentObj)}deleteStudent(t){window.confirm("Are you sure you want to delete "+t.first_name+" "+t.last_name+" ?")&&this.data.deleteStudent(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(BI),l.Y36(_l),l.Y36(YM))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-noter-etudiant"]],decls:182,vars:12,consts:[[1,"container-fluid"],[1,"position-relative","mb-5"],[1,"position-absolute","top-0","end-0"],["type","button","data-bs-toggle","modal","data-bs-target","#AddEtudiant",1,"btn","btn-outline-primary","me-2"],[1,"bi","bi-plus-square"],["id","AddEtudiant","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"card","border-0","shadow","p-3"],[1,"form-floating","mb-3"],["type","text","id","firstName","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["for","firstname"],["type","text","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["value",""],["label","Selectionner la Fili\xe8re","aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["selected",""],["value","GME"],["value","GEEA"],["value","GEOLOGIE"],["value","GENIE CIVIL"],["value","TOPOLOGIE"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["value","DUT"],["value","TECHNICIEN SUPERIEUR"],["value","LICENCE 1"],["value","LICENCE 2"],["value","LICENCE 3"],["value","MASTER 1"],["value","MASTER 2"],["type","text","id","matiere","name","matiere",1,"form-control",3,"ngModel","ngModelChange"],["for","matiere"],["type","number","id","examen","name","Devoir",1,"form-control",3,"ngModel","ngModelChange"],["for","devoir"],["type","number","id","examen","name","Examen",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","tel","name","tel",1,"form-control",3,"ngModel","ngModelChange"],["for","tel"],["type","email","id","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-success",3,"click"],[1,"row","mt-5"],[1,"col","mt-2"],[1,"card-header"],[1,"text-secondary"],[1,"card","p-3","shadow"],[1,"card-body"],[1,"table","table-hover"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["id","editEmployee","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[3,"formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","text","formControlName","first_name","id","first_name","aria-describedby","emailHelp",1,"form-control"],["type","text","formControlName","last_name","id","last_name","aria-describedby","emailHelp",1,"form-control"],["formControlName","filiere","aria-label","Default select example",1,"form-select"],["value","GIT"],["formControlName","classe","aria-label","Default select example",1,"form-select"],["type","number","formControlName","Devoir","id","devoir","aria-describedby","emailHelp",1,"form-control"],["type","number","formControlName","Examen","id","examen","aria-describedby","emailHelp",1,"form-control"],["type","text","formControlName","tel","id","tel","aria-describedby","emailHelp",1,"form-control"],["type","email","formControlName","email","id","email","aria-describedby","emailHelp",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-toggle","modal","data-bs-target","#editEmployee",1,"btn","btn-outline-primary","me-2",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-trash"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),l._UZ(4,"i",4),l._uU(5," \xa0 Ajouter Note \xe0 L'Etudiant"),l.qZA()()(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"h5",9),l._uU(11,"Ajouter Notes \xe0 L'etudiant "),l.qZA(),l._UZ(12,"button",10),l.qZA(),l.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"input",14),l.NdJ("ngModelChange",function(u){return r.first_name=u}),l.qZA(),l.TgZ(17,"label",15),l._uU(18,"Prenom"),l.qZA()(),l.TgZ(19,"div",13)(20,"input",16),l.NdJ("ngModelChange",function(u){return r.last_name=u}),l.qZA(),l.TgZ(21,"label",17),l._uU(22,"Nom"),l.qZA()(),l.TgZ(23,"div",13)(24,"option",18),l._uU(25," Selectionner la filiere"),l.qZA(),l.TgZ(26,"select",19),l.NdJ("ngModelChange",function(u){return r.filiere=u}),l.TgZ(27,"option",20),l._uU(28,"GIT"),l.qZA(),l.TgZ(29,"option",21),l._uU(30,"GME"),l.qZA(),l.TgZ(31,"option",22),l._uU(32,"GEEA"),l.qZA(),l.TgZ(33,"option",23),l._uU(34,"GEOLOGIE"),l.qZA(),l.TgZ(35,"option",24),l._uU(36,"GENIE CIVIL"),l.qZA(),l.TgZ(37,"option",25),l._uU(38,"TOPOLOGIE"),l.qZA()()(),l.TgZ(39,"div",13)(40,"option",18),l._uU(41,"Selectionner la Classe"),l.qZA(),l.TgZ(42,"select",26),l.NdJ("ngModelChange",function(u){return r.classe=u}),l.TgZ(43,"option",27),l._uU(44,"DUT"),l.qZA(),l.TgZ(45,"option",28),l._uU(46,"TECHNICIEN SUPERIEUR"),l.qZA(),l.TgZ(47,"option",29),l._uU(48,"LICENCE 1"),l.qZA(),l.TgZ(49,"option",30),l._uU(50,"LICENCE 2"),l.qZA(),l.TgZ(51,"option",31),l._uU(52,"LICENCE 3"),l.qZA(),l.TgZ(53,"option",32),l._uU(54,"MASTER 1"),l.qZA(),l.TgZ(55,"option",33),l._uU(56,"MASTER 2"),l.qZA()()(),l.TgZ(57,"div",13)(58,"input",34),l.NdJ("ngModelChange",function(u){return r.matiere=u}),l.qZA(),l.TgZ(59,"label",35),l._uU(60," Matiere "),l.qZA()(),l.TgZ(61,"div",13)(62,"input",36),l.NdJ("ngModelChange",function(u){return r.Devoir=u}),l.qZA(),l.TgZ(63,"label",37),l._uU(64," Note Devoir "),l.qZA()(),l.TgZ(65,"div",13)(66,"input",38),l.NdJ("ngModelChange",function(u){return r.Examen=u}),l.qZA(),l.TgZ(67,"label",37),l._uU(68," Note Examen "),l.qZA()(),l.TgZ(69,"div",13)(70,"input",39),l.NdJ("ngModelChange",function(u){return r.tel=u}),l.qZA(),l.TgZ(71,"label",40),l._uU(72," Tel "),l.qZA()(),l.TgZ(73,"div",13)(74,"input",41),l.NdJ("ngModelChange",function(u){return r.email=u}),l.qZA(),l.TgZ(75,"label",42),l._uU(76,"Email"),l.qZA()(),l.TgZ(77,"button",43),l.NdJ("click",function(){return r.addStudent()}),l._uU(78,"Enregistrer"),l.qZA()()()()()(),l.TgZ(79,"div",44)(80,"div",45)(81,"div",46)(82,"h5",47),l._uU(83," Liste Etudiant"),l.qZA()(),l.TgZ(84,"div",48)(85,"div",49)(86,"table",50)(87,"thead")(88,"tr")(89,"th",51),l._uU(90,"Prenom"),l.qZA(),l.TgZ(91,"th",51),l._uU(92,"Nom"),l.qZA(),l.TgZ(93,"th",51),l._uU(94,"Filiere"),l.qZA(),l.TgZ(95,"th",51),l._uU(96,"Classe"),l.qZA(),l.TgZ(97,"th",51),l._uU(98,"Mtiere"),l.qZA(),l.TgZ(99,"th",51),l._uU(100,"Note Devoir"),l.qZA(),l.TgZ(101,"th",51),l._uU(102,"Note Examen"),l.qZA(),l.TgZ(103,"th",51),l._uU(104,"Telephone"),l.qZA(),l.TgZ(105,"th",51),l._uU(106,"Email"),l.qZA(),l.YNc(107,e2,2,0,"th",52),l.qZA()(),l.TgZ(108,"tbody"),l.YNc(109,t2,25,9,"tr",53),l.qZA()()()()()(),l.TgZ(110,"div",54)(111,"div",6)(112,"div",7)(113,"div",8)(114,"h5",9),l._uU(115,"Modifier Les Notes de L'etudiant "),l.qZA(),l._UZ(116,"button",10),l.qZA(),l.TgZ(117,"div",11)(118,"form",55)(119,"div",56)(120,"label",57),l._uU(121," Prenom "),l.qZA(),l._UZ(122,"input",58),l.qZA(),l.TgZ(123,"div",56)(124,"label",57),l._uU(125,"Nom "),l.qZA(),l._UZ(126,"input",59),l.qZA(),l.TgZ(127,"div",13)(128,"select",60)(129,"option",20),l._uU(130,"Selection La Filiere "),l.qZA(),l.TgZ(131,"option",61),l._uU(132,"GIT"),l.qZA(),l.TgZ(133,"option",21),l._uU(134,"GME"),l.qZA(),l.TgZ(135,"option",22),l._uU(136,"GEEA"),l.qZA(),l.TgZ(137,"option",23),l._uU(138,"GEOLOGIE"),l.qZA(),l.TgZ(139,"option",24),l._uU(140,"GENIE CIVIL"),l.qZA(),l.TgZ(141,"option",25),l._uU(142,"TOPOLOGIE"),l.qZA()()(),l.TgZ(143,"div",13)(144,"select",62)(145,"option",20),l._uU(146,"Selection La Classe "),l.qZA(),l.TgZ(147,"option",27),l._uU(148,"DUT"),l.qZA(),l.TgZ(149,"option",28),l._uU(150,"TECHNICIEN SUPERIEUR"),l.qZA(),l.TgZ(151,"option",29),l._uU(152,"LICENCE 1"),l.qZA(),l.TgZ(153,"option",30),l._uU(154,"LICENCE 2"),l.qZA(),l.TgZ(155,"option",31),l._uU(156,"LICENCE 3"),l.qZA(),l.TgZ(157,"option",32),l._uU(158,"MASTER 1"),l.qZA(),l.TgZ(159,"option",33),l._uU(160,"MASTER 2"),l.qZA()()(),l.TgZ(161,"div",56)(162,"label",57),l._uU(163,"Note Devoir "),l.qZA(),l._UZ(164,"input",63),l.qZA(),l.TgZ(165,"div",56)(166,"label",57),l._uU(167,"Tel "),l.qZA(),l._UZ(168,"input",64),l.qZA(),l.TgZ(169,"div",56)(170,"label",57),l._uU(171,"Tel "),l.qZA(),l._UZ(172,"input",65),l.qZA(),l.TgZ(173,"div",56)(174,"label",57),l._uU(175,"Email "),l.qZA(),l._UZ(176,"input",66),l.qZA(),l.TgZ(177,"div",67)(178,"button",68),l._uU(179,"Fermer"),l.qZA(),l.TgZ(180,"button",43),l.NdJ("click",function(){return r.updateStudent()}),l._uU(181,"Mettre \xe0 jour "),l.qZA()()()()()()()()),2&t&&(l.xp6(16),l.Q6J("ngModel",r.first_name),l.xp6(4),l.Q6J("ngModel",r.last_name),l.xp6(6),l.Q6J("ngModel",r.filiere),l.xp6(16),l.Q6J("ngModel",r.classe),l.xp6(16),l.Q6J("ngModel",r.matiere),l.xp6(4),l.Q6J("ngModel",r.Devoir),l.xp6(4),l.Q6J("ngModel",r.Examen),l.xp6(4),l.Q6J("ngModel",r.tel),l.xp6(4),l.Q6J("ngModel",r.email),l.xp6(33),l.Q6J("ngIf",!r.auth.isAdmin),l.xp6(2),l.Q6J("ngForOf",r.studentsList),l.xp6(9),l.Q6J("formGroup",r.etudDetail))},dependencies:[Fr,Wn,$h,X0,eb,vl,WS,Lp,Uh,Bh,ed,by,J0]}),n})(),r2=(()=>{class n{constructor(t){this.auth=t,this.email="",this.password=""}ngOnInit(){}register(){""!=this.email?""!=this.password?(this.auth.register(this.email,this.password),this.email="",this.password=""):alert("Please enter password"):alert("Please enter email")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_l))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registre"]],decls:21,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"div",2),l.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),l._uU(9,"Creer Compte Professeur"),l.qZA()(),l.TgZ(10,"div",6)(11,"label",8),l._uU(12,"Email"),l.qZA(),l.TgZ(13,"input",9),l.NdJ("ngModelChange",function(u){return r.email=u}),l.qZA()(),l.TgZ(14,"div",6)(15,"label",10),l._uU(16,"Mot de Passe"),l.qZA(),l.TgZ(17,"input",11),l.NdJ("ngModelChange",function(u){return r.password=u}),l.qZA()(),l.TgZ(18,"button",12),l.NdJ("click",function(){return r.register()}),l._uU(19,"Enregistrer"),l.qZA()()()()(),l._UZ(20,"div",2),l.qZA()()),2&t&&(l.xp6(13),l.Q6J("ngModel",r.email),l.xp6(4),l.Q6J("ngModel",r.password))},dependencies:[$h,vl,Uh,Bh,ed,jh]}),n})(),o2=(()=>{class n{constructor(t,r){this.afs=t,this.fireStorage=r}getAllStudents(){return this.afs.collection("/MessageStudent").snapshotChanges()}deleteStudent(t){this.afs.doc("/MessageStudent/"+t.id).delete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gy),l.LFG(Pp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function s2(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.ALo(2,"uppercase"),l._UZ(3,"br"),l._uU(4),l.ALo(5,"uppercase"),l._UZ(6,"br"),l._uU(7),l._UZ(8,"br"),l._uU(9),l._UZ(10,"br"),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.AsE(" Envoyre Par: ",l.lcZ(2,5,t.nom)," \xa0 ",t.prenom," "),l.xp6(3),l.hij(" N\xb0MATRICULE: ",l.lcZ(5,7,t.matricule)," "),l.xp6(3),l.hij(" CLASSE: ",t.classe," "),l.xp6(2),l.hij(" FILIERE: ",t.filiere," ")}}function a2(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"h5",8),l._uU(2),l.qZA(),l.TgZ(3,"p",9),l._uU(4),l.qZA()()),2&n){const t=l.oxw().$implicit;l.xp6(2),l.hij(" ",t.titre," "),l.xp6(2),l.Oqu(t.contenue)}}function u2(n,e){if(1&n&&(l.TgZ(0,"div",10),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" Envoyez le : ",t.dateEnvoi," ")}}function l2(n,e){if(1&n&&(l.TgZ(0,"td",1)(1,"div",2),l.YNc(2,s2,11,9,"div",3),l.YNc(3,a2,5,2,"div",4),l.YNc(4,u2,2,1,"div",5),l.qZA()()),2&n){const t=e.$implicit,r=l.oxw();l.xp6(2),l.Q6J("ngIf",r.auth.controlEmail==t.email),l.xp6(1),l.Q6J("ngIf",r.auth.controlEmail==t.email),l.xp6(1),l.Q6J("ngIf",r.auth.controlEmail==t.email)}}const c2=[{path:"",component:nR},{path:"Accueil",component:UD,canActivate:[lu]},{path:"ajouteInfo",component:KL,canActivate:[lu]},{path:"ajoutcours",component:ZF,canActivate:[lu]},{path:"Enseignant",component:JL,canActivate:[lu]},{path:"NoterEtudiant",component:n2,canActivate:[lu]},{path:"connexion",component:nR,canActivate:[lu]},{path:"Message",component:(()=>{class n{constructor(t,r){this.data=t,this.auth=r,this.MessageList=[]}ngOnInit(){this.getAllStudents()}getAllStudents(){this.data.getAllStudents().subscribe(t=>{this.MessageList=t.map(r=>{const i=r.payload.doc.data();return i.id=r.payload.doc.id,i})},t=>{alert("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es des \xe9tudiants")})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(o2),l.Y36(_l))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-show-message"]],decls:3,vars:1,consts:[["class","shadow rounded m-2",4,"ngFor","ngForOf"],[1,"shadow","rounded","m-2"],[1,"card"],["class","card-header text-center",4,"ngIf"],["class","card-body",4,"ngIf"],["class","card-footer text-muted",4,"ngIf"],[1,"card-header","text-center"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer","text-muted"]],template:function(t,r){1&t&&(l.TgZ(0,"table")(1,"tr"),l.YNc(2,l2,5,3,"td",0),l.qZA()()),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.MessageList))},dependencies:[Fr,Wn,Wh]}),n})(),canActivate:[lu]},{path:"ajoutedutiant",component:qL,canActivate:[lu]},{path:"reuinion",component:Zb,canActivate:[lu]},{path:"registre",component:r2,canActivate:[lu]},{path:"mot-passe-oublie",component:XL},{path:"verify-Email",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-verify-email"]],decls:14,vars:0,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-danger","text-muted"],[1,"text-muted"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"div",2),l.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),l._uU(9,"Bienvenu"),l.qZA()(),l.TgZ(10,"div",6)(11,"p",8),l._uU(12,"Le lien a \xe9t\xe9 envoy\xe9 sur votre e-mail enregistr\xe9. Merci de le modifier."),l.qZA()()()()()(),l._UZ(13,"div",2),l.qZA()())},dependencies:[$h,Bh,jh]}),n})(),canActivate:[lu]}];let d2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Sf.forRoot(c2),Sf]}),n})();function h2(n,e){1&n&&(l.TgZ(0,"a",23),l._uU(1,"Cours"),l.qZA())}function f2(n,e){1&n&&(l.TgZ(0,"a",24),l._uU(1,"Enseignant"),l.qZA())}function p2(n,e){1&n&&(l.TgZ(0,"a",25),l._uU(1,"Information"),l.qZA())}function g2(n,e){1&n&&(l.TgZ(0,"a",26),l._uU(1,"Note Etudiant"),l.qZA())}function m2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"nav",1)(1,"div",2)(2,"a",3),l._uU(3,"ENI-ABT"),l.qZA(),l.TgZ(4,"button",4),l._UZ(5,"span",5),l.qZA(),l.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),l._uU(10,"Accueil"),l.qZA()(),l.TgZ(11,"li",8),l.YNc(12,h2,2,0,"a",10),l.qZA(),l.TgZ(13,"li",8),l.YNc(14,f2,2,0,"a",11),l.qZA(),l.TgZ(15,"li",8)(16,"a",12),l._uU(17,"Etudiant"),l.qZA()(),l.TgZ(18,"li",8),l.YNc(19,p2,2,0,"a",13),l.qZA(),l.TgZ(20,"li",8),l.YNc(21,g2,2,0,"a",14),l.qZA()(),l.TgZ(22,"ul",15)(23,"li",16)(24,"a",17),l._UZ(25,"i",18),l.qZA()()(),l.TgZ(26,"ul",19)(27,"li",20)(28,"a",21),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.logout())}),l._UZ(29,"i",22),l._uU(30,"\xa0\xa0 Deconnecter "),l.qZA()()()()()()}if(2&n){const t=l.oxw();l.xp6(12),l.Q6J("ngIf",!t.auth.isAdmin),l.xp6(2),l.Q6J("ngIf",t.auth.isAdmin),l.xp6(5),l.Q6J("ngIf",!t.auth.isAdmin),l.xp6(2),l.Q6J("ngIf",!t.auth.isAdmin)}}let y2=(()=>{class n{constructor(t){this.auth=t}logout(){this.auth.logout()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_l))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[["class","navbar navbar-expand-lg shadow p-3 mb-5 rounded bg-primary1",4,"ngIf"],[1,"navbar","navbar-expand-lg","shadow","p-3","mb-5","rounded","bg-primary1"],[1,"container-fluid"],["href","#",1,"navbar-brand","link-light"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/Accueil",1,"nav-link","link-light","a"],["class","nav-link link-light a","routerLink","/ajoutcours",4,"ngIf"],["class","nav-link link-light a","routerLink","/Enseignant",4,"ngIf"],["routerLink","/ajoutedutiant",1,"nav-link","link-light","a"],["class","nav-link link-light a","routerLink","/ajouteInfo",4,"ngIf"],["class","nav-link link-light a","routerLink","/NoterEtudiant",4,"ngIf"],[1,"navbar-nav","ml-auto","mr-1"],[1,"nav-item","message"],["role","button","routerLink","/Message",1,"btn","nav-link"],[1,"bi","bi-envelope"],[1,"navbar-nav","ml-auto"],[1,"nav-item","pointer","deconnecter"],["role","button","href","connexion",1,"btn","nav-link","link-light",3,"click"],["routerLink","connexion",1,"bi","bi-box-arrow-in-left"],["routerLink","/ajoutcours",1,"nav-link","link-light","a"],["routerLink","/Enseignant",1,"nav-link","link-light","a"],["routerLink","/ajouteInfo",1,"nav-link","link-light","a"],["routerLink","/NoterEtudiant",1,"nav-link","link-light","a"]],template:function(t,r){1&t&&(l.YNc(0,m2,31,4,"nav",0),l._UZ(1,"router-outlet")),2&t&&l.Q6J("ngIf",r.auth.isAuth)},dependencies:[Wn,cs,Af,Od],styles:["h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.bg-primary1[_ngcontent-%COMP%]{background-color:#00008b;box-shadow:4px 4px 10px #222 inset,3px 3px 5px #c4c4c4}.bg-primary1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.a[_ngcontent-%COMP%]{color:#fff;background-color:#333;transition:all 1s ease-out}li[_ngcontent-%COMP%]{margin:2px}.a[_ngcontent-%COMP%]:hover, .a[_ngcontent-%COMP%]:focus, .a[_ngcontent-%COMP%]:active{color:#333;background-color:#b2afdc}.message[_ngcontent-%COMP%]{transition:all 1s ease-out;background-color:#f1c00f;border-radius:5px}.message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}.message[_ngcontent-%COMP%]:hover, .message[_ngcontent-%COMP%]:focus{color:#0ff;background-color:#f0fff0}.deconnecter[_ngcontent-%COMP%]{transition:all 1s ease-out;background-color:#322f2e;border-radius:5px}.deconnecter[_ngcontent-%COMP%]:hover, .deconnecter[_ngcontent-%COMP%]:focus{color:#dcdcdc;background-color:#f71313}.deconnecter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover, .deconnecter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#dcdcdc}"]}),n})();function rR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ht(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?rR(Object(t),!0).forEach(function(r){b2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jI(n){return(jI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function iR(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function b2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XS(n,e){return function C2(n){if(Array.isArray(n))return n}(n)||function D2(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var d,p,r=[],i=!0,u=!1;try{for(t=t.call(n);!(i=(d=t.next()).done)&&(r.push(d.value),!e||r.length!==e);i=!0);}catch(v){u=!0,p=v}finally{try{!i&&null!=t.return&&t.return()}finally{if(u)throw p}}return r}}(n,e)||oR(n,e)||function A2(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HI(n){return function E2(n){if(Array.isArray(n))return e1(n)}(n)||function I2(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||oR(n)||function T2(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oR(n,e){if(n){if("string"==typeof n)return e1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return e1(n,e)}}function e1(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var sR=function(){},t1={},aR={},uR=null,lR={mark:sR,measure:sR};try{typeof window<"u"&&(t1=window),typeof document<"u"&&(aR=document),typeof MutationObserver<"u"&&(uR=MutationObserver),typeof performance<"u"&&(lR=performance)}catch{}var cR=(t1.navigator||{}).userAgent,dR=void 0===cR?"":cR,Hh=t1,tr=aR,hR=uR,ZI=lR,td=!!tr.documentElement&&!!tr.head&&"function"==typeof tr.addEventListener&&"function"==typeof tr.createElement,fR=~dR.indexOf("MSIE")||~dR.indexOf("Trident/"),nd="___FONT_AWESOME___",gR="svg-inline--fa",Up="data-fa-i2svg",r1="data-fa-pseudo-element",o1="data-prefix",s1="data-icon",mR="fontawesome-i2svg",k2=["HTML","HEAD","STYLE","SCRIPT"],yR=function(){try{return!0}catch{return!1}}(),a1={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},GI={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},vR={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},R2={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},O2=/fa[srltdbk\-\ ]/,_R="fa-layers-text",N2=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,P2={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},bR=[1,2,3,4,5,6,7,8,9,10],F2=bR.concat([11,12,13,14,15,16,17,18,19,20]),L2=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],V2=[].concat(HI(Object.keys(GI)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(bR.map(function(n){return"".concat(n,"x")})).concat(F2.map(function(n){return"w-".concat(n)})),wR=Hh.FontAwesomeConfig||{};tr&&"function"==typeof tr.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=XS(n,2),r=e[1],i=function B2(n){return""===n||"false"!==n&&("true"===n||n)}(function U2(n){var e=tr.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(wR[r]=i)});var rb=ht(ht({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:gR,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),wR);rb.autoReplaceSvg||(rb.observeMutations=!1);var Ot={};Object.keys(rb).forEach(function(n){Object.defineProperty(Ot,n,{enumerable:!0,set:function(t){rb[n]=t,qI.forEach(function(r){return r(Ot)})},get:function(){return rb[n]}})}),Hh.FontAwesomeConfig=Ot;var qI=[],bl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ib(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function wy(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function u1(n){return n.classList?wy(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function ER(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zI(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function l1(n){return n.size!==bl.size||n.x!==bl.x||n.y!==bl.y||n.rotate!==bl.rotate||n.flipX||n.flipY}function CR(){var n="fa",e=gR,t=Ot.familyPrefix,r=Ot.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||r!==e){var u=new RegExp("\\.".concat(n,"\\-"),"g"),d=new RegExp("\\--".concat(n,"\\-"),"g"),p=new RegExp("\\.".concat(e),"g");i=i.replace(u,".".concat(t,"-")).replace(d,"--".concat(t,"-")).replace(p,".".concat(r))}return i}var IR=!1;function c1(){Ot.autoAddCss&&!IR&&(function Z2(n){if(n&&td){var e=tr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=tr.head.childNodes,r=null,i=t.length-1;i>-1;i--){var u=t[i],d=(u.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(d)>-1&&(r=u)}tr.head.insertBefore(e,r)}}(CR()),IR=!0)}var Y2={mixout:function(){return{dom:{css:CR,insertCss:c1}}},hooks:function(){return{beforeDOMElementCreation:function(){c1()},beforeI2svg:function(){c1()}}}},rd=Hh||{};rd[nd]||(rd[nd]={}),rd[nd].styles||(rd[nd].styles={}),rd[nd].hooks||(rd[nd].hooks={}),rd[nd].shims||(rd[nd].shims=[]);var cu=rd[nd],DR=[],WI=!1;function J2(n){!td||(WI?setTimeout(n,0):DR.push(n))}function ob(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,u=void 0===i?[]:i;return"string"==typeof n?ER(n):"<".concat(e," ").concat(function q2(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(ER(n[t]),'" ')},"").trim()}(r),">").concat(u.map(ob).join(""),"</").concat(e,">")}function TR(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}td&&((WI=(tr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(tr.readyState))||tr.addEventListener("DOMContentLoaded",function n(){tr.removeEventListener("DOMContentLoaded",n),WI=1,DR.map(function(e){return e()})}));var d1=function(e,t,r,i){var v,E,A,u=Object.keys(e),d=u.length,p=void 0!==i?function(e,t){return function(r,i,u,d){return e.call(t,r,i,u,d)}}(t,i):t;for(void 0===r?(v=1,A=e[u[0]]):(v=0,A=r);v<d;v++)A=p(A,e[E=u[v]],E,e);return A};function h1(n){var e=function eV(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var u=n.charCodeAt(t++);56320==(64512&u)?e.push(((1023&i)<<10)+(1023&u)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function AR(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function f1(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,u=AR(e);"function"!=typeof cu.hooks.addPack||i?cu.styles[n]=ht(ht({},cu.styles[n]||{}),u):cu.hooks.addPack(n,AR(e)),"fas"===n&&f1("fa",e)}var sb=cu.styles,nV=cu.shims,rV=Object.values(vR),p1=null,SR={},xR={},MR={},kR={},RR={},iV=Object.keys(a1);function sV(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function oV(n){return~V2.indexOf(n)}(i)?null:i}var OR=function(){var e=function(u){return d1(sb,function(d,p,v){return d[v]=d1(p,u,{}),d},{})};SR=e(function(i,u,d){return u[3]&&(i[u[3]]=d),u[2]&&u[2].filter(function(v){return"number"==typeof v}).forEach(function(v){i[v.toString(16)]=d}),i}),xR=e(function(i,u,d){return i[d]=d,u[2]&&u[2].filter(function(v){return"string"==typeof v}).forEach(function(v){i[v]=d}),i}),RR=e(function(i,u,d){var p=u[2];return i[d]=d,p.forEach(function(v){i[v]=d}),i});var t="far"in sb||Ot.autoFetchSvg,r=d1(nV,function(i,u){var d=u[0],p=u[1],v=u[2];return"far"===p&&!t&&(p="fas"),"string"==typeof d&&(i.names[d]={prefix:p,iconName:v}),"number"==typeof d&&(i.unicodes[d.toString(16)]={prefix:p,iconName:v}),i},{names:{},unicodes:{}});MR=r.names,kR=r.unicodes,p1=KI(Ot.styleDefault)};function g1(n,e){return(SR[n]||{})[e]}function Ey(n,e){return(RR[n]||{})[e]}function NR(n){return MR[n]||{prefix:null,iconName:null}}function Gh(){return p1}function KI(n){return GI[n]||GI[a1[n]]||(n in cu.styles?n:null)||null}function YI(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.skipLookups,r=void 0!==t&&t,i=null,u=n.reduce(function(d,p){var v=sV(Ot.familyPrefix,p);if(sb[p]?(p=rV.includes(p)?R2[p]:p,i=p,d.prefix=p):iV.indexOf(p)>-1?(i=p,d.prefix=KI(p)):v?d.iconName=v:p!==Ot.replacementClass&&d.rest.push(p),!r&&d.prefix&&d.iconName){var E="fa"===i?NR(d.iconName):{},A=Ey(d.prefix,d.iconName);E.prefix&&(i=null),d.iconName=E.iconName||A||d.iconName,d.prefix=E.prefix||d.prefix,"far"===d.prefix&&!sb.far&&sb.fas&&!Ot.autoFetchSvg&&(d.prefix="fas")}return d},{prefix:null,iconName:null,rest:[]});return("fa"===u.prefix||"fa"===i)&&(u.prefix=Gh()||"fas"),u}(function H2(n){qI.push(n)})(function(n){p1=KI(n.styleDefault)}),OR();var lV=function(){function n(){(function v2(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function _2(n,e,t){e&&iR(n.prototype,e),t&&iR(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];var d=i.reduce(this._pullDefinitions,{});Object.keys(d).forEach(function(p){t.definitions[p]=ht(ht({},t.definitions[p]||{}),d[p]),f1(p,d[p]);var v=vR[p];v&&f1(v,d[p]),OR()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(u){var d=i[u],p=d.prefix,v=d.iconName,E=d.icon,A=E[2];t[p]||(t[p]={}),A.length>0&&A.forEach(function(S){"string"==typeof S&&(t[p][S]=E)}),t[p][v]=E}),t}}]),n}(),PR=[],Cy={},Iy={},cV=Object.keys(Iy);function y1(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var u=Cy[n]||[];return u.forEach(function(d){e=d.apply(null,[e].concat(r))}),e}function jp(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=Cy[n]||[];i.forEach(function(u){u.apply(null,t)})}function id(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Iy[n]?Iy[n].apply(null,e):void 0}function v1(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||Gh();if(e)return e=Ey(t,e)||e,TR(FR.definitions,t,e)||TR(cu.styles,t,e)}var FR=new lV,fV={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return td?(jp("beforeI2svg",e),id("pseudoElements2svg",e),id("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Ot.autoReplaceSvg&&(Ot.autoReplaceSvg=!0),Ot.observeMutations=!0,J2(function(){gV({autoReplaceSvgRoot:t}),jp("watch",e)})}},ws={noAuto:function(){Ot.autoReplaceSvg=!1,Ot.observeMutations=!1,jp("noAuto")},config:Ot,dom:fV,parse:{icon:function(e){if(null===e)return null;if("object"===jI(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ey(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=KI(e[0]);return{prefix:r,iconName:Ey(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(Ot.familyPrefix,"-"))>-1||e.match(O2))){var i=YI(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Gh(),iconName:Ey(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var u=Gh();return{prefix:u,iconName:Ey(u,e)||e}}}},library:FR,findIconDefinition:v1,toHtml:ob},gV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,r=void 0===t?tr:t;(Object.keys(cu.styles).length>0||Ot.autoFetchSvg)&&td&&Ot.autoReplaceSvg&&ws.dom.i2svg({node:r})};function QI(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return ob(r)})}}),Object.defineProperty(n,"node",{get:function(){if(td){var r=tr.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function _1(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,u=n.iconName,d=n.transform,p=n.symbol,v=n.title,E=n.maskId,A=n.titleId,S=n.extra,L=n.watchable,q=void 0!==L&&L,ee=r.found?r:t,Pe=ee.width,Le=ee.height,lt="fak"===i,ct=[Ot.replacementClass,u?"".concat(Ot.familyPrefix,"-").concat(u):""].filter(function(wl){return-1===S.classes.indexOf(wl)}).filter(function(wl){return""!==wl||!!wl}).concat(S.classes).join(" "),it={children:[],attributes:ht(ht({},S.attributes),{},{"data-prefix":i,"data-icon":u,class:ct,role:S.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Pe," ").concat(Le)})},st=lt&&!~S.classes.indexOf("fa-fw")?{width:"".concat(Pe/Le*16*.0625,"em")}:{};q&&(it.attributes[Up]=""),v&&(it.children.push({tag:"title",attributes:{id:it.attributes["aria-labelledby"]||"title-".concat(A||ib())},children:[v]}),delete it.attributes.title);var Ct=ht(ht({},it),{},{prefix:i,iconName:u,main:t,mask:r,maskId:E,transform:d,symbol:p,styles:ht(ht({},st),S.styles)}),Ht=r.found&&t.found?id("generateAbstractMask",Ct)||{children:[],attributes:{}}:id("generateAbstractIcon",Ct)||{children:[],attributes:{}},Mi=Ht.attributes;return Ct.children=Ht.children,Ct.attributes=Mi,p?function yV(n){var t=n.iconName,r=n.children,i=n.attributes,u=n.symbol,d=!0===u?"".concat(n.prefix,"-").concat(Ot.familyPrefix,"-").concat(t):u;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ht(ht({},i),{},{id:d}),children:r}]}]}(Ct):function mV(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,u=n.styles,d=n.transform;if(l1(d)&&t.found&&!r.found){var E={x:t.width/t.height/2,y:.5};i.style=zI(ht(ht({},u),{},{"transform-origin":"".concat(E.x+d.x/16,"em ").concat(E.y+d.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(Ct)}function LR(n){var e=n.content,t=n.width,r=n.height,i=n.transform,u=n.title,d=n.extra,p=n.watchable,v=void 0!==p&&p,E=ht(ht(ht({},d.attributes),u?{title:u}:{}),{},{class:d.classes.join(" ")});v&&(E[Up]="");var A=ht({},d.styles);l1(i)&&(A.transform=function W2(n){var e=n.transform,t=n.width,i=n.height,u=void 0===i?16:i,d=n.startCentered,p=void 0!==d&&d,v="";return v+=p&&fR?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-u/2,"em) "):p?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(v+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:t,height:r}),A["-webkit-transform"]=A.transform);var S=zI(A);S.length>0&&(E.style=S);var L=[];return L.push({tag:"span",attributes:E,children:[e]}),u&&L.push({tag:"span",attributes:{class:"sr-only"},children:[u]}),L}function vV(n){var e=n.content,t=n.title,r=n.extra,i=ht(ht(ht({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),u=zI(r.styles);u.length>0&&(i.style=u);var d=[];return d.push({tag:"span",attributes:i,children:[e]}),t&&d.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),d}var b1=cu.styles;function w1(n){var e=n[0],t=n[1],u=XS(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(u)?{tag:"g",attributes:{class:"".concat(Ot.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(Ot.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:u[0]}},{tag:"path",attributes:{class:"".concat(Ot.familyPrefix,"-").concat("primary"),fill:"currentColor",d:u[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:u}}}}var _V={found:!1,width:512,height:512};function E1(n,e){var t=e;return"fa"===e&&null!==Ot.styleDefault&&(e=Gh()),new Promise(function(r,i){if(id("missingIconAbstract"),"fa"===t){var d=NR(n)||{};n=d.iconName||n,e=d.prefix||e}if(n&&e&&b1[e]&&b1[e][n])return r(w1(b1[e][n]));(function bV(n,e){!yR&&!Ot.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(ht(ht({},_V),{},{icon:Ot.showMissingIcons&&n&&id("missingIconAbstract")||{}}))})}var VR=function(){},C1=Ot.measurePerformance&&ZI&&ZI.mark&&ZI.measure?ZI:{mark:VR,measure:VR},ab='FA "6.1.1"',I1_begin=function(e){return C1.mark("".concat(ab," ").concat(e," begins")),function(){return function(e){C1.mark("".concat(ab," ").concat(e," ends")),C1.measure("".concat(ab," ").concat(e),"".concat(ab," ").concat(e," begins"),"".concat(ab," ").concat(e," ends"))}(e)}},JI=function(){};function BR(n){return"string"==typeof(n.getAttribute?n.getAttribute(Up):null)}function DV(n){return tr.createElementNS("http://www.w3.org/2000/svg",n)}function TV(n){return tr.createElement(n)}function jR(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,r=void 0===t?"svg"===n.tag?DV:TV:t;if("string"==typeof n)return tr.createTextNode(n);var i=r(n.tag);Object.keys(n.attributes||[]).forEach(function(d){i.setAttribute(d,n.attributes[d])});var u=n.children||[];return u.forEach(function(d){i.appendChild(jR(d,{ceFn:r}))}),i}var XI={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(jR(i),t)}),null===t.getAttribute(Up)&&Ot.keepOriginalSource){var r=tr.createComment(function AV(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~u1(t).indexOf(Ot.replacementClass))return XI.replace(e);var i=new RegExp("".concat(Ot.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var u=r[0].attributes.class.split(" ").reduce(function(p,v){return v===Ot.replacementClass||v.match(i)?p.toSvg.push(v):p.toNode.push(v),p},{toNode:[],toSvg:[]});r[0].attributes.class=u.toSvg.join(" "),0===u.toNode.length?t.removeAttribute("class"):t.setAttribute("class",u.toNode.join(" "))}var d=r.map(function(p){return ob(p)}).join("\n");t.setAttribute(Up,""),t.innerHTML=d}};function $R(n){n()}function HR(n,e){var t="function"==typeof e?e:JI;if(0===n.length)t();else{var r=$R;"async"===Ot.mutateApproach&&(r=Hh.requestAnimationFrame||$R),r(function(){var i=function IV(){return!0===Ot.autoReplaceSvg?XI.replace:XI[Ot.autoReplaceSvg]||XI.replace}(),u=I1_begin("mutate");n.map(i),u(),t()})}}var D1=!1;function ZR(){D1=!0}function T1(){D1=!1}var eD=null;function GR(n){if(hR&&Ot.observeMutations){var e=n.treeCallback,t=void 0===e?JI:e,r=n.nodeCallback,i=void 0===r?JI:r,u=n.pseudoElementsCallback,d=void 0===u?JI:u,p=n.observeMutationsRoot,v=void 0===p?tr:p;eD=new hR(function(E){if(!D1){var A=Gh();wy(E).forEach(function(S){if("childList"===S.type&&S.addedNodes.length>0&&!BR(S.addedNodes[0])&&(Ot.searchPseudoElements&&d(S.target),t(S.target)),"attributes"===S.type&&S.target.parentNode&&Ot.searchPseudoElements&&d(S.target.parentNode),"attributes"===S.type&&BR(S.target)&&~L2.indexOf(S.attributeName))if("class"===S.attributeName&&function EV(n){var e=n.getAttribute?n.getAttribute(o1):null,t=n.getAttribute?n.getAttribute(s1):null;return e&&t}(S.target)){var L=YI(u1(S.target)),ee=L.iconName;S.target.setAttribute(o1,L.prefix||A),ee&&S.target.setAttribute(s1,ee)}else(function CV(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Ot.replacementClass)})(S.target)&&i(S.target)})}}),td&&eD.observe(v,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function xV(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var u=i.split(":"),d=u[0],p=u.slice(1);return d&&p.length>0&&(r[d]=p.join(":").trim()),r},{})),t}function MV(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=YI(u1(n));return i.prefix||(i.prefix=Gh()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function aV(n,e){return(xR[n]||{})[e]}(i.prefix,n.innerText)||g1(i.prefix,h1(n.innerText))),i}function kV(n){var e=wy(n.attributes).reduce(function(i,u){return"class"!==i.name&&"style"!==i.name&&(i[u.name]=u.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return Ot.autoA11y&&(t?e["aria-labelledby"]="".concat(Ot.replacementClass,"-title-").concat(r||ib()):(e["aria-hidden"]="true",e.focusable="false")),e}function qR(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=MV(n),r=t.iconName,i=t.prefix,u=t.rest,d=kV(n),p=y1("parseNodeAttributes",{},n),v=e.styleParser?xV(n):[];return ht({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:bl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:u,styles:v,attributes:d}},p)}var OV=cu.styles;function zR(n){var e="nest"===Ot.autoReplaceSvg?qR(n,{styleParser:!1}):qR(n);return~e.extra.classes.indexOf(_R)?id("generateLayersText",n,e):id("generateSvgReplacementMutation",n,e)}function WR(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!td)return Promise.resolve();var t=tr.documentElement.classList,r=function(S){return t.add("".concat(mR,"-").concat(S))},i=function(S){return t.remove("".concat(mR,"-").concat(S))},u=Object.keys(Ot.autoFetchSvg?a1:OV),d=[".".concat(_R,":not([").concat(Up,"])")].concat(u.map(function(A){return".".concat(A,":not([").concat(Up,"])")})).join(", ");if(0===d.length)return Promise.resolve();var p=[];try{p=wy(n.querySelectorAll(d))}catch{}if(!(p.length>0))return Promise.resolve();r("pending"),i("complete");var v=I1_begin("onTree"),E=p.reduce(function(A,S){try{var L=zR(S);L&&A.push(L)}catch(q){yR||"MissingIcon"===q.name&&console.error(q)}return A},[]);return new Promise(function(A,S){Promise.all(E).then(function(L){HR(L,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),v(),A()})}).catch(function(L){v(),S(L)})})}function NV(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;zR(n).then(function(t){t&&HR([t],e)})}function PV(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:v1(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:v1(i||{})),n(r,ht(ht({},t),{},{mask:i}))}}var FV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,i=void 0===r?bl:r,u=t.symbol,d=void 0!==u&&u,p=t.mask,v=void 0===p?null:p,E=t.maskId,A=void 0===E?null:E,S=t.title,L=void 0===S?null:S,q=t.titleId,ee=void 0===q?null:q,Pe=t.classes,Le=void 0===Pe?[]:Pe,lt=t.attributes,ct=void 0===lt?{}:lt,it=t.styles,st=void 0===it?{}:it;if(e){var Ct=e.prefix,Ht=e.iconName,Hn=e.icon;return QI(ht({type:"icon"},e),function(){return jp("beforeDOMElementCreation",{iconDefinition:e,params:t}),Ot.autoA11y&&(L?ct["aria-labelledby"]="".concat(Ot.replacementClass,"-title-").concat(ee||ib()):(ct["aria-hidden"]="true",ct.focusable="false")),_1({icons:{main:w1(Hn),mask:v?w1(v.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Ct,iconName:Ht,transform:ht(ht({},bl),i),symbol:d,title:L,maskId:A,titleId:ee,extra:{attributes:ct,styles:st,classes:Le}})})}},LV={mixout:function(){return{icon:PV(FV)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=WR,t.nodeCallback=NV,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,u=t.callback;return WR(void 0===r?tr:r,void 0===u?function(){}:u)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,u=r.title,d=r.titleId,p=r.prefix,v=r.transform,E=r.symbol,A=r.mask,S=r.maskId,L=r.extra;return new Promise(function(q,ee){Promise.all([E1(i,p),A.iconName?E1(A.iconName,A.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Pe){var Le=XS(Pe,2);q([t,_1({icons:{main:Le[0],mask:Le[1]},prefix:p,iconName:i,transform:v,symbol:E,maskId:S,title:u,titleId:d,extra:L,watchable:!0})])}).catch(ee)})},e.generateAbstractIcon=function(t){var E,r=t.children,i=t.attributes,u=t.main,d=t.transform,v=zI(t.styles);return v.length>0&&(i.style=v),l1(d)&&(E=id("generateAbstractTransformGrouping",{main:u,transform:d,containerWidth:u.width,iconWidth:u.width})),r.push(E||u.icon),{children:r,attributes:i}}}},VV={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,u=void 0===i?[]:i;return QI({type:"layer"},function(){jp("beforeDOMElementCreation",{assembler:t,params:r});var d=[];return t(function(p){Array.isArray(p)?p.map(function(v){d=d.concat(v.abstract)}):d=d.concat(p.abstract)}),[{tag:"span",attributes:{class:["".concat(Ot.familyPrefix,"-layers")].concat(HI(u)).join(" ")},children:d}]})}}}},UV={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,u=void 0===i?null:i,d=r.classes,p=void 0===d?[]:d,v=r.attributes,E=void 0===v?{}:v,A=r.styles,S=void 0===A?{}:A;return QI({type:"counter",content:t},function(){return jp("beforeDOMElementCreation",{content:t,params:r}),vV({content:t.toString(),title:u,extra:{attributes:E,styles:S,classes:["".concat(Ot.familyPrefix,"-layers-counter")].concat(HI(p))}})})}}}},BV={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,u=void 0===i?bl:i,d=r.title,p=void 0===d?null:d,v=r.classes,E=void 0===v?[]:v,A=r.attributes,S=void 0===A?{}:A,L=r.styles,q=void 0===L?{}:L;return QI({type:"text",content:t},function(){return jp("beforeDOMElementCreation",{content:t,params:r}),LR({content:t,transform:ht(ht({},bl),u),title:p,extra:{attributes:S,styles:q,classes:["".concat(Ot.familyPrefix,"-layers-text")].concat(HI(E))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,u=r.transform,d=r.extra,p=null,v=null;if(fR){var E=parseInt(getComputedStyle(t).fontSize,10),A=t.getBoundingClientRect();p=A.width/E,v=A.height/E}return Ot.autoA11y&&!i&&(d.attributes["aria-hidden"]="true"),Promise.resolve([t,LR({content:t.innerHTML,width:p,height:v,transform:u,title:i,extra:d,watchable:!0})])}}},jV=new RegExp('"',"ug"),KR=[1105920,1112319];function YR(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(t))return r();var d=wy(n.children).filter(function(Ht){return Ht.getAttribute(r1)===e})[0],p=Hh.getComputedStyle(n,e),v=p.getPropertyValue("font-family").match(N2),E=p.getPropertyValue("font-weight"),A=p.getPropertyValue("content");if(d&&!v)return n.removeChild(d),r();if(v&&"none"!==A&&""!==A){var S=p.getPropertyValue("content"),L=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(v[2])?GI[v[2].toLowerCase()]:P2[E],q=function $V(n){var e=n.replace(jV,""),t=function tV(n,e){var i,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=KR[0]&&t<=KR[1],i=2===e.length&&e[0]===e[1];return{value:h1(i?e[0]:e),isSecondary:r||i}}(S),ee=q.value,Pe=q.isSecondary,Le=v[0].startsWith("FontAwesome"),lt=g1(L,ee),ct=lt;if(Le){var it=function uV(n){var e=kR[n],t=g1("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(ee);it.iconName&&it.prefix&&(lt=it.iconName,L=it.prefix)}if(!lt||Pe||d&&d.getAttribute(o1)===L&&d.getAttribute(s1)===ct)r();else{n.setAttribute(t,ct),d&&n.removeChild(d);var st=function RV(){return{iconName:null,title:null,titleId:null,prefix:null,transform:bl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Ct=st.extra;Ct.attributes[r1]=e,E1(lt,L).then(function(Ht){var Hn=_1(ht(ht({},st),{},{icons:{main:Ht,mask:{prefix:null,iconName:null,rest:[]}},prefix:L,iconName:ct,extra:Ct,watchable:!0})),Mi=tr.createElement("svg");"::before"===e?n.insertBefore(Mi,n.firstChild):n.appendChild(Mi),Mi.outerHTML=Hn.map(function(wl){return ob(wl)}).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function HV(n){return Promise.all([YR(n,"::before"),YR(n,"::after")])}function ZV(n){return!(n.parentNode===document.head||~k2.indexOf(n.tagName.toUpperCase())||n.getAttribute(r1)||n.parentNode&&"svg"===n.parentNode.tagName)}function QR(n){if(td)return new Promise(function(e,t){var r=wy(n.querySelectorAll("*")).filter(ZV).map(HV),i=I1_begin("searchPseudoElements");ZR(),Promise.all(r).then(function(){i(),T1(),e()}).catch(function(){i(),T1(),t()})})}var JR=!1,XR=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var u=i.toLowerCase().split("-"),d=u[0],p=u.slice(1).join("-");if(d&&"h"===p)return r.flipX=!0,r;if(d&&"v"===p)return r.flipY=!0,r;if(p=parseFloat(p),isNaN(p))return r;switch(d){case"grow":r.size=r.size+p;break;case"shrink":r.size=r.size-p;break;case"left":r.x=r.x-p;break;case"right":r.x=r.x+p;break;case"up":r.y=r.y-p;break;case"down":r.y=r.y+p;break;case"rotate":r.rotate=r.rotate+p}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},A1={x:0,y:0,width:"100%",height:"100%"};function eO(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function WV(n){return"g"===n.tag?n.children:[n]}var KV={hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),u=i?YI(i.split(" ").map(function(d){return d.trim()})):{prefix:null,iconName:null,rest:[]};return u.prefix||(u.prefix=Gh()),t.mask=u,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var r=t.children,i=t.attributes,u=t.main,d=t.mask,p=t.maskId,A=u.icon,L=d.icon,q=function z2(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},u="translate(".concat(32*e.x,", ").concat(32*e.y,") "),d="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),p="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(u," ").concat(d," ").concat(p)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:d.width,iconWidth:u.width}),ee={tag:"rect",attributes:ht(ht({},A1),{},{fill:"white"})},Pe=A.children?{children:A.children.map(eO)}:{},Le={tag:"g",attributes:ht({},q.inner),children:[eO(ht({tag:A.tag,attributes:ht(ht({},A.attributes),q.path)},Pe))]},lt={tag:"g",attributes:ht({},q.outer),children:[Le]},ct="mask-".concat(p||ib()),it="clip-".concat(p||ib()),st={tag:"mask",attributes:ht(ht({},A1),{},{id:ct,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[ee,lt]},Ct={tag:"defs",children:[{tag:"clipPath",attributes:{id:it},children:WV(L)},st]};return r.push(Ct,{tag:"rect",attributes:ht({fill:"currentColor","clip-path":"url(#".concat(it,")"),mask:"url(#".concat(ct,")")},A1)}),{children:r,attributes:i}}}};!function dV(n,e){var t=e.mixoutsTo;PR=n,Cy={},Object.keys(Iy).forEach(function(r){-1===cV.indexOf(r)&&delete Iy[r]}),PR.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(d){"function"==typeof i[d]&&(t[d]=i[d]),"object"===jI(i[d])&&Object.keys(i[d]).forEach(function(p){t[d]||(t[d]={}),t[d][p]=i[d][p]})}),r.hooks){var u=r.hooks();Object.keys(u).forEach(function(d){Cy[d]||(Cy[d]=[]),Cy[d].push(u[d])})}r.provides&&r.provides(Iy)})}([Y2,LV,VV,UV,BV,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=QR,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;Ot.searchPseudoElements&&QR(void 0===r?tr:r)}}},{mixout:function(){return{dom:{unwatch:function(){ZR(),JR=!0}}}},hooks:function(){return{bootstrap:function(){GR(y1("mutationObserverCallbacks",{}))},noAuto:function(){!function SV(){!eD||eD.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;JR?T1():GR(y1("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return XR(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=XR(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,d=t.iconWidth,p={transform:"translate(".concat(t.containerWidth/2," 256)")},v="translate(".concat(32*i.x,", ").concat(32*i.y,") "),E="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),A="rotate(".concat(i.rotate," 0 0)"),q={outer:p,inner:{transform:"".concat(v," ").concat(E," ").concat(A)},path:{transform:"translate(".concat(d/2*-1," -256)")}};return{tag:"g",attributes:ht({},q.outer),children:[{tag:"g",attributes:ht({},q.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ht(ht({},r.icon.attributes),q.path)}]}]}}}},KV,{provides:function(e){var t=!1;Hh.matchMedia&&(t=Hh.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},u={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ht(ht({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var d=ht(ht({},u),{},{attributeName:"opacity"}),p={tag:"circle",attributes:ht(ht({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||p.children.push({tag:"animate",attributes:ht(ht({},u),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ht(ht({},d),{},{values:"1;0;1;1;0;1;"})}),r.push(p),r.push({tag:"path",attributes:ht(ht({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ht(ht({},d),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:ht(ht({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ht(ht({},d),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol");return t.symbol=null!==i&&(""===i||i),t}}}}],{mixoutsTo:ws});let eU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const tO_firebase={projectId:"projet-ionic-9eaaa",appId:"1:508312754758:web:e2991d295f122ae010c847",storageBucket:"projet-ionic-9eaaa.appspot.com",apiKey:"AIzaSyBi7X_64rN3fMdzIMlrTMUtTms6jW8obXc",authDomain:"projet-ionic-9eaaa.firebaseapp.com",messagingSenderId:"508312754758"};let tU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class lU{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}let dU=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:lU,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Pi,tU]]}),n})(),hU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[y2]}),n.\u0275inj=l.cJS({imports:[Vl,d2,eU,UL,Xk,Ii.hO.initializeApp(tO_firebase),dU.forRoot()]}),n})();(0,l.G48)(),Fs().bootstrapModule(hU).catch(n=>console.error(n))},5867:(pt,Me,N)=>{N.d(Me,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=N(9681);(0,l.registerVersion)("firebase","9.9.0","app")},127:(pt,Me,N)=>{N.d(Me,{Z:()=>l.Z});var l=N(3942);l.Z.registerVersion("firebase","9.9.0","app-compat")},5881:(pt,Me,N)=>{N.r(Me);var l=N(5861),U=N(3942),R=N(6457),se=N(2090),fe=(N(9681),N(1877),N(4859));function ce(){return window}function Z(){return(Z=(0,l.Z)(function*(J,j,$){var be;const{BuildInfo:$e}=ce();(0,R.aq)(j.sessionId,"AuthEvent did not contain a session ID");const vt=yield me(j.sessionId),Se={};return(0,R.ar)()?Se.ibi=$e.packageName:(0,R.as)()?Se.apn=$e.packageName:(0,R.at)(J,"operation-not-supported-in-this-environment"),$e.displayName&&(Se.appDisplayName=$e.displayName),Se.sessionId=vt,(0,R.au)(J,$,j.type,void 0,null!==(be=j.eventId)&&void 0!==be?be:void 0,Se)})).apply(this,arguments)}function qe(){return(qe=(0,l.Z)(function*(J){const{BuildInfo:j}=ce(),$={};(0,R.ar)()?$.iosBundleId=j.packageName:(0,R.as)()?$.androidPackageName=j.packageName:(0,R.at)(J,"operation-not-supported-in-this-environment"),yield(0,R.av)(J,$)})).apply(this,arguments)}function He(){return(He=(0,l.Z)(function*(J,j,$){const{cordova:be}=ce();let $e=()=>{};try{yield new Promise((vt,Se)=>{let rt=null;function At(){var Tt;vt();const or=null===(Tt=be.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof or&&or(),"function"==typeof $?.close&&$.close()}function an(){rt||(rt=window.setTimeout(()=>{Se((0,R.aw)(J,"redirect-cancelled-by-user"))},2e3))}function dr(){"visible"===document?.visibilityState&&an()}j.addPassiveListener(At),document.addEventListener("resume",an,!1),(0,R.as)()&&document.addEventListener("visibilitychange",dr,!1),$e=()=>{j.removePassiveListener(At),document.removeEventListener("resume",an,!1),document.removeEventListener("visibilitychange",dr,!1),rt&&window.clearTimeout(rt)}})}finally{$e()}})).apply(this,arguments)}function me(J){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,l.Z)(function*(J){const j=Ze(J),$=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array($)).map($e=>$e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ze(J){if((0,R.aq)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(J);const j=new ArrayBuffer(J.length),$=new Uint8Array(j);for(let be=0;be<J.length;be++)$[be]=J.charCodeAt(be);return $}class Oe extends R.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach($=>$(j)),super.onEvent(j)}initialized(){var j=this;return(0,l.Z)(function*(){yield j.initPromise})()}}function re(J){return he.apply(this,arguments)}function he(){return(he=(0,l.Z)(function*(J){const j=yield ie()._get(oe(J));return j&&(yield ie()._remove(oe(J))),j})).apply(this,arguments)}function Q(){const J=[],j="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let $=0;$<20;$++){const be=Math.floor(Math.random()*j.length);J.push(j.charAt(be))}return J.join("")}function ie(){return(0,R.ay)(R.b)}function oe(J){return(0,R.az)("authEvent",J.config.apiKey,J.name)}function Ue(J){if(!J?.includes("?"))return{};const[j,...$]=J.split("?");return(0,se.zd)($.join("?"))}function ze(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function qt(){var J;return(null===(J=self?.location)||void 0===J?void 0:J.protocol)||null}function vn(J=(0,se.z$)()){return!("file:"!==qt()&&"ionic:"!==qt()&&"capacitor:"!==qt()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function ni(){try{const J=self.localStorage,j=R.aI();if(J)return J.setItem(j,"1"),J.removeItem(j),!function Ji(J=(0,se.z$)()){return function Tr(){return(0,se.w1)()&&11===document?.documentMode}()||function Tn(J=(0,se.z$)()){return/Edge\/\d+/.test(J)}(J)}()||(0,se.hl)()}catch{return mi()&&(0,se.hl)()}return!1}function mi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pn(){return(function Xt(){return"http:"===qt()||"https:"===qt()}()||(0,se.ru)()||vn())&&!function ki(){return(0,se.b$)()||(0,se.UG)()}()&&ni()&&!mi()}function Xi(){return vn()&&typeof document<"u"}function Ar(){return(Ar=(0,l.Z)(function*(){return!!Xi()&&new Promise(J=>{const j=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),J(!0)})})})).apply(this,arguments)}const en={LOCAL:"local",NONE:"none",SESSION:"session"},nr=R.ax,Pr="persistence";function bn(J){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(J){yield J._initializationPromise;const j=Wt(),$=R.az(Pr,J.config.apiKey,J.name);j&&j.setItem($,J._getPersistence())})).apply(this,arguments)}function Wt(){var J;try{return(null===(J=function _n(){return typeof window<"u"?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch{return null}}const Je=R.ax;class at{constructor(){this.browserResolver=R.ay(R.k),this.cordovaResolver=R.ay(class Yt{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(j){var $=this;return(0,l.Z)(function*(){const be=j._key();let $e=$.eventManagers.get(be);return $e||($e=new Oe(j),$.eventManagers.set(be,$e),$.attachCallbackListeners(j,$e)),$e})()}_openPopup(j){(0,R.at)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,$,be,$e){var vt=this;return(0,l.Z)(function*(){!function ge(J){var j,$,be,$e,vt,Se,rt,At,an,dr;const Tt=ce();(0,R.ax)("function"==typeof(null===(j=Tt?.universalLinks)||void 0===j?void 0:j.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(typeof(null===($=Tt?.BuildInfo)||void 0===$?void 0:$.packageName)<"u",J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(vt=null===($e=null===(be=Tt?.cordova)||void 0===be?void 0:be.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===vt?void 0:vt.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(At=null===(rt=null===(Se=Tt?.cordova)||void 0===Se?void 0:Se.plugins)||void 0===rt?void 0:rt.browsertab)||void 0===At?void 0:At.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(dr=null===(an=Tt?.cordova)||void 0===an?void 0:an.InAppBrowser)||void 0===dr?void 0:dr.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const Se=yield vt._initialize(j);yield Se.initialized(),Se.resetRedirect(),(0,R.aD)(),yield vt._originValidation(j);const rt=function Ce(J,j,$=null){return{type:j,eventId:$,urlResponse:null,sessionId:Q(),postBody:null,tenantId:J.tenantId,error:(0,R.aw)(J,"no-auth-event")}}(j,be,$e);yield function Qe(J,j){return ie()._set(oe(J),j)}(j,rt);const At=yield function z(J,j,$){return Z.apply(this,arguments)}(j,rt,$),an=yield function Re(J){const{cordova:j}=ce();return new Promise($=>{j.plugins.browsertab.isAvailable(be=>{let $e=null;be?j.plugins.browsertab.openUrl(J):$e=j.InAppBrowser.open(J,(0,R.ap)()?"_blank":"_system","location=yes"),$($e)})})}(At);return function Ae(J,j,$){return He.apply(this,arguments)}(j,Se,an)})()}_isIframeWebStorageSupported(j,$){throw new Error("Method not implemented.")}_originValidation(j){const $=j._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function te(J){return qe.apply(this,arguments)}(j)),this.originValidationPromises[$]}attachCallbackListeners(j,$){const{universalLinks:be,handleOpenURL:$e,BuildInfo:vt}=ce(),Se=setTimeout((0,l.Z)(function*(){yield re(j),$.onEvent(ze())}),500),rt=function(){var dr=(0,l.Z)(function*(Tt){clearTimeout(Se);const or=yield re(j);let pn=null;or&&Tt?.url&&(pn=function Ie(J,j){var $,be;const $e=function ue(J){const j=Ue(J),$=j.link?decodeURIComponent(j.link):void 0,be=Ue($).link,$e=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return Ue($e).link||$e||be||$||J}(j);if($e.includes("/__/auth/callback")){const vt=Ue($e),Se=vt.firebaseError?function _e(J){try{return JSON.parse(J)}catch{return null}}(decodeURIComponent(vt.firebaseError)):null,rt=null===(be=null===($=Se?.code)||void 0===$?void 0:$.split("auth/"))||void 0===be?void 0:be[1],At=rt?(0,R.aw)(rt):null;return At?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:At,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:$e,postBody:null}}return null}(or,Tt.url)),$.onEvent(pn||ze())});return function(or){return dr.apply(this,arguments)}}();typeof be<"u"&&"function"==typeof be.subscribe&&be.subscribe(null,rt);const At=$e,an=`${vt.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var dr=(0,l.Z)(function*(Tt){if(Tt.toLowerCase().startsWith(an)&&rt({url:Tt}),"function"==typeof At)try{At(Tt)}catch(or){console.error(or)}});return function(Tt){return dr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(j){var $=this;return(0,l.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,$,be,$e){var vt=this;return(0,l.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openPopup(j,$,be,$e)})()}_openRedirect(j,$,be,$e){var vt=this;return(0,l.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openRedirect(j,$,be,$e)})()}_isIframeWebStorageSupported(j,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,$)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return Xi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Je(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,l.Z)(function*(){if(j.underlyingResolver)return;const $=yield function ft(){return Ar.apply(this,arguments)}();j.underlyingResolver=$?j.cordovaResolver:j.browserResolver})()}}function yi(J){return J.unwrap()}function Rt(J){return wn(J)}function wn(J){const{_tokenResponse:j}=J instanceof se.ZR?J.customData:J;if(!j)return null;if(!(J instanceof se.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return R.P.credentialFromResult(J);const $=j.providerId;if(!$||$===R.o.PASSWORD)return null;let be;switch($){case R.o.GOOGLE:be=R.Q;break;case R.o.FACEBOOK:be=R.N;break;case R.o.GITHUB:be=R.T;break;case R.o.TWITTER:be=R.W;break;default:const{oauthIdToken:$e,oauthAccessToken:vt,oauthTokenSecret:Se,pendingToken:rt,nonce:At}=j;return vt||Se||$e||rt?rt?$.startsWith("saml.")?R.aL._create($,rt):R.J._fromParams({providerId:$,signInMethod:$,pendingToken:rt,idToken:$e,accessToken:vt}):new R.U($).credential({idToken:$e,accessToken:vt,rawNonce:At}):null}return J instanceof se.ZR?be.credentialFromError(J):be.credentialFromResult(J)}function En(J,j){return j.catch($=>{throw $ instanceof se.ZR&&function Sr(J,j){var $,be;const $e=null===($=j.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===(null===(be=j)||void 0===be?void 0:be.code))j.resolver=new H(J,R.an(J,j));else if($e){const vt=wn(j),Se=j;vt&&(Se.credential=vt,Se.tenantId=$e.tenantId||void 0,Se.email=$e.email||void 0,Se.phoneNumber=$e.phoneNumber||void 0)}}(J,$),$}).then($=>{const $e=$.user;return{operationType:$.operationType,credential:Rt($),additionalUserInfo:R.al($),user:G.getOrCreate($e)}})}function tn(J,j){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(J,j){const $=yield j;return{verificationId:$.verificationId,confirm:be=>En(J,$.confirm(be))}})).apply(this,arguments)}class H{constructor(j,$){this.resolver=$,this.auth=function rr(J){return J.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return En(yi(this.auth),this.resolver.resolveSignIn(j))}}class G{constructor(j){this._delegate=j,this.multiFactor=R.ao(j)}static getOrCreate(j){return G.USER_MAP.has(j)||G.USER_MAP.set(j,new G(j)),G.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var $=this;return(0,l.Z)(function*(){return En($.auth,R.Z($._delegate,j))})()}linkWithPhoneNumber(j,$){var be=this;return(0,l.Z)(function*(){return tn(be.auth,R.l(be._delegate,j,$))})()}linkWithPopup(j){var $=this;return(0,l.Z)(function*(){return En($.auth,R.d($._delegate,j,at))})()}linkWithRedirect(j){var $=this;return(0,l.Z)(function*(){return yield bn(R.aE($.auth)),R.g($._delegate,j,at)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var $=this;return(0,l.Z)(function*(){return En($.auth,R._($._delegate,j))})()}reauthenticateWithPhoneNumber(j,$){return tn(this.auth,R.r(this._delegate,j,$))}reauthenticateWithPopup(j){return En(this.auth,R.e(this._delegate,j,at))}reauthenticateWithRedirect(j){var $=this;return(0,l.Z)(function*(){return yield bn(R.aE($.auth)),R.h($._delegate,j,at)})()}sendEmailVerification(j){return R.ab(this._delegate,j)}unlink(j){var $=this;return(0,l.Z)(function*(){return yield R.ak($._delegate,j),$})()}updateEmail(j){return R.ag(this._delegate,j)}updatePassword(j){return R.ah(this._delegate,j)}updatePhoneNumber(j){return R.u(this._delegate,j)}updateProfile(j){return R.af(this._delegate,j)}verifyBeforeUpdateEmail(j,$){return R.ac(this._delegate,j,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}G.USER_MAP=new WeakMap;const V=R.ax;let W=(()=>{class J{constructor($,be){if(this.app=$,be.isInitialized())return this._delegate=be.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$e}=$.options;V($e,"invalid-api-key",{appName:$.name}),V($e,"invalid-api-key",{appName:$.name});const vt=typeof window<"u"?at:void 0;this._delegate=be.initialize({options:{persistence:xe($e,$.name),popupRedirectResolver:vt}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?G.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,be){R.G(this._delegate,$,be)}applyActionCode($){return R.a2(this._delegate,$)}checkActionCode($){return R.a3(this._delegate,$)}confirmPasswordReset($,be){return R.a1(this._delegate,$,be)}createUserWithEmailAndPassword($,be){var $e=this;return(0,l.Z)(function*(){return En($e._delegate,R.a5($e._delegate,$,be))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return R.aa(this._delegate,$)}isSignInWithEmailLink($){return R.a8(this._delegate,$)}getRedirectResult(){var $=this;return(0,l.Z)(function*(){V(Pn(),$._delegate,"operation-not-supported-in-this-environment");const be=yield R.j($._delegate,at);return be?En($._delegate,Promise.resolve(be)):{credential:null,user:null}})()}addFrameworkForLogging($){!function ln(J,j){(0,R.aE)(J)._logFramework(j)}(this._delegate,$)}onAuthStateChanged($,be,$e){const{next:vt,error:Se,complete:rt}=K($,be,$e);return this._delegate.onAuthStateChanged(vt,Se,rt)}onIdTokenChanged($,be,$e){const{next:vt,error:Se,complete:rt}=K($,be,$e);return this._delegate.onIdTokenChanged(vt,Se,rt)}sendSignInLinkToEmail($,be){return R.a7(this._delegate,$,be)}sendPasswordResetEmail($,be){return R.a0(this._delegate,$,be||void 0)}setPersistence($){var be=this;return(0,l.Z)(function*(){let $e;switch(function lr(J,j){nr(Object.values(en).includes(j),J,"invalid-persistence-type"),(0,se.b$)()?nr(j!==en.SESSION,J,"unsupported-persistence-type"):(0,se.UG)()?nr(j===en.NONE,J,"unsupported-persistence-type"):mi()?nr(j===en.NONE||j===en.LOCAL&&(0,se.hl)(),J,"unsupported-persistence-type"):nr(j===en.NONE||ni(),J,"unsupported-persistence-type")}(be._delegate,$),$){case en.SESSION:$e=R.a;break;case en.LOCAL:$e=(yield R.ay(R.i)._isAvailable())?R.i:R.b;break;case en.NONE:$e=R.L;break;default:return R.at("argument-error",{appName:be._delegate.name})}return be._delegate.setPersistence($e)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return En(this._delegate,R.X(this._delegate))}signInWithCredential($){return En(this._delegate,R.Y(this._delegate,$))}signInWithCustomToken($){return En(this._delegate,R.$(this._delegate,$))}signInWithEmailAndPassword($,be){return En(this._delegate,R.a6(this._delegate,$,be))}signInWithEmailLink($,be){return En(this._delegate,R.a9(this._delegate,$,be))}signInWithPhoneNumber($,be){return tn(this._delegate,R.s(this._delegate,$,be))}signInWithPopup($){var be=this;return(0,l.Z)(function*(){return V(Pn(),be._delegate,"operation-not-supported-in-this-environment"),En(be._delegate,R.c(be._delegate,$,at))})()}signInWithRedirect($){var be=this;return(0,l.Z)(function*(){return V(Pn(),be._delegate,"operation-not-supported-in-this-environment"),yield bn(be._delegate),R.f(be._delegate,$,at)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return R.a4(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=en,J})();function K(J,j,$){let be=J;"function"!=typeof J&&({next:be,error:j,complete:$}=J);const $e=be;return{next:Se=>$e(Se&&G.getOrCreate(Se)),error:j,complete:$}}function xe(J,j){const $=function Co(J,j){const $=Wt();if(!$)return[];const be=R.az(Pr,J,j);switch($.getItem(be)){case en.NONE:return[R.L];case en.LOCAL:return[R.i,R.a];case en.SESSION:return[R.a];default:return[]}}(J,j);if(typeof self<"u"&&!$.includes(R.i)&&$.push(R.i),typeof window<"u")for(const be of[R.b,R.a])$.includes(be)||$.push(be);return $.includes(R.L)||$.push(R.L),$}class Ge{constructor(){this.providerId="phone",this._delegate=new R.P(yi(U.Z.auth()))}static credential(j,$){return R.P.credential(j,$)}verifyPhoneNumber(j,$){return this._delegate.verifyPhoneNumber(j,$)}unwrap(){return this._delegate}}Ge.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,Ge.PROVIDER_ID=R.P.PROVIDER_ID;const It=R.ax;class nn{constructor(j,$,be=U.Z.app()){var $e;It(null===($e=be.options)||void 0===$e?void 0:$e.apiKey,"invalid-api-key",{appName:be.name}),this._delegate=new R.R(j,$,be.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ir(J){J.INTERNAL.registerComponent(new fe.wA("auth-compat",j=>{const $=j.getProvider("app-compat").getImmediate(),be=j.getProvider("auth");return new W($,be)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:Ge,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:nn,TwitterAuthProvider:R.W,Auth:W,AuthCredential:R.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.2.18")}(U.Z)},8306:(pt,Me,N)=>{N.d(Me,{y:()=>z});var l=N(2961),U=N(727),R=N(8822),se=N(4671);var fe=N(2416),ce=N(576),ve=N(2806);let z=(()=>{class Re{constructor(He){He&&(this._subscribe=He)}lift(He){const ge=new Re;return ge.source=this,ge.operator=He,ge}subscribe(He,ge,me){const Ke=function qe(Re){return Re&&Re instanceof l.Lv||function te(Re){return Re&&(0,ce.m)(Re.next)&&(0,ce.m)(Re.error)&&(0,ce.m)(Re.complete)}(Re)&&(0,U.Nn)(Re)}(He)?He:new l.Hp(He,ge,me);return(0,ve.x)(()=>{const{operator:Ze,source:ke}=this;Ke.add(Ze?Ze.call(Ke,ke):ke?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(He){try{return this._subscribe(He)}catch(ge){He.error(ge)}}forEach(He,ge){return new(ge=Z(ge))((me,Ke)=>{const Ze=new l.Hp({next:ke=>{try{He(ke)}catch(Oe){Ke(Oe),Ze.unsubscribe()}},error:Ke,complete:me});this.subscribe(Ze)})}_subscribe(He){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(He)}[R.L](){return this}pipe(...He){return function ye(Re){return 0===Re.length?se.y:1===Re.length?Re[0]:function(He){return Re.reduce((ge,me)=>me(ge),He)}}(He)(this)}toPromise(He){return new(He=Z(He))((ge,me)=>{let Ke;this.subscribe(Ze=>Ke=Ze,Ze=>me(Ze),()=>ge(Ke))})}}return Re.create=Ae=>new Re(Ae),Re})();function Z(Re){var Ae;return null!==(Ae=Re??fe.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(pt,Me,N)=>{N.d(Me,{x:()=>fe});var l=N(8306),U=N(727);const se=(0,N(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=N(8737),ye=N(2806);let fe=(()=>{class ve extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const te=new ce(this,this);return te.operator=Z,te}_throwIfClosed(){if(this.closed)throw new se}next(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(Z)}})}error(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:te}=this;for(;te.length;)te.shift().error(Z)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:te,isStopped:qe,observers:Re}=this;return te||qe?U.Lc:(this.currentObservers=null,Re.push(Z),new U.w0(()=>{this.currentObservers=null,(0,ae.P)(Re,Z)}))}_checkFinalizedStatuses(Z){const{hasError:te,thrownError:qe,isStopped:Re}=this;te?Z.error(qe):Re&&Z.complete()}asObservable(){const Z=new l.y;return Z.source=this,Z}}return ve.create=(z,Z)=>new ce(z,Z),ve})();class ce extends fe{constructor(z,Z){super(),this.destination=z,this.source=Z}next(z){var Z,te;null===(te=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===te||te.call(Z,z)}error(z){var Z,te;null===(te=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===te||te.call(Z,z)}complete(){var z,Z;null===(Z=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===Z||Z.call(z)}_subscribe(z){var Z,te;return null!==(te=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(z))&&void 0!==te?te:U.Lc}}},2961:(pt,Me,N)=>{N.d(Me,{Hp:()=>He,Lv:()=>te});var l=N(576),U=N(727),R=N(2416),se=N(7849);function ae(){}const ye=ve("C",void 0,void 0);function ve(ke,Oe,Ce){return{kind:ke,value:Oe,error:Ce}}var z=N(3410),Z=N(2806);class te extends U.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,U.Nn)(Oe)&&Oe.add(this)):this.destination=Ze}static create(Oe,Ce,Qe){return new He(Oe,Ce,Qe)}next(Oe){this.isStopped?Ke(function ce(ke){return ve("N",ke,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?Ke(function fe(ke){return ve("E",void 0,ke)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?Ke(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Re(ke,Oe){return qe.call(ke,Oe)}class Ae{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Oe)}catch(Qe){ge(Qe)}}error(Oe){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Oe)}catch(Qe){ge(Qe)}else ge(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(Ce){ge(Ce)}}}class He extends te{constructor(Oe,Ce,Qe){let re;if(super(),(0,l.m)(Oe)||!Oe)re={next:Oe??void 0,error:Ce??void 0,complete:Qe??void 0};else{let he;this&&R.v.useDeprecatedNextContext?(he=Object.create(Oe),he.unsubscribe=()=>this.unsubscribe(),re={next:Oe.next&&Re(Oe.next,he),error:Oe.error&&Re(Oe.error,he),complete:Oe.complete&&Re(Oe.complete,he)}):re=Oe}this.destination=new Ae(re)}}function ge(ke){R.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(ke):(0,se.h)(ke)}function Ke(ke,Oe){const{onStoppedNotification:Ce}=R.v;Ce&&z.z.setTimeout(()=>Ce(ke,Oe))}const Ze={closed:!0,next:ae,error:function me(ke){throw ke},complete:ae}},727:(pt,Me,N)=>{N.d(Me,{Lc:()=>ye,w0:()=>ae,Nn:()=>fe});var l=N(576);const R=(0,N(3888).d)(ve=>function(Z){ve(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((te,qe)=>`${qe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var se=N(8737);class ae{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Re of Z)Re.remove(this);else Z.remove(this);const{initialTeardown:te}=this;if((0,l.m)(te))try{te()}catch(Re){z=Re instanceof R?Re.errors:[Re]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Re of qe)try{ce(Re)}catch(Ae){z=z??[],Ae instanceof R?z=[...z,...Ae.errors]:z.push(Ae)}}if(z)throw new R(z)}}add(z){var Z;if(z&&z!==this)if(this.closed)ce(z);else{if(z instanceof ae){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(z)}}_hasParent(z){const{_parentage:Z}=this;return Z===z||Array.isArray(Z)&&Z.includes(z)}_addParent(z){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(z),Z):Z?[Z,z]:z}_removeParent(z){const{_parentage:Z}=this;Z===z?this._parentage=null:Array.isArray(Z)&&(0,se.P)(Z,z)}remove(z){const{_finalizers:Z}=this;Z&&(0,se.P)(Z,z),z instanceof ae&&z._removeParent(this)}}ae.EMPTY=(()=>{const ve=new ae;return ve.closed=!0,ve})();const ye=ae.EMPTY;function fe(ve){return ve instanceof ae||ve&&"closed"in ve&&(0,l.m)(ve.remove)&&(0,l.m)(ve.add)&&(0,l.m)(ve.unsubscribe)}function ce(ve){(0,l.m)(ve)?ve():ve.unsubscribe()}},2416:(pt,Me,N)=>{N.d(Me,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Me,N)=>{N.d(Me,{E:()=>U});const U=new(N(8306).y)(ae=>ae.complete())},8996:(pt,Me,N)=>{N.d(Me,{D:()=>Oe});var l=N(8421),U=N(5363),R=N(9468),ye=N(8306),ce=N(2202),ve=N(576),z=N(9672);function te(Ce,Qe){if(!Ce)throw new Error("Iterable cannot be null");return new ye.y(re=>{(0,z.f)(re,Qe,()=>{const he=Ce[Symbol.asyncIterator]();(0,z.f)(re,Qe,()=>{he.next().then(Ie=>{Ie.done?re.complete():re.next(Ie.value)})},0,!0)})})}var qe=N(3670),Re=N(8239),Ae=N(1144),He=N(6495),ge=N(2206),me=N(4532),Ke=N(3260);function Oe(Ce,Qe){return Qe?function ke(Ce,Qe){if(null!=Ce){if((0,qe.c)(Ce))return function se(Ce,Qe){return(0,l.Xf)(Ce).pipe((0,R.R)(Qe),(0,U.Q)(Qe))}(Ce,Qe);if((0,Ae.z)(Ce))return function fe(Ce,Qe){return new ye.y(re=>{let he=0;return Qe.schedule(function(){he===Ce.length?re.complete():(re.next(Ce[he++]),re.closed||this.schedule())})})}(Ce,Qe);if((0,Re.t)(Ce))return function ae(Ce,Qe){return(0,l.Xf)(Ce).pipe((0,R.R)(Qe),(0,U.Q)(Qe))}(Ce,Qe);if((0,ge.D)(Ce))return te(Ce,Qe);if((0,He.T)(Ce))return function Z(Ce,Qe){return new ye.y(re=>{let he;return(0,z.f)(re,Qe,()=>{he=Ce[ce.h](),(0,z.f)(re,Qe,()=>{let Ie,Q;try{({value:Ie,done:Q}=he.next())}catch(ie){return void re.error(ie)}Q?re.complete():re.next(Ie)},0,!0)}),()=>(0,ve.m)(he?.return)&&he.return()})}(Ce,Qe);if((0,Ke.L)(Ce))return function Ze(Ce,Qe){return te((0,Ke.Q)(Ce),Qe)}(Ce,Qe)}throw(0,me.z)(Ce)}(Ce,Qe):(0,l.Xf)(Ce)}},8421:(pt,Me,N)=>{N.d(Me,{Xf:()=>qe});var l=N(655),U=N(1144),R=N(8239),se=N(8306),ae=N(3670),ye=N(2206),fe=N(4532),ce=N(6495),ve=N(3260),z=N(576),Z=N(7849),te=N(8822);function qe(ke){if(ke instanceof se.y)return ke;if(null!=ke){if((0,ae.c)(ke))return function Re(ke){return new se.y(Oe=>{const Ce=ke[te.L]();if((0,z.m)(Ce.subscribe))return Ce.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,U.z)(ke))return function Ae(ke){return new se.y(Oe=>{for(let Ce=0;Ce<ke.length&&!Oe.closed;Ce++)Oe.next(ke[Ce]);Oe.complete()})}(ke);if((0,R.t)(ke))return function He(ke){return new se.y(Oe=>{ke.then(Ce=>{Oe.closed||(Oe.next(Ce),Oe.complete())},Ce=>Oe.error(Ce)).then(null,Z.h)})}(ke);if((0,ye.D)(ke))return me(ke);if((0,ce.T)(ke))return function ge(ke){return new se.y(Oe=>{for(const Ce of ke)if(Oe.next(Ce),Oe.closed)return;Oe.complete()})}(ke);if((0,ve.L)(ke))return function Ke(ke){return me((0,ve.Q)(ke))}(ke)}throw(0,fe.z)(ke)}function me(ke){return new se.y(Oe=>{(function Ze(ke,Oe){var Ce,Qe,re,he;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,l.KL)(ke);!(Qe=yield Ce.next()).done;)if(Oe.next(Qe.value),Oe.closed)return}catch(Ie){re={error:Ie}}finally{try{Qe&&!Qe.done&&(he=Ce.return)&&(yield he.call(Ce))}finally{if(re)throw re.error}}Oe.complete()})})(ke,Oe).catch(Ce=>Oe.error(Ce))})}},6451:(pt,Me,N)=>{N.d(Me,{T:()=>ye});var l=N(8189),U=N(8421),R=N(515),se=N(7669),ae=N(8996);function ye(...fe){const ce=(0,se.yG)(fe),ve=(0,se._6)(fe,1/0),z=fe;return z.length?1===z.length?(0,U.Xf)(z[0]):(0,l.J)(ve)((0,ae.D)(z,ce)):R.E}},5403:(pt,Me,N)=>{N.d(Me,{x:()=>U});var l=N(2961);function U(se,ae,ye,fe,ce){return new R(se,ae,ye,fe,ce)}class R extends l.Lv{constructor(ae,ye,fe,ce,ve,z){super(ae),this.onFinalize=ve,this.shouldUnsubscribe=z,this._next=ye?function(Z){try{ye(Z)}catch(te){ae.error(te)}}:super._next,this._error=ce?function(Z){try{ce(Z)}catch(te){ae.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(Z){ae.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(pt,Me,N)=>{N.d(Me,{U:()=>R});var l=N(4482),U=N(5403);function R(se,ae){return(0,l.e)((ye,fe)=>{let ce=0;ye.subscribe((0,U.x)(fe,ve=>{fe.next(se.call(ae,ve,ce++))}))})}},8189:(pt,Me,N)=>{N.d(Me,{J:()=>R});var l=N(5577),U=N(4671);function R(se=1/0){return(0,l.z)(U.y,se)}},5577:(pt,Me,N)=>{N.d(Me,{z:()=>ce});var l=N(4004),U=N(8421),R=N(4482),se=N(9672),ae=N(5403),fe=N(576);function ce(ve,z,Z=1/0){return(0,fe.m)(z)?ce((te,qe)=>(0,l.U)((Re,Ae)=>z(te,Re,qe,Ae))((0,U.Xf)(ve(te,qe))),Z):("number"==typeof z&&(Z=z),(0,R.e)((te,qe)=>function ye(ve,z,Z,te,qe,Re,Ae,He){const ge=[];let me=0,Ke=0,Ze=!1;const ke=()=>{Ze&&!ge.length&&!me&&z.complete()},Oe=Qe=>me<te?Ce(Qe):ge.push(Qe),Ce=Qe=>{Re&&z.next(Qe),me++;let re=!1;(0,U.Xf)(Z(Qe,Ke++)).subscribe((0,ae.x)(z,he=>{qe?.(he),Re?Oe(he):z.next(he)},()=>{re=!0},void 0,()=>{if(re)try{for(me--;ge.length&&me<te;){const he=ge.shift();Ae?(0,se.f)(z,Ae,()=>Ce(he)):Ce(he)}ke()}catch(he){z.error(he)}}))};return ve.subscribe((0,ae.x)(z,Oe,()=>{Ze=!0,ke()})),()=>{He?.()}}(te,qe,ve,Z)))}},5363:(pt,Me,N)=>{N.d(Me,{Q:()=>se});var l=N(9672),U=N(4482),R=N(5403);function se(ae,ye=0){return(0,U.e)((fe,ce)=>{fe.subscribe((0,R.x)(ce,ve=>(0,l.f)(ce,ae,()=>ce.next(ve),ye),()=>(0,l.f)(ce,ae,()=>ce.complete(),ye),ve=>(0,l.f)(ce,ae,()=>ce.error(ve),ye)))})}},3099:(pt,Me,N)=>{N.d(Me,{B:()=>ye});var l=N(8996),U=N(5698),R=N(7579),se=N(2961),ae=N(4482);function ye(ce={}){const{connector:ve=(()=>new R.x),resetOnError:z=!0,resetOnComplete:Z=!0,resetOnRefCountZero:te=!0}=ce;return qe=>{let Re=null,Ae=null,He=null,ge=0,me=!1,Ke=!1;const Ze=()=>{Ae?.unsubscribe(),Ae=null},ke=()=>{Ze(),Re=He=null,me=Ke=!1},Oe=()=>{const Ce=Re;ke(),Ce?.unsubscribe()};return(0,ae.e)((Ce,Qe)=>{ge++,!Ke&&!me&&Ze();const re=He=He??ve();Qe.add(()=>{ge--,0===ge&&!Ke&&!me&&(Ae=fe(Oe,te))}),re.subscribe(Qe),Re||(Re=new se.Hp({next:he=>re.next(he),error:he=>{Ke=!0,Ze(),Ae=fe(ke,z,he),re.error(he)},complete:()=>{me=!0,Ze(),Ae=fe(ke,Z),re.complete()}}),(0,l.D)(Ce).subscribe(Re))})(qe)}}function fe(ce,ve,...z){return!0===ve?(ce(),null):!1===ve?null:ve(...z).pipe((0,U.q)(1)).subscribe(()=>ce())}},9468:(pt,Me,N)=>{N.d(Me,{R:()=>U});var l=N(4482);function U(R,se=0){return(0,l.e)((ae,ye)=>{ye.add(R.schedule(()=>ae.subscribe(ye),se))})}},5698:(pt,Me,N)=>{N.d(Me,{q:()=>se});var l=N(515),U=N(4482),R=N(5403);function se(ae){return ae<=0?()=>l.E:(0,U.e)((ye,fe)=>{let ce=0;ye.subscribe((0,R.x)(fe,ve=>{++ce<=ae&&(fe.next(ve),ae<=ce&&fe.complete())}))})}},8505:(pt,Me,N)=>{N.d(Me,{b:()=>ae});var l=N(576),U=N(4482),R=N(5403),se=N(4671);function ae(ye,fe,ce){const ve=(0,l.m)(ye)||fe||ce?{next:ye,error:fe,complete:ce}:ye;return ve?(0,U.e)((z,Z)=>{var te;null===(te=ve.subscribe)||void 0===te||te.call(ve);let qe=!0;z.subscribe((0,R.x)(Z,Re=>{var Ae;null===(Ae=ve.next)||void 0===Ae||Ae.call(ve,Re),Z.next(Re)},()=>{var Re;qe=!1,null===(Re=ve.complete)||void 0===Re||Re.call(ve),Z.complete()},Re=>{var Ae;qe=!1,null===(Ae=ve.error)||void 0===Ae||Ae.call(ve,Re),Z.error(Re)},()=>{var Re,Ae;qe&&(null===(Re=ve.unsubscribe)||void 0===Re||Re.call(ve)),null===(Ae=ve.finalize)||void 0===Ae||Ae.call(ve)}))}):se.y}},4408:(pt,Me,N)=>{N.d(Me,{o:()=>ae});var l=N(727);class U extends l.w0{constructor(fe,ce){super()}schedule(fe,ce=0){return this}}const R={setInterval(ye,fe,...ce){const{delegate:ve}=R;return ve?.setInterval?ve.setInterval(ye,fe,...ce):setInterval(ye,fe,...ce)},clearInterval(ye){const{delegate:fe}=R;return(fe?.clearInterval||clearInterval)(ye)},delegate:void 0};var se=N(8737);class ae extends U{constructor(fe,ce){super(fe,ce),this.scheduler=fe,this.work=ce,this.pending=!1}schedule(fe,ce=0){if(this.closed)return this;this.state=fe;const ve=this.id,z=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(z,ve,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(z,this.id,ce),this}requestAsyncId(fe,ce,ve=0){return R.setInterval(fe.flush.bind(fe,this),ve)}recycleAsyncId(fe,ce,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return ce;R.clearInterval(ce)}execute(fe,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(fe,ce);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ce){let z,ve=!1;try{this.work(fe)}catch(Z){ve=!0,z=Z||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ce}=this,{actions:ve}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ve,this),null!=fe&&(this.id=this.recycleAsyncId(ce,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,Me,N)=>{N.d(Me,{v:()=>R});var l=N(6063);class U{constructor(ae,ye=U.now){this.schedulerActionCtor=ae,this.now=ye}schedule(ae,ye=0,fe){return new this.schedulerActionCtor(this,ae).schedule(fe,ye)}}U.now=l.l.now;class R extends U{constructor(ae,ye=U.now){super(ae,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:ye}=this;if(this._active)return void ye.push(ae);let fe;this._active=!0;do{if(fe=ae.execute(ae.state,ae.delay))break}while(ae=ye.shift());if(this._active=!1,fe){for(;ae=ye.shift();)ae.unsubscribe();throw fe}}}},4986:(pt,Me,N)=>{N.d(Me,{z:()=>R});var l=N(4408);const R=new(N(7565).v)(l.o)},6063:(pt,Me,N)=>{N.d(Me,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(pt,Me,N)=>{N.d(Me,{z:()=>l});const l={setTimeout(U,R,...se){const{delegate:ae}=l;return ae?.setTimeout?ae.setTimeout(U,R,...se):setTimeout(U,R,...se)},clearTimeout(U){const{delegate:R}=l;return(R?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(pt,Me,N)=>{N.d(Me,{h:()=>U});const U=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Me,N)=>{N.d(Me,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(pt,Me,N)=>{N.d(Me,{_6:()=>ye,jO:()=>se,yG:()=>ae});var l=N(576);function R(fe){return fe[fe.length-1]}function se(fe){return(0,l.m)(R(fe))?fe.pop():void 0}function ae(fe){return function U(fe){return fe&&(0,l.m)(fe.schedule)}(R(fe))?fe.pop():void 0}function ye(fe,ce){return"number"==typeof R(fe)?fe.pop():ce}},8737:(pt,Me,N)=>{function l(U,R){if(U){const se=U.indexOf(R);0<=se&&U.splice(se,1)}}N.d(Me,{P:()=>l})},3888:(pt,Me,N)=>{function l(U){const se=U(ae=>{Error.call(ae),ae.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}N.d(Me,{d:()=>l})},2806:(pt,Me,N)=>{N.d(Me,{O:()=>se,x:()=>R});var l=N(2416);let U=null;function R(ae){if(l.v.useDeprecatedSynchronousErrorHandling){const ye=!U;if(ye&&(U={errorThrown:!1,error:null}),ae(),ye){const{errorThrown:fe,error:ce}=U;if(U=null,fe)throw ce}}else ae()}function se(ae){l.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=ae)}},9672:(pt,Me,N)=>{function l(U,R,se,ae=0,ye=!1){const fe=R.schedule(function(){se(),ye?U.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(U.add(fe),!ye)return fe}N.d(Me,{f:()=>l})},4671:(pt,Me,N)=>{function l(U){return U}N.d(Me,{y:()=>l})},1144:(pt,Me,N)=>{N.d(Me,{z:()=>l});const l=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(pt,Me,N)=>{N.d(Me,{D:()=>U});var l=N(576);function U(R){return Symbol.asyncIterator&&(0,l.m)(R?.[Symbol.asyncIterator])}},576:(pt,Me,N)=>{function l(U){return"function"==typeof U}N.d(Me,{m:()=>l})},3670:(pt,Me,N)=>{N.d(Me,{c:()=>R});var l=N(8822),U=N(576);function R(se){return(0,U.m)(se[l.L])}},6495:(pt,Me,N)=>{N.d(Me,{T:()=>R});var l=N(2202),U=N(576);function R(se){return(0,U.m)(se?.[l.h])}},8239:(pt,Me,N)=>{N.d(Me,{t:()=>U});var l=N(576);function U(R){return(0,l.m)(R?.then)}},3260:(pt,Me,N)=>{N.d(Me,{L:()=>se,Q:()=>R});var l=N(655),U=N(576);function R(ae){return(0,l.FC)(this,arguments,function*(){const fe=ae.getReader();try{for(;;){const{value:ce,done:ve}=yield(0,l.qq)(fe.read());if(ve)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ce)}}finally{fe.releaseLock()}})}function se(ae){return(0,U.m)(ae?.getReader)}},4482:(pt,Me,N)=>{N.d(Me,{A:()=>U,e:()=>R});var l=N(576);function U(se){return(0,l.m)(se?.lift)}function R(se){return ae=>{if(U(ae))return ae.lift(function(ye){try{return se(ye,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(pt,Me,N)=>{N.d(Me,{h:()=>R});var l=N(2416),U=N(3410);function R(se){U.z.setTimeout(()=>{const{onUnhandledError:ae}=l.v;if(!ae)throw se;ae(se)})}},4532:(pt,Me,N)=>{function l(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Me,{z:()=>l})},655:(pt,Me,N)=>{function se(Q,ie){var oe={};for(var _e in Q)Object.prototype.hasOwnProperty.call(Q,_e)&&ie.indexOf(_e)<0&&(oe[_e]=Q[_e]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(_e=Object.getOwnPropertySymbols(Q);ue<_e.length;ue++)ie.indexOf(_e[ue])<0&&Object.prototype.propertyIsEnumerable.call(Q,_e[ue])&&(oe[_e[ue]]=Q[_e[ue]])}return oe}function ce(Q,ie,oe,_e){return new(oe||(oe=Promise))(function(Ue,yt){function Yt(ln){try{ze(_e.next(ln))}catch(Nn){yt(Nn)}}function zt(ln){try{ze(_e.throw(ln))}catch(Nn){yt(Nn)}}function ze(ln){ln.done?Ue(ln.value):function ue(Ue){return Ue instanceof oe?Ue:new oe(function(yt){yt(Ue)})}(ln.value).then(Yt,zt)}ze((_e=_e.apply(Q,ie||[])).next())})}function ge(Q){return this instanceof ge?(this.v=Q,this):new ge(Q)}function me(Q,ie,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,_e=oe.apply(Q,ie||[]),Ue=[];return ue={},yt("next"),yt("throw"),yt("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function yt(hn){_e[hn]&&(ue[hn]=function(Jt){return new Promise(function(qt,Xt){Ue.push([hn,Jt,qt,Xt])>1||Yt(hn,Jt)})})}function Yt(hn,Jt){try{!function zt(hn){hn.value instanceof ge?Promise.resolve(hn.value.v).then(ze,ln):Nn(Ue[0][2],hn)}(_e[hn](Jt))}catch(qt){Nn(Ue[0][3],qt)}}function ze(hn){Yt("next",hn)}function ln(hn){Yt("throw",hn)}function Nn(hn,Jt){hn(Jt),Ue.shift(),Ue.length&&Yt(Ue[0][0],Ue[0][1])}}function Ze(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ie=Q[Symbol.asyncIterator];return ie?ie.call(Q):(Q=function te(Q){var ie="function"==typeof Symbol&&Symbol.iterator,oe=ie&&Q[ie],_e=0;if(oe)return oe.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&_e>=Q.length&&(Q=void 0),{value:Q&&Q[_e++],done:!Q}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),oe={},_e("next"),_e("throw"),_e("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function _e(Ue){oe[Ue]=Q[Ue]&&function(yt){return new Promise(function(Yt,zt){!function ue(Ue,yt,Yt,zt){Promise.resolve(zt).then(function(ze){Ue({value:ze,done:Yt})},yt)}(Yt,zt,(yt=Q[Ue](yt)).done,yt.value)})}}}N.d(Me,{FC:()=>me,KL:()=>Ze,_T:()=>se,mG:()=>ce,qq:()=>ge})},4650:(pt,Me,N)=>{N.d(Me,{$8M:()=>os,$Z:()=>uw,AFp:()=>jm,ALo:()=>eC,AaK:()=>ce,AsE:()=>ua,CHM:()=>Rl,CRH:()=>Hc,CZH:()=>bp,CqO:()=>zw,D6c:()=>nI,EJc:()=>h0,EpF:()=>t_,F4k:()=>qw,FYo:()=>U_,FiY:()=>Ci,G48:()=>kA,GfV:()=>yh,Gpc:()=>Z,JOm:()=>Js,KtG:()=>Da,LFG:()=>Ee,LSH:()=>Ly,Lbi:()=>d0,MMx:()=>_h,NdJ:()=>pi,OlP:()=>Bt,Oqu:()=>d_,PXZ:()=>SA,Q6J:()=>ia,QGY:()=>Kf,QP$:()=>Zc,Qsj:()=>QT,R0b:()=>Ki,RDi:()=>Al,Rgc:()=>fp,SBq:()=>Vc,Sil:()=>EA,Suo:()=>hC,TTD:()=>no,TgZ:()=>Cc,VKq:()=>H_,X6Q:()=>E0,XFs:()=>ft,Xpm:()=>V,Xts:()=>xf,Y36:()=>fc,YKP:()=>al,YNc:()=>lm,Yjl:()=>J,Yz7:()=>Jt,ZZ4:()=>cy,_Bn:()=>vm,_UZ:()=>Xv,_Vd:()=>mh,_c5:()=>M0,_uU:()=>sE,aQg:()=>x0,c2e:()=>Sh,cJS:()=>Xt,cg1:()=>oh,dDg:()=>TA,deG:()=>ku,dqk:()=>Je,eFA:()=>Jm,ekj:()=>dm,eoX:()=>Wm,f3M:()=>gt,g9A:()=>nu,h0i:()=>da,hGG:()=>tI,hM9:()=>wm,hij:()=>fm,iGM:()=>cC,ifc:()=>Wt,ip1:()=>Bm,kL8:()=>yE,lG2:()=>ir,lcZ:()=>z_,lqb:()=>br,lri:()=>qm,n5z:()=>is,oAB:()=>It,oxw:()=>$r,q4F:()=>ll,qLn:()=>ju,qOj:()=>ta,qZA:()=>zi,rWj:()=>zm,s9C:()=>Di,sBO:()=>HC,sIi:()=>Fe,s_b:()=>Sm,soG:()=>Hm,tb:()=>Wc,tp0:()=>Ks,uIk:()=>Yv,vHH:()=>Ae,vpe:()=>vs,wAp:()=>xt,xp6:()=>we,z2F:()=>ty,zSh:()=>iv,zs3:()=>Fo});var l=N(7579),U=N(727),R=N(8306),se=N(6451),ae=N(3099);function ye(o){for(let s in o)if(o[s]===ye)return s;throw Error("Could not find renamed property on target object.")}function fe(o,s){for(const a in s)s.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=s[a])}function ce(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ce).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ve(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const z=ye({__forward_ref__:ye});function Z(o){return o.__forward_ref__=Z,o.toString=function(){return ce(this())},o}function te(o){return qe(o)?o():o}function qe(o){return"function"==typeof o&&o.hasOwnProperty(z)&&o.__forward_ref__===Z}class Ae extends Error{constructor(s,a){super(function He(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function ge(o){return"string"==typeof o?o:null==o?"":String(o)}function Oe(o,s){throw new Ae(-201,!1)}function zt(o,s){null==o&&function ze(o,s,a,c){throw new Error(`ASSERTION ERROR: ${o}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,o,null,"!=")}function Jt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Xt(o){return{providers:o.providers||[],imports:o.imports||[]}}function vn(o){return ki(o,ni)||ki(o,Pn)}function ki(o,s){return o.hasOwnProperty(s)?o[s]:null}function Ji(o){return o&&(o.hasOwnProperty(mi)||o.hasOwnProperty(Xi))?o[mi]:null}const ni=ye({\u0275prov:ye}),mi=ye({\u0275inj:ye}),Pn=ye({ngInjectableDef:ye}),Xi=ye({ngInjectorDef:ye});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let Ar;function en(o){const s=Ar;return Ar=o,s}function nr(o,s,a){const c=vn(o);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ft.Optional?null:void 0!==s?s:void Oe(ce(o))}function lr(o){return{toString:o}.toString()}var bn=(()=>((bn=bn||{})[bn.OnPush=0]="OnPush",bn[bn.Default=1]="Default",bn))(),Wt=(()=>{return(o=Wt||(Wt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Wt;var o})();const Je=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rr={},Rt=[],Sr=ye({\u0275cmp:ye}),wn=ye({\u0275dir:ye}),En=ye({\u0275pipe:ye}),tn=ye({\u0275mod:ye}),Zn=ye({\u0275fac:ye}),H=ye({__NG_ELEMENT_ID__:ye});let G=0;function V(o){return lr(()=>{const a=!0===o.standalone,c={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Rt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Wt.Emulated,id:"c"+G++,styles:o.styles||Rt,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.dependencies,y=o.features;return h.inputs=Qt(o.inputs,c),h.outputs=Qt(o.outputs),y&&y.forEach(b=>b(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(K).filter(xe):null,h.pipeDefs=f?()=>("function"==typeof f?f():f).map(be).filter(xe):null,h})}function K(o){return j(o)||$(o)}function xe(o){return null!==o}const Ge={};function It(o){return lr(()=>{const s={type:o.type,bootstrap:o.bootstrap||Rt,declarations:o.declarations||Rt,imports:o.imports||Rt,exports:o.exports||Rt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Ge[o.id]=o.type),s})}function Qt(o,s){if(null==o)return rr;const a={};for(const c in o)if(o.hasOwnProperty(c)){let h=o[c],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),a[h]=c,s&&(s[h]=f)}return a}const ir=V;function J(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function j(o){return o[Sr]||null}function $(o){return o[wn]||null}function be(o){return o[En]||null}function $e(o,s){const a=o[tn]||null;if(!a&&!0===s)throw new Error(`Type ${ce(o)} does not have '\u0275mod' property.`);return a}function Wn(o){return Array.isArray(o)&&"object"==typeof o[1]}function xr(o){return Array.isArray(o)&&!0===o[1]}function Il(o){return 0!=(8&o.flags)}function qo(o){return 2==(2&o.flags)}function ma(o){return 1==(1&o.flags)}function ri(o){return null!==o.template}function hu(o){return 0!=(256&o[2])}function vi(o,s){return o.hasOwnProperty(Zn)?o[Zn]:null}class to{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function no(){return zo}function zo(o){return o.type.prototype.ngOnChanges&&(o.setInput=ld),Kh}function Kh(){const o=pu(this),s=o?.current;if(s){const a=o.previous;if(a===rr)o.previous=s;else for(let c in s)a[c]=s[c];o.current=null,this.ngOnChanges(s)}}function ld(o,s,a,c){const h=pu(o)||function Ts(o,s){return o[fu]=s}(o,{previous:rr,current:null}),f=h.current||(h.current={}),y=h.previous,b=this.declaredInputs[a],C=y[b];f[b]=new to(C&&C.currentValue,s,y===rr),o[c]=s}no.ngInherit=!0;const fu="__ngSimpleChanges__";function pu(o){return o[fu]||null}let As;function Al(o){As=o}function cn(o){return!!o.listen}const mu={createRenderer:(o,s)=>{throw new Error("Renderer3 disabled")}};function Cn(o){for(;Array.isArray(o);)o=o[0];return o}function Ko(o,s){return Cn(s[o])}function Kn(o,s){return Cn(s[o.index])}function xn(o,s){return o.data[s]}function fr(o,s){const a=s[o];return Wn(a)?a:a[0]}function xl(o){return 4==(4&o[2])}function Qo(o){return 64==(64&o[2])}function Mr(o,s){return null==s?null:o[s]}function Ea(o){o[18]=0}function xo(o,s){o[5]+=s;let a=o,c=o[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const _t={lFrame:tf(null),bindingsEnabled:!0};function Os(){return _t.bindingsEnabled}function Ne(){return _t.lFrame.lView}function Ut(){return _t.lFrame.tView}function Rl(o){return _t.lFrame.contextLView=o,o[8]}function Da(o){return _t.lFrame.contextLView=null,o}function Ln(){let o=Jo();for(;null!==o&&64===o.type;)o=o.parent;return o}function Jo(){return _t.lFrame.currentTNode}function _i(o,s){const a=_t.lFrame;a.currentTNode=o,a.isParent=s}function Ns(){return _t.lFrame.isParent}function mr(){const o=_t.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function Fi(){return _t.lFrame.bindingIndex++}function ro(o){const s=_t.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,a}function vu(o,s){const a=_t.lFrame;a.bindingIndex=a.bindingRootIndex=o,es(s)}function es(o){_t.lFrame.currentDirectiveIndex=o}function Ll(){return _t.lFrame.currentQueryIndex}function Fs(o){_t.lFrame.currentQueryIndex=o}function Aa(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function _u(o,s,a){if(a&ft.SkipSelf){let h=s,f=o;for(;!(h=h.parent,null!==h||a&ft.Host||(h=Aa(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;s=h,o=f}const c=_t.lFrame=Vl();return c.currentTNode=s,c.lView=o,!0}function Li(o){const s=Vl(),a=o[1];_t.lFrame=s,s.currentTNode=a.firstChild,s.lView=o,s.tView=a,s.contextLView=o,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Vl(){const o=_t.lFrame,s=null===o?null:o.child;return null===s?tf(o):s}function tf(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Ul(){const o=_t.lFrame;return _t.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Bl=Ul;function bu(){const o=Ul();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Zr(){return _t.lFrame.selectedIndex}function Sa(o){_t.lFrame.selectedIndex=o}function Mn(){const o=_t.lFrame;return xn(o.tView,o.selectedIndex)}function Ma(o,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=o.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:k}=f;y&&(o.contentHooks||(o.contentHooks=[])).push(-a,y),b&&((o.contentHooks||(o.contentHooks=[])).push(a,b),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(a,b)),C&&(o.viewHooks||(o.viewHooks=[])).push(-a,C),T&&((o.viewHooks||(o.viewHooks=[])).push(a,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(a,T)),null!=k&&(o.destroyHooks||(o.destroyHooks=[])).push(a,k)}}function Eu(o,s,a){nf(o,s,3,a)}function Yn(o,s,a,c){(3&o[2])===a&&nf(o,s,a,c)}function Cu(o,s){let a=o[2];(3&a)===s&&(a&=2047,a+=1,o[2]=a)}function nf(o,s,a,c){const f=c??-1,y=s.length-1;let b=0;for(let C=void 0!==c?65535&o[18]:0;C<y;C++)if("number"==typeof s[C+1]){if(b=s[C],null!=c&&b>=c)break}else s[C]<0&&(o[18]+=65536),(b<f||-1==f)&&($l(o,a,s,C),o[18]=(4294901760&o[18])+C+2),C++}function $l(o,s,a,c){const h=a[c]<0,f=a[c+1],b=o[h?-a[c]:a[c]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{f.call(b)}finally{}}}else try{f.call(b)}finally{}}class Vs{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ka(o,s,a){const c=cn(o);let h=0;for(;h<a.length;){const f=a[h];if("number"==typeof f){if(0!==f)break;h++;const y=a[h++],b=a[h++],C=a[h++];c?o.setAttribute(s,b,C,y):s.setAttributeNS(y,b,C)}else{const y=f,b=a[++h];Tu(y)?c&&o.setProperty(s,y,b):c?o.setAttribute(s,y,b):s.setAttribute(y,b),h++}}return h}function rf(o){return 3===o||4===o||6===o}function Tu(o){return 64===o.charCodeAt(0)}function ts(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const h=s[c];"number"==typeof h?a=h:0===a||dn(o,a,h,null,-1===a||2===a?s[++c]:null)}}return o}function dn(o,s,a,c,h){let f=0,y=o.length;if(-1===s)y=-1;else for(;f<o.length;){const b=o[f++];if("number"==typeof b){if(b===s){y=-1;break}if(b>s){y=f-1;break}}}for(;f<o.length;){const b=o[f];if("number"==typeof b)break;if(b===a){if(null===c)return void(null!==h&&(o[f+1]=h));if(c===o[f+1])return void(o[f+2]=h)}f++,null!==c&&f++,null!==h&&f++}-1!==y&&(o.splice(y,0,s),f=y+1),o.splice(f++,0,a),null!==c&&o.splice(f++,0,c),null!==h&&o.splice(f++,0,h)}function fn(o){return-1!==o}function bt(o){return 32767&o}function pr(o,s){let a=function Gr(o){return o>>16}(o),c=s;for(;a>0;)c=c[15],a--;return c}let yr=!0;function Au(o){const s=yr;return yr=o,s}let Ra=0;const qr={};function Mt(o,s){const a=ns(o,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(o.injectorIndex=s.length,Gl(c.data,o),Gl(s,null),Gl(c.blueprint,null));const h=Us(o,s),f=o.injectorIndex;if(fn(h)){const y=bt(h),b=pr(h,s),C=b[1].data;for(let T=0;T<8;T++)s[f+T]=b[y+T]|C[y+T]}return s[f+8]=h,f}function Gl(o,s){o.push(0,0,0,0,0,0,0,0,s)}function ns(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Us(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,c=null,h=s;for(;null!==h;){if(c=mn(h),null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function so(o,s,a){!function oo(o,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(H)&&(c=a[H]),null==c&&(c=a[H]=Ra++);const h=255&c;s.data[o+(h>>5)]|=1<<h}(o,s,a)}function Bs(o,s,a){if(a&ft.Optional)return o;Oe()}function js(o,s,a,c){if(a&ft.Optional&&void 0===c&&(c=null),0==(a&(ft.Self|ft.Host))){const h=o[9],f=en(void 0);try{return h?h.get(s,c,a&ft.Optional):nr(s,c,a&ft.Optional)}finally{en(f)}}return Bs(c,0,a)}function ql(o,s,a,c=ft.Default,h){if(null!==o){if(1024&s[2]){const y=function zl(o,s,a,c,h){let f=o,y=s;for(;null!==f&&null!==y&&1024&y[2]&&!(256&y[2]);){const b=xu(f,y,a,c|ft.Self,qr);if(b!==qr)return b;let C=f.parent;if(!C){const T=y[21];if(T){const k=T.get(a,qr,c);if(k!==qr)return k}C=mn(y),y=y[15]}f=C}return h}(o,s,a,c,qr);if(y!==qr)return y}const f=xu(o,s,a,c,qr);if(f!==qr)return f}return js(s,a,c,h)}function xu(o,s,a,c,h){const f=function rs(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(H)?o[H]:void 0;return"number"==typeof s?s>=0?255&s:Hs:s}(a);if("function"==typeof f){if(!_u(s,o,c))return c&ft.Host?Bs(h,0,c):js(s,a,c,h);try{const y=f(c);if(null!=y||c&ft.Optional)return y;Oe()}finally{Bl()}}else if("number"==typeof f){let y=null,b=ns(o,s),C=-1,T=c&ft.Host?s[16][6]:null;for((-1===b||c&ft.SkipSelf)&&(C=-1===b?Us(o,s):s[b+8],-1!==C&&oi(c,!1)?(y=s[1],b=bt(C),s=pr(C,s)):b=-1);-1!==b;){const k=s[1];if($s(f,b,k.data)){const P=gd(b,s,a,y,c,T);if(P!==qr)return P}C=s[b+8],-1!==C&&oi(c,s[1].data[b+8]===T)&&$s(f,b,s)?(y=k,b=bt(C),s=pr(C,s)):b=-1}}return h}function gd(o,s,a,c,h,f){const y=s[1],b=y.data[o+8],k=bi(b,y,a,null==c?qo(b)&&yr:c!=y&&0!=(3&b.type),h&ft.Host&&f===b);return null!==k?Oa(s,y,k,b):qr}function bi(o,s,a,c,h){const f=o.providerIndexes,y=s.data,b=1048575&f,C=o.directiveStart,k=f>>20,B=h?b+k:o.directiveEnd;for(let X=c?b:b+k;X<B;X++){const De=y[X];if(X<C&&a===De||X>=C&&De.type===a)return X}if(h){const X=y[C];if(X&&ri(X)&&X.type===a)return C}return null}function Oa(o,s,a,c){let h=o[a];const f=s.data;if(function Hl(o){return o instanceof Vs}(h)){const y=h;y.resolving&&function Ke(o,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${o}${a}`)}(function me(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ge(o)}(f[a]));const b=Au(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?en(y.injectImpl):null;_u(o,c,ft.Default);try{h=o[a]=y.factory(void 0,f,o,c),s.firstCreatePass&&a>=c.directiveStart&&function Mo(o,s,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:f}=s.type.prototype;if(c){const y=zo(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(o,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(o,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-o,h),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(o,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(o,f))}(a,f[a],s)}finally{null!==C&&en(C),Au(b),y.resolving=!1,Bl()}}return h}function $s(o,s,a){return!!(a[s+(o>>5)]&1<<o)}function oi(o,s){return!(o&ft.Self||o&ft.Host&&s)}class ao{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return ql(this._tNode,this._lView,s,c,a)}}function Hs(){return new ao(Ln(),Ne())}function is(o){return lr(()=>{const s=o.prototype.constructor,a=s[Zn]||uo(s),c=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==c;){const f=h[Zn]||uo(h);if(f&&f!==a)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function uo(o){return qe(o)?()=>{const s=uo(te(o));return s&&s()}:vi(o)}function mn(o){const s=o[1],a=s.type;return 2===a?s.declTNode:1===a?o[6]:null}function os(o){return function kr(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const a=o.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const f=a[h];if(rf(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(f===s)return a[h+1];h+=2}}}return null}(Ln(),o)}const kn="__parameters__";function Vi(o,s,a){return lr(()=>{const c=function Wl(o){return function(...a){if(o){const c=o(...a);for(const h in c)this[h]=c[h]}}}(s);function h(...f){if(this instanceof h)return c.apply(this,f),this;const y=new h(...f);return b.annotation=y,b;function b(C,T,k){const P=C.hasOwnProperty(kn)?C[kn]:Object.defineProperty(C,kn,{value:[]})[kn];for(;P.length<=k;)P.push(null);return(P[k]=P[k]||[]).push(y),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class Bt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Jt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ku=new Bt("AnalyzeForEntryComponents");function Qn(o,s){void 0===s&&(s=o);for(let a=0;a<o.length;a++){let c=o[a];Array.isArray(c)?(s===o&&(s=o.slice(0,a)),Qn(c,s)):s!==o&&s.push(c)}return s}function si(o,s){o.forEach(a=>Array.isArray(a)?si(a,s):s(a))}function vd(o,s,a){s>=o.length?o.push(a):o.splice(s,0,a)}function Ru(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Rr(o,s,a){let c=Nt(o,s);return c>=0?o[1|c]=a:(c=~c,function Yl(o,s,a,c){let h=o.length;if(h==s)o.push(a,c);else if(1===h)o.push(c,o[0]),o[0]=a;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=a,o[s+1]=c}}(o,c,s,a)),c}function bd(o,s){const a=Nt(o,s);if(a>=0)return o[1|a]}function Nt(o,s){return function us(o,s,a){let c=0,h=o.length>>a;for(;h!==c;){const f=c+(h-c>>1),y=o[f<<a];if(s===y)return f<<a;y>s?h=f:c=f+1}return~(h<<a)}(o,s,1)}const Ws={},Jn="__NG_DI_FLAG__",Ur="ngTempTokenPath",I=/\n/gm,M="__source";let F;function Y(o){const s=F;return F=o,s}function le(o,s=ft.Default){if(void 0===F)throw new Ae(-203,!1);return null===F?nr(o,void 0,s):F.get(o,s&ft.Optional?null:void 0,s)}function Ee(o,s=ft.Default){return(function _n(){return Ar}()||le)(te(o),s)}function gt(o,s=ft.Default){return Ee(o,s)}function Dt(o){const s=[];for(let a=0;a<o.length;a++){const c=te(o[a]);if(Array.isArray(c)){if(0===c.length)throw new Ae(900,!1);let h,f=ft.Default;for(let y=0;y<c.length;y++){const b=c[y],C=mt(b);"number"==typeof C?-1===C?h=b.token:f|=C:h=b}s.push(Ee(h,f))}else s.push(Ee(c))}return s}function Ye(o,s){return o[Jn]=s,o.prototype[Jn]=s,o}function mt(o){return o[Jn]}const Ci=Ye(Vi("Optional"),8),Ks=Ye(Vi("SkipSelf"),4);class xd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function $i(o){return o instanceof xd?o.changingThisBreaksApplicationSecurity:o}const Zt=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,fo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var _r=(()=>((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r))();function Ly(o){const s=function _f(){const o=Ne();return o&&o[12]}();return s?s.sanitize(_r.URL,o)||"":function Uu(o,s){const a=function _(o){return o instanceof xd&&o.getTypeName()||null}(o);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(o,"URL")?$i(o):function Hi(o){return(o=String(o)).match(Zt)||o.match(fo)?o:"unsafe:"+o}(ge(o))}function ug(o){return o.ngOriginalError}class ju{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&ug(s);for(;a&&ug(a);)a=ug(a);return a||null}}const wf=new Map;let uD=0;const sc="__ngContext__";function ci(o,s){Wn(s)?(o[sc]=s[20],function lg(o){wf.set(o[20],o)}(s)):o[sc]=s}function Ef(o){const s=o[sc];return"number"==typeof s?function Cb(o){return wf.get(o)||null}(s):s||null}function Uy(o){const s=Ef(o);return s?Wn(s)?s:s.lView:null}const pD=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Je))();function $u(o){return o instanceof Function?o():o}var Js=(()=>((Js=Js||{})[Js.Important=1]="Important",Js[Js.DashCase=2]="DashCase",Js))();function jy(o,s){return undefined(o,s)}function If(o){const s=o[3];return xr(s)?s[3]:s}function Df(o){return Ob(o[13])}function Hy(o){return Ob(o[4])}function Ob(o){for(;null!==o&&!xr(o);)o=o[4];return o}function uc(o,s,a,c,h){if(null!=c){let f,y=!1;xr(c)?f=c:Wn(c)&&(y=!0,c=c[0]);const b=Cn(c);0===o&&null!==a?null==h?MD(s,a,b):Hu(s,a,b,h||null,!0):1===o&&null!==a?Hu(s,a,b,h||null,!0):2===o?function Ub(o,s,a){const c=fg(o,s);c&&function Fb(o,s,a,c){cn(o)?o.removeChild(s,a,c):s.removeChild(a)}(o,c,s,a)}(s,b,y):3===o&&s.destroyNode(b),null!=f&&function ND(o,s,a,c,h){const f=a[7];f!==Cn(a)&&uc(s,o,c,f,h);for(let b=10;b<a.length;b++){const C=a[b];Nd(C[1],C,o,s,c,f)}}(s,o,f,a,h)}}function Zy(o,s,a){if(cn(o))return o.createElement(s,a);{const c=null!==a?function dd(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===c?o.createElement(s):o.createElementNS(c,s)}}function Nb(o,s){const a=o[9],c=a.indexOf(s),h=s[3];512&s[2]&&(s[2]&=-513,xo(h,-1)),a.splice(c,1)}function hg(o,s){if(o.length<=10)return;const a=10+s,c=o[a];if(c){const h=c[17];null!==h&&h!==o&&Nb(h,c),s>0&&(o[a-1][4]=c[4]);const f=Ru(o,10+s);!function CD(o,s){Nd(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const y=f[19];null!==y&&y.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Af(o,s){if(!(128&s[2])){const a=s[11];cn(a)&&a.destroyNode&&Nd(o,s,a,3,null,null),function TD(o){let s=o[13];if(!s)return Od(o[1],o);for(;s;){let a=null;if(Wn(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==o;)Wn(s)&&Od(s[1],s),s=s[3];null===s&&(s=o),Wn(s)&&Od(s[1],s),a=s&&s[4]}s=a}}(s)}}function Od(o,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function xD(o,s){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let c=0;c<a.length;c+=2){const h=s[a[c]];if(!(h instanceof Vs)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const b=h[f[y]],C=f[y+1];try{C.call(b)}finally{}}else try{f.call(h)}finally{}}}}(o,s),function SD(o,s){const a=o.cleanup,c=s[7];let h=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+1],b="function"==typeof y?y(s):Cn(s[y]),C=c[h=a[f+2]],T=a[f+3];"boolean"==typeof T?b.removeEventListener(a[f],C,T):T>=0?c[h=T]():c[h=-T].unsubscribe(),f+=2}else{const y=c[h=a[f+1]];a[f].call(y)}if(null!==c){for(let f=h+1;f<c.length;f++)c[f]();s[7]=null}}(o,s),1===s[1].type&&cn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&xr(s[3])){a!==s[3]&&Nb(a,s);const c=s[19];null!==c&&c.detachView(o)}!function lD(o){wf.delete(o[20])}(s)}}function Gy(o,s,a){return function Pb(o,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const h=o.data[c.directiveStart].encapsulation;if(h===Wt.None||h===Wt.Emulated)return null}return Kn(c,a)}(o,s.parent,a)}function Hu(o,s,a,c,h){cn(o)?o.insertBefore(s,a,c,h):(qy(s)?s.content:s).insertBefore(a,c,h)}function MD(o,s,a){cn(o)?o.appendChild(s,a):(qy(s)?s.content:s).appendChild(a)}function kD(o,s,a,c,h){null!==c?Hu(o,s,a,c,h):MD(o,s,a)}function qy(o){return"TEMPLATE"===o.tagName&&void 0!==o.content}function fg(o,s){return cn(o)?o.parentNode(s):s.parentNode}let zy=function pg(o,s,a){return 40&o.type?Kn(o,a):null};function mg(o,s,a,c){const h=Gy(o,c,s),f=s[11],b=function RD(o,s,a){return zy(o,s,a)}(c.parent||s[6],c,s);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)kD(f,h,a[C],b,!1);else kD(f,h,a,b,!1)}function Sf(o,s){if(null!==s){const a=s.type;if(3&a)return Kn(s,o);if(4&a)return Wy(-1,o[s.index]);if(8&a){const c=s.child;if(null!==c)return Sf(o,c);{const h=o[s.index];return xr(h)?Wy(-1,h):Cn(h)}}if(32&a)return jy(s,o)()||Cn(o[s.index]);{const c=Vb(o,s);return null!==c?Array.isArray(c)?c[0]:Sf(If(o[16]),c):Sf(o,s.next)}}return null}function Vb(o,s){return null!==s?o[16][6].projection[s.projection]:null}function Wy(o,s){const a=10+o+1;if(a<s.length){const c=s[a],h=c[1].firstChild;if(null!==h)return Sf(c,h)}return s[7]}function Ky(o,s,a,c,h,f,y){for(;null!=a;){const b=c[a.index],C=a.type;if(y&&0===s&&(b&&ci(Cn(b),c),a.flags|=4),64!=(64&a.flags))if(8&C)Ky(o,s,a.child,c,h,f,!1),uc(s,o,h,b,f);else if(32&C){const T=jy(a,c);let k;for(;k=T();)uc(s,o,h,k,f);uc(s,o,h,b,f)}else 16&C?Bb(o,s,c,a,h,f):uc(s,o,h,b,f);a=y?a.projectionNext:a.next}}function Nd(o,s,a,c,h,f){Ky(a,c,o.firstChild,s,h,f,!1)}function Bb(o,s,a,c,h,f){const y=a[16],C=y[6].projection[c.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)uc(s,o,h,C[T],f);else Ky(o,s,C,y[3],h,f,!0)}function Yy(o,s,a){cn(o)?o.setAttribute(s,"style",a):s.style.cssText=a}function Qy(o,s,a){cn(o)?""===a?o.removeAttribute(s,"class"):o.setAttribute(s,"class",a):s.className=a}function jb(o,s,a){let c=o.length;for(;;){const h=o.indexOf(s,a);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const f=s.length;if(h+f===c||o.charCodeAt(h+f)<=32)return h}a=h+1}}const $b="ng-template";function Jy(o,s,a){let c=0;for(;c<o.length;){let h=o[c++];if(a&&"class"===h){if(h=o[c],-1!==jb(h.toLowerCase(),s,0))return!0}else if(1===h){for(;c<o.length&&"string"==typeof(h=o[c++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function Hb(o){return 4===o.type&&o.value!==$b}function LD(o,s,a){return s===(4!==o.type||a?o.value:$b)}function VD(o,s,a){let c=4;const h=o.attrs||[],f=function Gb(o){for(let s=0;s<o.length;s++)if(rf(o[s]))return s;return o.length}(h);let y=!1;for(let b=0;b<s.length;b++){const C=s[b];if("number"!=typeof C){if(!y)if(4&c){if(c=2|1&c,""!==C&&!LD(o,C,a)||""===C&&1===s.length){if(Xs(c))return!1;y=!0}}else{const T=8&c?C:s[++b];if(8&c&&null!==o.attrs){if(!Jy(o.attrs,T,a)){if(Xs(c))return!1;y=!0}continue}const P=UD(8&c?"class":C,h,Hb(o),a);if(-1===P){if(Xs(c))return!1;y=!0;continue}if(""!==T){let B;B=P>f?"":h[P+1].toLowerCase();const X=8&c?B:null;if(X&&-1!==jb(X,T,0)||2&c&&T!==B){if(Xs(c))return!1;y=!0}}}}else{if(!y&&!Xs(c)&&!Xs(C))return!1;if(y&&Xs(C))continue;y=!1,c=C|1&c}}return Xs(c)||y}function Xs(o){return 0==(1&o)}function UD(o,s,a,c){if(null===s)return-1;let h=0;if(c||!a){let f=!1;for(;h<s.length;){const y=s[h];if(y===o)return h;if(3===y||6===y)f=!0;else{if(1===y||2===y){let b=s[++h];for(;"string"==typeof b;)b=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=f?1:2}return-1}return function gr(o,s){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const c=o[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,o)}function Zb(o,s,a=!1){for(let c=0;c<s.length;c++)if(VD(o,s[c],a))return!0;return!1}function qb(o,s){return o?":not("+s.trim()+")":s}function jD(o){let s=o[0],a=1,c=2,h="",f=!1;for(;a<o.length;){let y=o[a];if("string"==typeof y)if(2&c){const b=o[++a];h+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!Xs(y)&&(s+=qb(f,h),h=""),c=y,f=f||!Xs(c);a++}return""!==h&&(s+=qb(f,h)),s}const jt={};function we(o){Po(Ut(),Ne(),Zr()+o,!1)}function Po(o,s,a,c){if(!c)if(3==(3&s[2])){const f=o.preOrderCheckHooks;null!==f&&Eu(s,f,a)}else{const f=o.preOrderHooks;null!==f&&Yn(s,f,0,a)}Sa(a)}const xf=new Bt("ENVIRONMENT_INITIALIZER"),Pd=new Bt("INJECTOR_DEF_TYPES");function $D(...o){return{\u0275providers:yg(0,o)}}function yg(o,...s){const a=[],c=new Set;let h;return si(s,f=>{const y=f;nv(y,a,[],c)&&(h||(h=[]),h.push(y))}),void 0!==h&&Wb(h,a),a}function Wb(o,s){for(let a=0;a<o.length;a++){const{providers:h}=o[a];si(h,f=>{s.push(f)})}}function nv(o,s,a,c){if(!(o=te(o)))return!1;let h=null,f=Ji(o);const y=!f&&j(o);if(f||y){if(y&&!y.standalone)return!1;h=o}else{const C=o.ngModule;if(f=Ji(C),!f)return!1;h=C}const b=c.has(h);if(y){if(b)return!1;if(c.add(h),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of C)nv(T,s,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!b){let T;c.add(h);try{si(f.imports,k=>{nv(k,s,a,c)&&(T||(T=[]),T.push(k))})}finally{}void 0!==T&&Wb(T,s)}if(!b){const T=vi(h)||(()=>new h);s.push({provide:h,useFactory:T,deps:Rt},{provide:Pd,useValue:h,multi:!0},{provide:xf,useValue:()=>Ee(h),multi:!0})}const C=f.providers;null==C||b||si(C,k=>{s.push(k)})}}return h!==o&&void 0!==o.providers}const Kr=ye({provide:String,useValue:ye});function Fd(o){return null!==o&&"object"==typeof o&&Kr in o}function cc(o){return"function"==typeof o}const vg=new Bt("INJECTOR",-1);class rv{get(s,a=Ws){if(a===Ws){const c=new Error(`NullInjectorError: No provider for ${ce(s)}!`);throw c.name="NullInjectorError",c}return a}}const iv=new Bt("Set Injector scope."),Mf={},ov={};let Ld;function _g(){return void 0===Ld&&(Ld=new rv),Ld}class br{}class bg extends br{constructor(s,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,av(s,y=>this.processProvider(y)),this.records.set(vg,dc(void 0,this)),h.has("environment")&&this.records.set(br,dc(void 0,this));const f=this.records.get(iv);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Pd.multi,Rt,ft.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}get(s,a=Ws,c=ft.Default){this.assertNotDestroyed();const h=Y(this),f=en(void 0);try{if(!(c&ft.SkipSelf)){let b=this.records.get(s);if(void 0===b){const C=function sv(o){return"function"==typeof o||"object"==typeof o&&o instanceof Bt}(s)&&vn(s);b=C&&this.injectableDefInScope(C)?dc(Yr(s),Mf):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(c&ft.Self?_g():this.parent).get(s,a=c&ft.Optional&&a===Ws?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Ur]=y[Ur]||[]).unshift(ce(s)),h)throw y;return function vr(o,s,a,c){const h=o[Ur];throw s[M]&&h.unshift(s[M]),o.message=function jn(o,s,a,c=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=ce(s);if(Array.isArray(s))h=s.map(ce).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let b=s[y];f.push(y+":"+("string"==typeof b?JSON.stringify(b):ce(b)))}h=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${o.replace(I,"\n  ")}`}("\n"+o.message,h,a,c),o.ngTokenPath=h,o[Ur]=null,o}(y,s,"R3InjectorError",this.source)}throw y}finally{en(f),Y(h)}}resolveInjectorInitializers(){const s=Y(this),a=en(void 0);try{const c=this.get(xf.multi,Rt,ft.Self);for(const h of c)h()}finally{Y(s),en(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(ce(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(s){let a=cc(s=te(s))?s:te(s&&s.provide);const c=function Yb(o){return Fd(o)?dc(void 0,o.useValue):dc(wg(o),Mf)}(s);if(cc(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=dc(void 0,Mf,!0),h.factory=()=>Dt(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===Mf&&(a.value=ov,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Jb(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=te(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Yr(o){const s=vn(o),a=null!==s?s.factory:vi(o);if(null!==a)return a;if(o instanceof Bt)throw new Ae(204,!1);if(o instanceof Function)return function Kb(o){const s=o.length;if(s>0)throw function as(o,s){const a=[];for(let c=0;c<o;c++)a.push(s);return a}(s,"?"),new Ae(204,!1);const a=function Tr(o){const s=o&&(o[ni]||o[Pn]);if(s){const a=function Tn(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new Ae(204,!1)}function wg(o,s,a){let c;if(cc(o)){const h=te(o);return vi(h)||Yr(h)}if(Fd(o))c=()=>te(o.useValue);else if(function ja(o){return!(!o||!o.useFactory)}(o))c=()=>o.useFactory(...Dt(o.deps||[]));else if(function Br(o){return!(!o||!o.useExisting)}(o))c=()=>Ee(te(o.useExisting));else{const h=te(o&&(o.useClass||o.provide));if(!function Qb(o){return!!o.deps}(o))return vi(h)||Yr(h);c=()=>new h(...Dt(o.deps))}return c}function dc(o,s,a=!1){return{factory:o,value:s,multi:a?[]:void 0}}function ZD(o){return!!o.\u0275providers}function av(o,s){for(const a of o)Array.isArray(a)?av(a,s):ZD(a)?av(a.\u0275providers,s):s(a)}function hc(o,s=null,a=null,c){const h=uv(o,s,a,c);return h.resolveInjectorInitializers(),h}function uv(o,s=null,a=null,c,h=new Set){const f=[a||Rt,$D(o)];return c=c||("object"==typeof o?void 0:ce(o)),new bg(f,s||_g(),c||null,h)}let Fo=(()=>{class o{static create(a,c){if(Array.isArray(a))return hc({name:""},c,a,"");{const h=a.name??"";return hc({name:h},a.parent,a.providers,h)}}}return o.THROW_IF_NOT_FOUND=Ws,o.NULL=new rv,o.\u0275prov=Jt({token:o,providedIn:"any",factory:()=>Ee(vg)}),o.__NG_ELEMENT_ID__=-1,o})();function fc(o,s=ft.Default){const a=Ne();return null===a?Ee(o,s):ql(Ln(),a,te(o),s)}function uw(){throw new Error("invalid")}function Rg(o,s){return o<<17|s<<2}function Zi(o){return o>>17&32767}function Ng(o){return 2|o}function $a(o){return(131068&o)>>2}function pc(o,s){return-131069&o|s<<2}function Pg(o){return 1|o}function gc(o,s){const a=o.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],f=a[c+1];if(-1!==f){const y=o.data[f];Fs(h),y.contentQueries(2,s[f],f)}}}function $d(o,s,a,c,h,f,y,b,C,T,k){const P=s.blueprint.slice();return P[0]=h,P[2]=76|c,(null!==k||o&&1024&o[2])&&(P[2]|=1024),Ea(P),P[3]=P[15]=o,P[8]=a,P[10]=y||o&&o[10],P[11]=b||o&&o[11],P[12]=C||o&&o[12]||null,P[9]=T||o&&o[9]||null,P[6]=f,P[20]=function Eb(){return uD++}(),P[21]=k,P[16]=2==s.type?o[16]:P,P}function Hd(o,s,a,c,h){let f=o.data[s];if(null===f)f=function Ga(o,s,a,c,h){const f=Jo(),y=Ns(),C=o.data[s]=function rT(o,s,a,c,h,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,c,h);return null===o.firstChild&&(o.firstChild=C),null!==f&&(y?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C)),C}(o,s,a,c,h),function Xo(){return _t.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=h;const y=function Ta(){const o=_t.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return _i(f,!0),f}function Gi(o,s,a,c){if(0===a)return-1;const h=s.length;for(let f=0;f<a;f++)s.push(c),o.blueprint.push(c),o.data.push(null);return h}function zu(o,s,a){Li(s);try{const c=o.viewQuery;null!==c&&Jg(1,c,a);const h=o.template;null!==h&&Mv(o,s,h,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&gc(o,s),o.staticViewQueries&&Jg(2,o.viewQuery,a);const f=o.components;null!==f&&function mc(o,s){for(let a=0;a<s.length;a++)lT(o,s[a])}(s,f)}catch(c){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),c}finally{s[2]&=-5,bu()}}function qa(o,s,a,c){const h=s[2];if(128!=(128&h)){Li(s);try{Ea(s),function hd(o){return _t.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&Mv(o,s,a,2,c);const y=3==(3&h);if(y){const T=o.preOrderCheckHooks;null!==T&&Eu(s,T,null)}else{const T=o.preOrderHooks;null!==T&&Yn(s,T,0,null),Cu(s,0)}if(function uT(o){for(let s=Df(o);null!==s;s=Hy(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const h=a[c],f=h[3];0==(512&h[2])&&xo(f,1),h[2]|=512}}}(s),function Uf(o){for(let s=Df(o);null!==s;s=Hy(s))for(let a=10;a<s.length;a++){const c=s[a],h=c[1];Qo(c)&&qa(h,c,h.template,c[8])}}(s),null!==o.contentQueries&&gc(o,s),y){const T=o.contentCheckHooks;null!==T&&Eu(s,T)}else{const T=o.contentHooks;null!==T&&Yn(s,T,1),Cu(s,1)}!function Sv(o,s){const a=o.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)Sa(~h);else{const f=h,y=a[++c],b=a[++c];vu(y,f),b(2,s[f])}}}finally{Sa(-1)}}(o,s);const b=o.components;null!==b&&function xv(o,s){for(let a=0;a<s.length;a++)wr(o,s[a])}(s,b);const C=o.viewQuery;if(null!==C&&Jg(2,C,c),y){const T=o.viewCheckHooks;null!==T&&Eu(s,T)}else{const T=o.viewHooks;null!==T&&Yn(s,T,2),Cu(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,xo(s[3],-1))}finally{bu()}}}function Gg(o,s,a,c){const h=s[10],y=xl(s);try{!y&&h.begin&&h.begin(),y&&zu(o,s,c),qa(o,s,a,c)}finally{!y&&h.end&&h.end()}}function Mv(o,s,a,c,h){const f=Zr(),y=2&c;try{Sa(-1),y&&s.length>22&&Po(o,s,22,!1),a(c,h)}finally{Sa(f)}}function Zd(o,s,a){!Os()||(function Tw(o,s,a,c){const h=a.directiveStart,f=a.directiveEnd;o.firstCreatePass||Mt(a,s),ci(c,s);const y=a.initialInputs;for(let b=h;b<f;b++){const C=o.data[b],T=ri(C);T&&sT(s,a,C);const k=Oa(s,o,b,a);ci(k,s),null!==y&&zg(0,b-h,k,C,0,y),T&&(fr(a.index,s)[8]=k)}}(o,s,a,Kn(a,s)),128==(128&a.flags)&&function Aw(o,s,a){const c=a.directiveStart,h=a.directiveEnd,f=a.index,y=function ef(){return _t.lFrame.currentDirectiveIndex}();try{Sa(f);for(let b=c;b<h;b++){const C=o.data[b],T=s[b];es(b),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&qg(C,T)}}finally{Sa(-1),es(y)}}(o,s,a))}function kv(o,s,a=Kn){const c=s.localNames;if(null!==c){let h=s.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],b=-1===y?a(s,o):o[y];o[h++]=b}}}function _w(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Wu(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function Wu(o,s,a,c,h,f,y,b,C,T){const k=22+c,P=k+h,B=function Ff(o,s){const a=[];for(let c=0;c<s;c++)a.push(c<o?null:jt);return a}(k,P),X="function"==typeof T?T():T;return B[1]={type:o,blueprint:B,template:a,queries:null,viewQuery:b,declTNode:s,data:B.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:X,incompleteFirstPass:!1}}function Ew(o,s,a,c){const h=qd(s);null===a?h.push(c):(h.push(a),o.firstCreatePass&&Bv(o).push(c,h.length-1))}function Cw(o,s,a){for(let c in o)if(o.hasOwnProperty(c)){const h=o[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,h):a[c]=[s,h]}return a}function qi(o,s,a,c,h,f,y,b){const C=Kn(s,a);let k,T=s.inputs;!b&&null!=T&&(k=T[c])?(jv(o,a,k,c,h),qo(s)&&function Iw(o,s){const a=fr(s,o);16&a[2]||(a[2]|=32)}(a,s.index)):3&s.type&&(c=function Ku(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(c),h=null!=y?y(h,s.value||"",c):h,cn(f)?f.setProperty(C,c,h):Tu(c)||(C.setProperty?C.setProperty(c,h):C[c]=h))}function Rv(o,s,a,c){let h=!1;if(Os()){const f=function Nv(o,s,a){const c=o.directiveRegistry;let h=null;if(c)for(let f=0;f<c.length;f++){const y=c[f];Zb(a,y.selectors,!1)&&(h||(h=[]),so(Mt(a,s),o,y.type),ri(y)?(Pv(o,a),h.unshift(y)):h.push(y))}return h}(o,s,a),y=null===c?null:{"":-1};if(null!==f){h=!0,xw(a,o.data.length,f.length);for(let k=0;k<f.length;k++){const P=f[k];P.providersResolver&&P.providersResolver(P)}let b=!1,C=!1,T=Gi(o,s,f.length,null);for(let k=0;k<f.length;k++){const P=f[k];a.mergedAttrs=ts(a.mergedAttrs,P.hostAttrs),Mw(o,a,s,T,P),Fv(T,P,y),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const B=P.type.prototype;!b&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(a.index),b=!0),!C&&(B.ngOnChanges||B.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(a.index),C=!0),T++}!function Lf(o,s){const c=s.directiveEnd,h=o.data,f=s.attrs,y=[];let b=null,C=null;for(let T=s.directiveStart;T<c;T++){const k=h[T],P=k.inputs,B=null===f||Hb(s)?null:Lv(P,f);y.push(B),b=Cw(P,T,b),C=Cw(k.outputs,T,C)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=16),b.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=b,s.outputs=C}(o,a)}y&&function Sw(o,s,a){if(s){const c=o.localNames=[];for(let h=0;h<s.length;h+=2){const f=a[s[h+1]];if(null==f)throw new Ae(-301,!1);c.push(s[h],f)}}}(a,c,y)}return a.mergedAttrs=ts(a.mergedAttrs,a.attrs),h}function Ov(o,s,a,c,h,f){const y=f.hostBindings;if(y){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const C=~s.index;(function oT(o){let s=o.length;for(;s>0;){const a=o[--s];if("number"==typeof a&&a<0)return a}return 0})(b)!=C&&b.push(C),b.push(c,h,y)}}function qg(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Pv(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function Fv(o,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=o;ri(s)&&(a[""]=o)}}function xw(o,s,a){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+a,o.providerIndexes=s}function Mw(o,s,a,c,h){o.data[c]=h;const f=h.factory||(h.factory=vi(h.type)),y=new Vs(f,ri(h),fc);o.blueprint[c]=y,a[c]=y,Ov(o,s,0,c,Gi(o,a,h.hostVars,jt),h)}function sT(o,s,a){const c=Kn(s,o),h=_w(a),f=o[10],y=Kg(o,$d(o,h,null,a.onPush?32:16,c,s,f,f.createRenderer(c,a),null,null,null));o[s.index]=y}function po(o,s,a,c,h,f){const y=Kn(o,s);!function yc(o,s,a,c,h,f,y){if(null==f)cn(o)?o.removeAttribute(s,h,a):s.removeAttribute(h);else{const b=null==y?ge(f):y(f,c||"",h);cn(o)?o.setAttribute(s,h,b,a):a?s.setAttributeNS(a,h,b):s.setAttribute(h,b)}}(s[11],y,f,o.value,a,c,h)}function zg(o,s,a,c,h,f){const y=f[s];if(null!==y){const b=c.setInput;for(let C=0;C<y.length;){const T=y[C++],k=y[C++],P=y[C++];null!==b?c.setInput(a,P,T,k):a[k]=P}}}function Lv(o,s){let a=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,o[h],s[c+1])),c+=2}else c+=2;else c+=4}return a}function Gd(o,s,a,c){return new Array(o,!0,!1,s,null,0,c,a,null,null)}function wr(o,s){const a=fr(s,o);if(Qo(a)){const c=a[1];48&a[2]?qa(c,a,c.template,a[8]):a[5]>0&&Wg(a)}}function Wg(o){for(let c=Df(o);null!==c;c=Hy(c))for(let h=10;h<c.length;h++){const f=c[h];if(512&f[2]){const y=f[1];qa(y,f,y.template,f[8])}else f[5]>0&&Wg(f)}const a=o[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=fr(a[c],o);Qo(h)&&h[5]>0&&Wg(h)}}function lT(o,s){const a=fr(s,o),c=a[1];(function cT(o,s){for(let a=s.length;a<o.blueprint.length;a++)s.push(o.blueprint[a])})(c,a),zu(c,a,a[8])}function Kg(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function Vv(o){for(;o;){o[2]|=32;const s=If(o);if(hu(o)&&!s)return o;o=s}return null}function Bf(o){!function Yg(o){for(let s=0;s<o.components.length;s++){const a=o.components[s],c=Uy(a);if(null!==c){const h=c[1];Gg(h,c,h.template,a)}}}(o[8])}function Jg(o,s,a){Fs(0),s(o,a)}const Uv=(()=>Promise.resolve(null))();function qd(o){return o[7]||(o[7]=[])}function Bv(o){return o.cleanup||(o.cleanup=[])}function jf(o,s){const a=o[9],c=a?a.get(ju,null):null;c&&c.handleError(s)}function jv(o,s,a,c,h){for(let f=0;f<a.length;){const y=a[f++],b=a[f++],C=s[y],T=o.data[y];null!==T.setInput?T.setInput(C,h,c,b):C[b]=h}}function ds(o,s,a){const c=Ko(s,o);!function dg(o,s,a){cn(o)?o.setValue(s,a):s.textContent=a}(o[11],c,a)}function vc(o,s,a){let c=a?o.styles:null,h=a?o.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const b=s[y];"number"==typeof b?f=b:1==f?h=ve(h,b):2==f&&(c=ve(c,b+": "+s[++y]+";"))}a?o.styles=c:o.stylesWithoutHost=c,a?o.classes=h:o.classesWithoutHost=h}function $w(){const o=Ln();Ma(Ne()[1],o)}function ta(o){let s=function bc(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const c=[o];for(;s;){let h;if(ri(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ae(903,!1);h=s.\u0275dir}if(h){if(a){c.push(h);const y=o;y.inputs=zv(o.inputs),y.declaredInputs=zv(o.declaredInputs),y.outputs=zv(o.outputs);const b=h.hostBindings;b&&Hf(o,b);const C=h.viewQuery,T=h.contentQueries;if(C&&Be(o,C),T&&Er(o,T),fe(o.inputs,h.inputs),fe(o.declaredInputs,h.declaredInputs),fe(o.outputs,h.outputs),ri(h)&&h.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let y=0;y<f.length;y++){const b=f[y];b&&b.ngInherit&&b(o),b===ta&&(a=!1)}}s=Object.getPrototypeOf(s)}!function qv(o){let s=0,a=null;for(let c=o.length-1;c>=0;c--){const h=o[c];h.hostVars=s+=h.hostVars,h.hostAttrs=ts(h.hostAttrs,a=ts(a,h.hostAttrs))}}(c)}function zv(o){return o===rr?{}:o===Rt?[]:o}function Be(o,s){const a=o.viewQuery;o.viewQuery=a?(c,h)=>{s(c,h),a(c,h)}:s}function Er(o,s){const a=o.contentQueries;o.contentQueries=a?(c,h,f)=>{s(c,h,f),a(c,h,f)}:s}function Hf(o,s){const a=o.hostBindings;o.hostBindings=a?(c,h)=>{s(c,h),a(c,h)}:s}let sm=null;function Xe(){if(!sm){const o=Je.Symbol;if(o&&o.iterator)sm=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(sm=c)}}}return sm}function Fe(o){return!!Kv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Xe()in o)}function Kv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function fi(o,s,a){return!Object.is(o[s],a)&&(o[s]=a,!0)}function Yv(o,s,a,c){const h=Ne();return fi(h,Fi(),s)&&(Ut(),po(Mn(),h,o,s,a,c)),Yv}function Lt(o,s,a,c){return fi(o,Fi(),a)?s+ge(a)+c:jt}function ps(o,s,a,c,h,f){const b=function Qu(o,s,a,c){const h=fi(o,s,a);return fi(o,s+1,c)||h}(o,function Vr(){return _t.lFrame.bindingIndex}(),a,h);return ro(2),b?s+ge(a)+c+ge(h)+f:jt}function lm(o,s,a,c,h,f,y,b){const C=Ne(),T=Ut(),k=o+22,P=T.firstCreatePass?function go(o,s,a,c,h,f,y,b,C){const T=s.consts,k=Hd(s,o,4,y||null,Mr(T,b));Rv(s,a,k,Mr(T,C)),Ma(s,k);const P=k.tViews=Wu(2,k,c,h,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,k),P.queries=s.queries.embeddedTView(k)),k}(k,T,C,s,a,c,h,f,y):T.data[k];_i(P,!1);const B=C[11].createComment("");mg(T,C,B,P),ci(B,C),Kg(C,C[k]=Gd(B,C,B,P)),ma(P)&&Zd(T,C,P),null!=y&&kv(C,P,b)}function ia(o,s,a){const c=Ne();return fi(c,Fi(),s)&&qi(Ut(),Mn(),c,o,s,c[11],a,!1),ia}function zf(o,s,a,c,h){const y=h?"class":"style";jv(o,a,s.inputs[y],y,c)}function Cc(o,s,a,c){const h=Ne(),f=Ut(),y=22+o,b=h[11],C=h[y]=Zy(b,s,function xa(){return _t.lFrame.currentNamespace}()),T=f.firstCreatePass?function de(o,s,a,c,h,f,y){const b=s.consts,T=Hd(s,o,2,h,Mr(b,f));return Rv(s,a,T,Mr(b,y)),null!==T.attrs&&vc(T,T.attrs,!1),null!==T.mergedAttrs&&vc(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(y,f,h,0,s,a,c):f.data[y];_i(T,!0);const k=T.mergedAttrs;null!==k&&ka(b,C,k);const P=T.classes;null!==P&&Qy(b,C,P);const B=T.styles;return null!==B&&Yy(b,C,B),64!=(64&T.flags)&&mg(f,h,C,T),0===function Ml(){return _t.lFrame.elementDepthCount}()&&ci(C,h),function Rs(){_t.lFrame.elementDepthCount++}(),ma(T)&&(Zd(f,h,T),function Un(o,s,a){if(Il(s)){const h=s.directiveEnd;for(let f=s.directiveStart;f<h;f++){const y=o.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}(f,T,h)),null!==c&&kv(h,T),Cc}function zi(){let o=Ln();Ns()?function Ol(){_t.lFrame.isParent=!1}():(o=o.parent,_i(o,!1));const s=o;!function kl(){_t.lFrame.elementDepthCount--}();const a=Ut();return a.firstCreatePass&&(Ma(a,o),Il(o)&&a.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Kp(o){return 0!=(16&o.flags)}(s)&&zf(a,s,Ne(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ay(o){return 0!=(32&o.flags)}(s)&&zf(a,s,Ne(),s.stylesWithoutHost,!1),zi}function Xv(o,s,a,c){return Cc(o,s,a,c),zi(),Xv}function t_(){return Ne()}function Kf(o){return!!o&&"function"==typeof o.then}function qw(o){return!!o&&"function"==typeof o.subscribe}const zw=qw;function pi(o,s,a,c){const h=Ne(),f=Ut(),y=Ln();return function r_(o,s,a,c,h,f,y,b){const C=ma(c),k=o.firstCreatePass&&Bv(o),P=s[8],B=qd(s);let X=!0;if(3&c.type||b){const tt=Kn(c,s),ot=b?b(tt):tt,kt=B.length,Ve=b?Et=>b(Cn(Et[c.index])):c.index;if(cn(a)){let Et=null;if(!b&&C&&(Et=function Ic(o,s,a,c){const h=o.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const y=h[f];if(y===a&&h[f+1]===c){const b=s[7],C=h[f+2];return b.length>C?b[C]:null}"string"==typeof y&&(f+=2)}return null}(o,s,h,c.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=f,Et.__ngLastListenerFn__=f,X=!1;else{f=Yd(c,s,P,f,!1);const un=a.listen(ot,h,f);B.push(f,un),k&&k.push(h,Ve,kt,kt+1)}}else f=Yd(c,s,P,f,!0),ot.addEventListener(h,f,y),B.push(f),k&&k.push(h,Ve,kt,y)}else f=Yd(c,s,P,f,!1);const De=c.outputs;let je;if(X&&null!==De&&(je=De[h])){const tt=je.length;if(tt)for(let ot=0;ot<tt;ot+=2){const Bn=s[je[ot]][je[ot+1]].subscribe(f),Yc=B.length;B.push(f,Bn),k&&k.push(h,c.index,Yc,-(Yc+1))}}}(f,h,h[11],y,o,s,!!a,c),pi}function Xn(o,s,a,c){try{return!1!==a(c)}catch(h){return jf(o,h),!1}}function Yd(o,s,a,c,h){return function f(y){if(y===Function)return c;Vv(2&o.flags?fr(o.index,s):s);let C=Xn(s,0,c,y),T=f.__ngNextListenerFn__;for(;T;)C=Xn(s,0,T,y)&&C,T=T.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function $r(o=1){return function wu(o){return(_t.lFrame.contextLView=function qp(o,s){for(;o>0;)s=s[15],o--;return s}(o,_t.lFrame.contextLView))[8]}(o)}function Di(o,s,a){return i_(o,"",s,"",a),Di}function i_(o,s,a,c,h){const f=Ne(),y=Lt(f,s,a,c);return y!==jt&&qi(Ut(),Mn(),f,o,y,f[11],h,!1),i_}function Xd(o,s,a,c,h){const f=o[a+1],y=null===s;let b=c?Zi(f):$a(f),C=!1;for(;0!==b&&(!1===C||y);){const k=o[b+1];Yw(o[b],s)&&(C=!0,o[b+1]=c?Pg(k):Ng(k)),b=c?Zi(k):$a(k)}C&&(o[a+1]=c?Ng(f):Pg(f))}function Yw(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Nt(o,s)>=0}function dm(o,s){return function An(o,s,a,c){const h=Ne(),f=Ut(),y=ro(2);f.firstUpdatePass&&function Xw(o,s,a,c){const h=o.data;if(null===h[a+1]){const f=h[Zr()],y=function Sn(o,s){return s>=o.expandoStartIndex}(o,a);(function oE(o,s){return 0!=(o.flags&(s?16:32))})(f,c)&&null===s&&!y&&(s=!1),s=function eE(o,s,a,c){const h=function Fl(o){const s=_t.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let f=c?s.residualClasses:s.residualStyles;if(null===h)0===(c?s.classBindings:s.styleBindings)&&(a=rl(a=rh(null,o,s,a,c),s.attrs,c),f=null);else{const y=s.directiveStylingLast;if(-1===y||o[y]!==h)if(a=rh(h,o,s,a,c),null===f){let C=function Sc(o,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==$a(c))return o[Zi(c)]}(o,s,c);void 0!==C&&Array.isArray(C)&&(C=rh(null,o,s,C[1],c),C=rl(C,s.attrs,c),function vT(o,s,a,c){o[Zi(a?s.classBindings:s.styleBindings)]=c}(o,s,c,C))}else f=function Jf(o,s,a){let c;const h=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<h;f++)c=rl(c,o[f].hostAttrs,a);return rl(c,s.attrs,a)}(o,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(h,f,s,c),function Wa(o,s,a,c,h,f){let y=f?s.classBindings:s.styleBindings,b=Zi(y),C=$a(y);o[c]=a;let k,T=!1;if(Array.isArray(a)){const P=a;k=P[1],(null===k||Nt(P,k)>0)&&(T=!0)}else k=a;if(h)if(0!==C){const B=Zi(o[b+1]);o[c+1]=Rg(B,b),0!==B&&(o[B+1]=pc(o[B+1],c)),o[b+1]=function mv(o,s){return 131071&o|s<<17}(o[b+1],c)}else o[c+1]=Rg(b,0),0!==b&&(o[b+1]=pc(o[b+1],c)),b=c;else o[c+1]=Rg(C,0),0===b?b=c:o[C+1]=pc(o[C+1],c),C=c;T&&(o[c+1]=Ng(o[c+1])),Xd(o,k,c,!0),Xd(o,k,c,!1),function Yf(o,s,a,c,h){const f=h?o.residualClasses:o.residualStyles;null!=f&&"string"==typeof s&&Nt(f,s)>=0&&(a[c+1]=Pg(a[c+1]))}(s,k,o,c,f),y=Rg(b,C),f?s.classBindings=y:s.styleBindings=y}(h,f,s,a,y,c)}}(f,o,y,c),s!==jt&&fi(h,y,s)&&function nE(o,s,a,c,h,f,y,b){if(!(3&s.type))return;const C=o.data,T=C[b+1];hm(function yv(o){return 1==(1&o)}(T)?rE(C,s,a,h,$a(T),y):void 0)||(hm(f)||function Og(o){return 2==(2&o)}(T)&&(f=rE(C,null,a,h,b,y)),function PD(o,s,a,c,h){const f=cn(o);if(s)h?f?o.addClass(a,c):a.classList.add(c):f?o.removeClass(a,c):a.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:Js.DashCase;if(null==h)f?o.removeStyle(a,c,y):a.style.removeProperty(c);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),y|=Js.Important),f?o.setStyle(a,c,h,y):a.style.setProperty(c,h,b?"important":"")}}}(c,y,Ko(Zr(),a),h,f))}(f,f.data[Zr()],h,h[11],o,h[y+1]=function iE(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=ce($i(o)))),o}(s,a),c,y)}(o,s,null,!0),dm}function rh(o,s,a,c,h){let f=null;const y=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<y&&(f=s[b],c=rl(c,f.hostAttrs,h),f!==o);)b++;return null!==o&&(a.directiveStylingLast=b),c}function rl(o,s,a){const c=a?1:2;let h=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?h=y:h===c&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Rr(o,y,!!a||s[++f]))}return void 0===o?null:o}function rE(o,s,a,c,h,f){const y=null===s;let b;for(;h>0;){const C=o[h],T=Array.isArray(C),k=T?C[1]:C,P=null===k;let B=a[h+1];B===jt&&(B=P?Rt:void 0);let X=P?bd(B,c):k===c?B:void 0;if(T&&!hm(X)&&(X=bd(C,c)),hm(X)&&(b=X,y))return b;const De=o[h+1];h=y?Zi(De):$a(De)}if(null!==s){let C=f?s.residualClasses:s.residualStyles;null!=C&&(b=bd(C,c))}return b}function hm(o){return void 0!==o}function sE(o,s=""){const a=Ne(),c=Ut(),h=o+22,f=c.firstCreatePass?Hd(c,h,1,s,null):c.data[h],y=a[h]=function Tf(o,s){return cn(o)?o.createText(s):o.createTextNode(s)}(a[11],s);mg(c,a,y,f),_i(f,!1)}function d_(o){return fm("",o,""),d_}function fm(o,s,a){const c=Ne(),h=Lt(c,o,s,a);return h!==jt&&ds(c,Zr(),h),fm}function ua(o,s,a,c,h){const f=Ne(),y=ps(f,o,s,a,c,h);return y!==jt&&ds(f,Zr(),y),ua}const ms=void 0;var ET=["en",[["a","p"],["AM","PM"],ms],[["AM","PM"],ms,ms],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ms,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ms,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ms,"{1} 'at' {0}",ms],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wT(o){const a=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Dn={};function oh(o){const s=function ah(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=sh(s);if(a)return a;const c=s.split("-")[0];if(a=sh(c),a)return a;if("en"===c)return ET;throw new Ae(701,!1)}function yE(o){return oh(o)[xt.PluralCase]}function sh(o){return o in Dn||(Dn[o]=Je.ng&&Je.ng.common&&Je.ng.common.locales&&Je.ng.common.locales[o]),Dn[o]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const Oc="en-US";let rn=Oc;function mm(o,s,a,c,h){if(o=te(o),Array.isArray(o))for(let f=0;f<o.length;f++)mm(o[f],s,a,c,h);else{const f=Ut(),y=Ne();let b=cc(o)?o:te(o.provide),C=wg(o);const T=Ln(),k=1048575&T.providerIndexes,P=T.directiveStart,B=T.providerIndexes>>20;if(cc(o)||!o.multi){const X=new Vs(C,h,fc),De=ym(b,s,h?k:k+B,P);-1===De?(so(Mt(T,y),f,b),O_(f,o,s.length),s.push(b),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(X),y.push(X)):(a[De]=X,y[De]=X)}else{const X=ym(b,s,k+B,P),De=ym(b,s,k,k+B),je=X>=0&&a[X],tt=De>=0&&a[De];if(h&&!tt||!h&&!je){so(Mt(T,y),f,b);const ot=function F_(o,s,a,c,h){const f=new Vs(o,a,fc);return f.multi=[],f.index=s,f.componentProviders=0,N_(f,h,c&&!a),f}(h?P_:zT,a.length,h,c,C);!h&&tt&&(a[De].providerFactory=ot),O_(f,o,s.length,0),s.push(b),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(ot),y.push(ot)}else O_(f,o,X>-1?X:De,N_(a[h?De:X],C,!h&&c));!h&&c&&tt&&a[De].componentProviders++}}}function O_(o,s,a,c){const h=cc(s),f=function HD(o){return!!o.useClass}(s);if(h||f){const C=(f?te(s.useClass):s).prototype.ngOnDestroy;if(C){const T=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const k=T.indexOf(a);-1===k?T.push(a,[c,C]):T[k+1].push(c,C)}else T.push(a,C)}}}function N_(o,s,a){return a&&o.componentProviders++,o.multi.push(s)-1}function ym(o,s,a,c){for(let h=a;h<c;h++)if(s[h]===o)return h;return-1}function zT(o,s,a,c){return Ir(this.multi,[])}function P_(o,s,a,c){const h=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=Oa(a,a[1],this.providerFactory.index,c);f=b.slice(0,y),Ir(h,f);for(let C=y;C<b.length;C++)f.push(b[C])}else f=[],Ir(h,f);return f}function Ir(o,s){for(let a=0;a<o.length;a++)s.push((0,o[a])());return s}function vm(o,s=[]){return a=>{a.providersResolver=(c,h)=>function qT(o,s,a){const c=Ut();if(c.firstCreatePass){const h=ri(o);mm(a,c.data,c.blueprint,h,!0),mm(s,c.data,c.blueprint,h,!1)}}(c,h?h(o):o,s)}}class KT{resolveComponentFactory(s){throw function L_(o){const s=Error(`No component factory found for ${ce(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let mh=(()=>{class o{}return o.NULL=new KT,o})();class da{}class al{}class ul{}function ap(){return Lc(Ln(),Ne())}function Lc(o,s){return new Vc(Kn(o,s))}let Vc=(()=>{class o{constructor(a){this.nativeElement=a}}return o.__NG_ELEMENT_ID__=ap,o})();function V_(o){return o instanceof Vc?o.nativeElement:o}class U_{}let QT=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function qE(){const o=Ne(),a=fr(Ln().index,o);return function GE(o){return o[11]}(Wn(a)?a:o)}(),o})(),_m=(()=>{class o{}return o.\u0275prov=Jt({token:o,providedIn:"root",factory:()=>null}),o})();class yh{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ll=new yh("14.0.4"),B_={};function up(o,s,a,c,h=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(Cn(f)),xr(f))for(let b=10;b<f.length;b++){const C=f[b],T=C[1].firstChild;null!==T&&up(C[1],C,T,c)}const y=a.type;if(8&y)up(o,s,a.child,c);else if(32&y){const b=jy(a,s);let C;for(;C=b();)c.push(C)}else if(16&y){const b=Vb(s,a);if(Array.isArray(b))c.push(...b);else{const C=If(s[16]);up(C[1],C,b,c,!0)}}a=h?a.projectionNext:a.next}return c}class lp{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return up(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(xr(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(hg(s,c),Ru(a,c))}this._attachedToViewContainer=!1}Af(this._lView[1],this._lView)}onDestroy(s){Ew(this._lView[1],this._lView,null,s)}markForCheck(){Vv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Qg(o,s,a){const c=s[10];c.begin&&c.begin();try{qa(o,s,o.template,a)}catch(h){throw jf(s,h),h}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function DD(o,s){Nd(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=s}}class JT extends lp{constructor(s){super(s),this._view=s}detectChanges(){Bf(this._view)}checkNoChanges(){}get context(){return null}}class j_ extends mh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=j(s);return new bm(a,this.ngModule)}}function vh(o){const s=[];for(let a in o)o.hasOwnProperty(a)&&s.push({propName:o[a],templateName:a});return s}class Bc{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){const h=this.injector.get(s,B_,c);return h!==B_||a===B_?h:this.parentInjector.get(s,a,c)}}class bm extends ul{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Ii(o){return o.map(jD).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return vh(this.componentDef.inputs)}get outputs(){return vh(this.componentDef.outputs)}create(s,a,c,h){let f=(h=h||this.ngModule)instanceof br?h:h?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new Bc(s,f):s,b=y.get(U_,mu),C=y.get(_m,null),T=b.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",P=c?function ww(o,s,a){if(cn(o))return o.selectRootElement(s,a===Wt.ShadowDom);let c="string"==typeof s?o.querySelector(s):s;return c.textContent="",c}(T,c,this.componentDef.encapsulation):Zy(b.createRenderer(null,this.componentDef),k,function Uc(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(k)),B=this.componentDef.onPush?288:272,X=function jw(o,s){return{components:[],scheduler:o||pD,clean:Uv,playerHandler:s||null,flags:0}}(),De=Wu(0,null,null,1,0,null,null,null,null,null),je=$d(null,De,X,B,null,null,b,T,C,y,null);let tt,ot;Li(je);try{const kt=function Bw(o,s,a,c,h,f){const y=a[1];a[22]=o;const C=Hd(y,22,2,"#host",null),T=C.mergedAttrs=s.hostAttrs;null!==T&&(vc(C,T,!0),null!==o&&(ka(h,o,T),null!==C.classes&&Qy(h,o,C.classes),null!==C.styles&&Yy(h,o,C.styles)));const k=c.createRenderer(o,s),P=$d(a,_w(s),null,s.onPush?32:16,a[22],C,c,k,f||null,null,null);return y.firstCreatePass&&(so(Mt(C,a),y,s.type),Pv(y,C),xw(C,a.length,1)),Kg(a,P),a[22]=P}(P,this.componentDef,je,b,T);if(P)if(c)ka(T,P,["ng-version",ll.full]);else{const{attrs:Ve,classes:Et}=function R1(o){const s=[],a=[];let c=1,h=2;for(;c<o.length;){let f=o[c];if("string"==typeof f)2===h?""!==f&&s.push(f,o[++c]):8===h&&a.push(f);else{if(!Xs(h))break;h=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ve&&ka(T,P,Ve),Et&&Et.length>0&&Qy(T,P,Et.join(" "))}if(ot=xn(De,22),void 0!==a){const Ve=ot.projection=[];for(let Et=0;Et<this.ngContentSelectors.length;Et++){const un=a[Et];Ve.push(null!=un?Array.from(un):null)}}tt=function $f(o,s,a,c,h){const f=a[1],y=function iT(o,s,a){const c=Ln();o.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Mw(o,c,s,Gi(o,s,1,null),a));const h=Oa(s,o,c.directiveStart,c);ci(h,s);const f=Kn(c,s);return f&&ci(f,s),h}(f,a,s);if(c.components.push(y),o[8]=y,null!==h)for(const C of h)C(y,s);if(s.contentQueries){const C=Ln();s.contentQueries(1,y,C.directiveStart)}const b=Ln();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Sa(b.index),Ov(a[1],b,0,b.directiveStart,b.directiveEnd,s),qg(s,y)),y}(kt,this.componentDef,je,X,[$w]),zu(De,je,null)}finally{bu()}return new $_(this.componentType,tt,Lc(ot,je),je,ot)}}class $_ extends class Fc{}{constructor(s,a,c,h,f){super(),this.location=c,this._rootLView=h,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new JT(h),this.componentType=s}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function wm(o,s){return new zE(o,s??null)}class zE extends da{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new j_(this);const c=$e(s);this._bootstrapComponents=$u(c.bootstrap),this._r3Injector=uv(s,a,[{provide:da,useValue:this},{provide:mh,useValue:this.componentFactoryResolver}],ce(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(s)}get(s,a=Fo.THROW_IF_NOT_FOUND,c=ft.Default){return s===Fo||s===da||s===vg?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Em extends al{constructor(s){super(),this.moduleType=s}create(s){return new zE(this.moduleType,s)}}class cp extends da{constructor(s,a,c){super(),this.componentFactoryResolver=new j_(this),this.instance=null;const h=new bg([...s,{provide:da,useValue:this},{provide:mh,useValue:this.componentFactoryResolver}],a||_g(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function _h(o,s=null,a=null){return new cp(o,s,a).injector}function H_(o,s,a,c){return Z_(Ne(),mr(),o,s,a,c)}function Z_(o,s,a,c,h,f){const y=s+a;return fi(o,y,h)?function na(o,s,a){return o[s]=a}(o,y+1,f?c.call(f,h):c(h)):function ha(o,s){const a=o[s];return a===jt?void 0:a}(o,y+1)}function eC(o,s){const a=Ut();let c;const h=o+22;a.firstCreatePass?(c=function tA(o,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(o===c.name)return c}}(s,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const f=c.factory||(c.factory=vi(c.type)),y=en(fc);try{const b=Au(!1),C=f();return Au(b),function Zw(o,s,a,c){a>=o.data.length&&(o.data[a]=null,o.blueprint[a]=null),s[a]=c}(a,Ne(),h,C),C}finally{en(y)}}function z_(o,s,a){const c=o+22,h=Ne(),f=function Yo(o,s){return o[s]}(h,c);return function ys(o,s){return o[1].data[s].pure}(h,c)?Z_(h,mr(),s,f.transform,a,f):f.transform(a)}function Dm(o){return s=>{setTimeout(o,void 0,s)}}const vs=class hp extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let h=s,f=a||(()=>null),y=c;if(s&&"object"==typeof s){const C=s;h=C.next?.bind(C),f=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(f=Dm(f),h&&(h=Dm(h)),y&&(y=Dm(y)));const b=super.subscribe({next:h,error:f,complete:y});return s instanceof U.w0&&s.add(b),b}};function iA(){return this._results[Xe()]()}class Tm{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Xe(),c=Tm.prototype;c[a]||(c[a]=iA)}get changes(){return this._changes||(this._changes=new vs)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const h=Qn(s);(this._changesDetected=!function uf(o,s,a){if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++){let h=o[c],f=s[c];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let fp=(()=>{class o{}return o.__NG_ELEMENT_ID__=Hr,o})();const oA=fp,W_=class extends oA{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s,a){const c=this._declarationTContainer.tViews,h=$d(this._declarationLView,c,s,16,null,c.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(c)),zu(c,h,s),new lp(h)}};function Hr(){return Am(Ln(),Ne())}function Am(o,s){return 4&o.type?new W_(s,o,Lc(o,s)):null}let Sm=(()=>{class o{}return o.__NG_ELEMENT_ID__=sA,o})();function sA(){return iC(Ln(),Ne())}const aA=Sm,K_=class extends aA{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Lc(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){const s=Us(this._hostTNode,this._hostLView);if(fn(s)){const a=pr(s,this._hostLView),c=bt(s);return new ao(a[1].data[c+8],a)}return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=rC(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){let h,f;"number"==typeof c?h=c:null!=c&&(h=c.index,f=c.injector);const y=s.createEmbeddedView(a||{},f);return this.insert(y,h),y}createComponent(s,a,c,h,f){const y=s&&!function lo(o){return"function"==typeof o}(s);let b;if(y)b=a;else{const P=a||{};b=P.index,c=P.injector,h=P.projectableNodes,f=P.environmentInjector||P.ngModuleRef}const C=y?s:new bm(j(s)),T=c||this.parentInjector;if(!f&&null==C.ngModule){const B=(y?T:this.parentInjector).get(br,null);B&&(f=B)}const k=C.create(T,h,void 0,f);return this.insert(k.hostView,b),k}insert(s,a){const c=s._lView,h=c[1];if(function wa(o){return xr(o[3])}(c)){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const P=c[3],B=new K_(P,P[6],P[3]);B.detach(B.indexOf(s))}}const f=this._adjustIndex(a),y=this._lContainer;!function AD(o,s,a,c){const h=10+c,f=a.length;c>0&&(a[h-1][4]=s),c<f-10?(s[4]=a[h],vd(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function Wr(o,s){const a=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===a?o[9]=[s]:a.push(s)}(y,s);const b=s[19];null!==b&&b.insertView(o),s[2]|=64}(h,c,y,f);const b=Wy(f,y),C=c[11],T=fg(C,y[7]);return null!==T&&function ID(o,s,a,c,h,f){c[0]=h,c[6]=s,Nd(o,c,a,1,h,f)}(h,y[6],C,c,T,b),s.attachToViewContainerRef(),vd(wh(y),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=rC(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=hg(this._lContainer,a);c&&(Ru(wh(this._lContainer),a),Af(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=hg(this._lContainer,a);return c&&null!=Ru(wh(this._lContainer),a)?new lp(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function rC(o){return o[8]}function wh(o){return o[8]||(o[8]=[])}function iC(o,s){let a;const c=s[o.index];if(xr(c))a=c;else{let h;if(8&o.type)h=Cn(c);else{const f=s[11];h=f.createComment("");const y=Kn(o,s);Hu(f,fg(f,y),h,function Ua(o,s){return cn(o)?o.nextSibling(s):s.nextSibling}(f,y),!1)}s[o.index]=a=Gd(c,s,h,o),Kg(s,a)}return new K_(a,o,s)}class $c{constructor(s){this.queryList=s,this.matches=null}clone(){return new $c(this.queryList)}setDirty(){this.queryList.setDirty()}}class Eh{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);h.push(this.queries[y.indexInDeclarationView].clone())}return new Eh(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==J_(s,a).matches&&this.queries[a].setDirty()}}class xm{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class pp{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,h);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new pp(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Mm{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Mm(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const f=c[h];this.matchTNodeWithReadOption(s,a,uA(a,f)),this.matchTNodeWithReadOption(s,a,bi(a,s,f,!1,!1))}else c===fp?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,bi(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Vc||h===Sm||h===fp&&4&a.type)this.addMatch(a.index,-2);else{const f=bi(a,s,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function uA(o,s){const a=o.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function uC(o,s,a,c){return-1===a?function aC(o,s){return 11&o.type?Lc(o,s):4&o.type?Am(o,s):null}(s,o):-2===a?function Q_(o,s,a){return a===Vc?Lc(s,o):a===fp?Am(s,o):a===Sm?iC(s,o):void 0}(o,s,c):Oa(o,o[1],a,s)}function lC(o,s,a,c){const h=s[19].queries[c];if(null===h.matches){const f=o.data,y=a.matches,b=[];for(let C=0;C<y.length;C+=2){const T=y[C];b.push(T<0?null:uC(s,f[T],y[C+1],a.metadata.read))}h.matches=b}return h.matches}function km(o,s,a,c){const h=o.queries.getByIndex(a),f=h.matches;if(null!==f){const y=lC(o,s,h,a);for(let b=0;b<f.length;b+=2){const C=f[b];if(C>0)c.push(y[b/2]);else{const T=f[b+1],k=s[-C];for(let P=10;P<k.length;P++){const B=k[P];B[17]===B[3]&&km(B[1],B,T,c)}if(null!==k[9]){const P=k[9];for(let B=0;B<P.length;B++){const X=P[B];km(X[1],X,T,c)}}}}}return c}function cC(o){const s=Ne(),a=Ut(),c=Ll();Fs(c+1);const h=J_(a,c);if(o.dirty&&xl(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const f=h.crossesNgTemplate?km(a,s,c,[]):lC(a,s,h,c);o.reset(f,V_),o.notifyOnChanges()}return!0}return!1}function hC(o,s,a,c){const h=Ut();if(h.firstCreatePass){const f=Ln();(function gp(o,s,a){null===o.queries&&(o.queries=new pp),o.queries.track(new Mm(s,a))})(h,new xm(s,a,c),f.index),function fC(o,s){const a=o.contentQueries||(o.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,s)}(h,o),2==(2&a)&&(h.staticContentQueries=!0)}!function Rm(o,s,a){const c=new Tm(4==(4&a));Ew(o,s,c,c.destroy),null===s[19]&&(s[19]=new Eh),s[19].queries.push(new $c(c))}(h,Ne(),a)}function Hc(){return function Ch(o,s){return o[19].queries[s].queryList}(Ne(),Ll())}function J_(o,s){return o.queries.getByIndex(s)}function Zc(o){const s=j(o)||$(o)||be(o);return null!==s&&s.standalone}function Ah(...o){}const Bm=new Bt("Application Initializer");let bp=(()=>{class o{constructor(a){this.appInits=a,this.resolve=Ah,this.reject=Ah,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(Kf(f))a.push(f);else if(zw(f)){const y=new Promise((b,C)=>{f.subscribe({complete:b,error:C})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return o.\u0275fac=function(a){return new(a||o)(Ee(Bm,8))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const jm=new Bt("AppId",{providedIn:"root",factory:function $m(){return`${hl()}${hl()}${hl()}`}});function hl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nu=new Bt("Platform Initializer"),d0=new Bt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wc=new Bt("appBootstrapListener");let Sh=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Jt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Hm=new Bt("LocaleId",{providedIn:"root",factory:()=>gt(Hm,ft.Optional|ft.SkipSelf)||function bA(){return typeof $localize<"u"&&$localize.locale||Oc}()}),h0=new Bt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wA{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let EA=(()=>{class o{compileModuleSync(a){return new Em(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=$u($e(a).declarations).reduce((y,b)=>{const C=j(b);return C&&y.push(new bm(C)),y},[]);return new wA(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Jt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const CA=(()=>Promise.resolve(0))();function Zm(o){typeof Zone>"u"?CA.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ki{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vs(!1),this.onMicrotaskEmpty=new vs(!1),this.onStable=new vs(!1),this.onError=new vs(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function IA(){let o=Je.requestAnimationFrame,s=Je.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const a=o[Zone.__symbol__("OriginalDelegate")];a&&(o=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function DA(o){const s=()=>{!function PC(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Je,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,p0(o),o.isCheckStableRunning=!0,Gm(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),p0(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,f,y,b)=>{try{return FC(o),a.invokeTask(h,f,y,b)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||o.shouldCoalesceRunChangeDetection)&&s(),LC(o)}},onInvoke:(a,c,h,f,y,b,C)=>{try{return FC(o),a.invoke(h,f,y,b,C)}finally{o.shouldCoalesceRunChangeDetection&&s(),LC(o)}},onHasTask:(a,c,h,f)=>{a.hasTask(h,f),c===h&&("microTask"==f.change?(o._hasPendingMicrotasks=f.microTask,p0(o),Gm(o)):"macroTask"==f.change&&(o.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,h,f)=>(a.handleError(h,f),o.runOutsideAngular(()=>o.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ki.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(Ki.isInAngularZone())throw new Ae(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,h){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+h,s,NC,Ah,Ah);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const NC={};function Gm(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function p0(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function FC(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function LC(o){o._nesting--,Gm(o)}class g0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vs,this.onMicrotaskEmpty=new vs,this.onStable=new vs,this.onError=new vs}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,h){return s.apply(a,c)}}const qm=new Bt(""),zm=new Bt("");let Ep,TA=(()=>{class o{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ep||(function AA(o){Ep=o}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ki.assertNotInAngularZone(),Zm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return o.\u0275fac=function(a){return new(a||o)(Ee(Ki),Ee(Wm),Ee(zm))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})(),Wm=(()=>{class o{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Ep?.findTestabilityInTree(this,a,c)??null}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Jt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),ru=null;const Km=new Bt("AllowMultipleToken"),Ym=new Bt("PlatformDestroyListeners");class SA{constructor(s,a){this.name=s,this.token=a}}function Jm(o,s,a=[]){const c=`Platform: ${s}`,h=new Bt(c);return(f=[])=>{let y=b0();if(!y||y.injector.get(Km,!1)){const b=[...a,...f,{provide:h,useValue:!0}];o?o(b):function v0(o){if(ru&&!ru.get(Km,!1))throw new Ae(400,!1);ru=o;const s=o.get(Xm);(function Qm(o){const s=o.get(nu,null);s&&s.forEach(a=>a())})(o)}(function _0(o=[],s){return Fo.create({name:s,providers:[{provide:iv,useValue:"platform"},{provide:Ym,useValue:new Set([()=>ru=null])},...o]})}(b,c))}return function xh(o){const s=b0();if(!s)throw new Ae(401,!1);return s}()}}function b0(){return ru?.get(Xm)??null}let Xm=(()=>{class o{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function w0(o,s){let a;return a="noop"===o?new g0:("zone.js"===o?void 0:o)||new Ki(s),a}(c?.ngZone,function fa(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(c)),f=[{provide:Ki,useValue:h}];return h.run(()=>{const y=Fo.create({providers:f,parent:this.injector,name:a.moduleType.name}),b=a.create(y),C=b.injector.get(ju,null);if(!C)throw new Ae(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:k=>{C.handleError(k)}});b.onDestroy(()=>{ny(this._modules,b),T.unsubscribe()})}),function BC(o,s,a){try{const c=a();return Kf(c)?c.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):c}catch(c){throw s.runOutsideAngular(()=>o.handleError(c)),c}}(C,h,()=>{const T=b.injector.get(bp);return T.runInitializers(),T.donePromise.then(()=>(function T_(o){zt(o,"Expected localeId to be defined"),"string"==typeof o&&(rn=o.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Hm,Oc)||Oc),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,c=[]){const h=ey({},c);return function m0(o,s,a){const c=new Em(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(a){const c=a.injector.get(ty);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ae(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Ym,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(a){return new(a||o)(Ee(Fo))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function ey(o,s){return Array.isArray(s)?s.reduce(ey,o):{...o,...s}}let ty=(()=>{class o{constructor(a,c,h){this._zone=a,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new R.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),y=new R.y(b=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Ki.assertNotInAngularZone(),Zm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Ki.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{C.unsubscribe(),T.unsubscribe()}});this.isStable=(0,se.T)(f,y.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof ul;if(!this._injector.get(bp).done)throw!h&&Zc(a),new Ae(405,false);let y;y=h?a:this._injector.get(mh).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const b=function y0(o){return o.isBoundToModule}(y)?void 0:this._injector.get(da),T=y.create(Fo.NULL,[],c||y.selector,b),k=T.location.nativeElement,P=T.injector.get(qm,null);return P?.registerApplication(k),T.onDestroy(()=>{this.detachView(T.hostView),ny(this.components,T),P?.unregisterApplication(k)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;ny(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Wc,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>ny(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ae(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(a){return new(a||o)(Ee(Ki),Ee(Fo),Ee(ju))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ny(o,s){const a=o.indexOf(s);a>-1&&o.splice(a,1)}let iy=!0,jC=!1;function E0(){return jC=!0,iy}function kA(){if(jC)throw new Error("Cannot enable prod mode after platform setup.");iy=!1}let HC=(()=>{class o{}return o.__NG_ELEMENT_ID__=OA,o})();function OA(o){return function NA(o,s,a){if(qo(o)&&!a){const c=fr(o.index,s);return new lp(c,c)}return 47&o.type?new lp(s[16],s):null}(Ln(),Ne(),16==(16&o))}class Dp{constructor(){}supports(s){return Fe(s)}create(s){return new JC(s)}}const T0=(o,s)=>s;class JC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||T0}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,h=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<Kc(c,h,f)?a:c,b=Kc(y,h,f),C=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{f||(f=[]);const T=b-h,k=C-h;if(T!=k){for(let B=0;B<T;B++){const X=B<f.length?f[B]:f[B]=0,De=X+B;k<=De&&De<T&&(f[B]=X+1)}f[y.previousIndex]=k-T}}b!==C&&s(y,b,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Fe(s))throw new Ae(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,f,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)f=s[b],y=this._trackByFn(b,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,b)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,b),c=!0),a=a._next}else h=0,function Hw(o,s){if(Array.isArray(o))for(let a=0;a<o.length;a++)s(o[a]);else{const a=o[Xe()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,b=>{y=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,b,y,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,y,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,h){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,h)):s=this._addAfter(new A0(a,c),f,h),s}_verifyReinsertion(s,a,c,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,f=s._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new uy),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uy),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class A0{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class uy{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new XC,this.map.set(a,c)),c.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kc(o,s,a){const c=o.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+s+h}class ly{constructor(){}supports(s){return s instanceof Map||Kv(s)}create(){return new UA}}class UA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Kv(s)))throw new Ae(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const f=h._prev,y=h._next;return f&&(f._next=y),y&&(y._prev=f),h._next=null,h._prev=null,h}const c=new BA(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class BA{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eI(){return new cy([new Dp])}let cy=(()=>{class o{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:c=>o.create(a,c||eI()),deps:[[o,new Ks,new Ci]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Ae(901,!1)}}return o.\u0275prov=Jt({token:o,providedIn:"root",factory:eI}),o})();function S0(){return new x0([new ly])}let x0=(()=>{class o{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:c=>o.create(a,c||S0()),deps:[[o,new Ks,new Ci]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Ae(901,!1)}}return o.\u0275prov=Jt({token:o,providedIn:"root",factory:S0}),o})();const M0=Jm(null,"core",[]);let tI=(()=>{class o{constructor(a){}}return o.\u0275fac=function(a){return new(a||o)(Ee(ty))},o.\u0275mod=It({type:o}),o.\u0275inj=Xt({}),o})();function nI(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(pt,Me,N)=>{N.d(Me,{Z:()=>Ae});var l=N(2090),U=N(4859),R=N(9681),se=N(1877);class ae{constructor(ge,me){this._delegate=ge,this.firebase=me,(0,R._addComponent)(ge,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(ge,me=R._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(ge);return!Ze.isInitialized()&&"EXPLICIT"===(null===(Ke=Ze.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:me})}_removeServiceInstance(ge,me=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(me)}_addComponent(ge){(0,R._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,R._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ve(){const He=function ce(He){const ge={},me={__esModule:!0,initializeApp:function ke(re,he={}){const Ie=R.initializeApp(re,he);if((0,l.r3)(ge,Ie.name))return ge[Ie.name];const Q=new He(Ie,me);return ge[Ie.name]=Q,Q},app:Ze,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ce(re){const he=re.name,Ie=he.replace("-compat","");if(R._registerComponent(re)&&"PUBLIC"===re.type){const Q=(ie=Ze())=>{if("function"!=typeof ie[Ie])throw fe.create("invalid-app-argument",{appName:he});return ie[Ie]()};void 0!==re.serviceProps&&(0,l.ZB)(Q,re.serviceProps),me[Ie]=Q,He.prototype[Ie]=function(...ie){return this._getService.bind(this,he).apply(this,re.multipleInstances?ie:[])}}return"PUBLIC"===re.type?me[Ie]:null},removeApp:function Ke(re){delete ge[re]},useAsService:function Qe(re,he){return"serverAuth"===he?null:he},modularAPIs:R}};function Ze(re){if(!(0,l.r3)(ge,re=re||R._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:re});return ge[re]}return me.default=me,Object.defineProperty(me,"apps",{get:function Oe(){return Object.keys(ge).map(re=>ge[re])}}),Ze.App=He,me}(ae);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function ge(me){(0,l.ZB)(He,me)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),He}(),Z=new se.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=z;!function Re(He){(0,R.registerVersion)("@firebase/app-compat","0.1.29",He)}()},9681:(pt,Me,N)=>{N.r(Me),N.d(Me,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ni,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>hn,_addOrOverwriteComponent:()=>Jt,_apps:()=>ln,_clearComponents:()=>ki,_components:()=>Nn,_getProvider:()=>Xt,_registerComponent:()=>qt,_removeServiceInstance:()=>vn,deleteApp:()=>ft,getApp:()=>Pn,getApps:()=>Xi,initializeApp:()=>mi,onLog:()=>en,registerVersion:()=>_n,setLogLevel:()=>nr});var l=N(5861),U=N(4859),R=N(1877),se=N(2090),ae=N(8766);class ye{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function fe(V){return"VERSION"===V.getComponent()?.type}(K)){const xe=K.getImmediate();return`${xe.library}/${xe.version}`}return null}).filter(K=>K).join(" ")}}const ce="@firebase/app",z=new R.Yd("@firebase/app"),zt="[DEFAULT]",ze={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ln=new Map,Nn=new Map;function hn(V,W){try{V.container.addComponent(W)}catch(K){z.debug(`Component ${W.name} failed to register with FirebaseApp ${V.name}`,K)}}function Jt(V,W){V.container.addOrOverwriteComponent(W)}function qt(V){const W=V.name;if(Nn.has(W))return z.debug(`There were multiple attempts to register component ${W}.`),!1;Nn.set(W,V);for(const K of ln.values())hn(K,V);return!0}function Xt(V,W){const K=V.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),V.container.getProvider(W)}function vn(V,W,K=zt){Xt(V,W).clearInstance(K)}function ki(){Nn.clear()}const Tn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ji{constructor(W,K,xe){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=xe,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const ni="9.9.0";function mi(V,W={}){"object"!=typeof W&&(W={name:W});const K=Object.assign({name:zt,automaticDataCollectionEnabled:!1},W),xe=K.name;if("string"!=typeof xe||!xe)throw Tn.create("bad-app-name",{appName:String(xe)});const Ge=ln.get(xe);if(Ge){if((0,se.vZ)(V,Ge.options)&&(0,se.vZ)(K,Ge.config))return Ge;throw Tn.create("duplicate-app",{appName:xe})}const It=new U.H0(xe);for(const Qt of Nn.values())It.addComponent(Qt);const nn=new Ji(V,K,It);return ln.set(xe,nn),nn}function Pn(V=zt){const W=ln.get(V);if(!W)throw Tn.create("no-app",{appName:V});return W}function Xi(){return Array.from(ln.values())}function ft(V){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(V){const W=V.name;ln.has(W)&&(ln.delete(W),yield Promise.all(V.container.getProviders().map(K=>K.delete())),V.isDeleted=!0)})).apply(this,arguments)}function _n(V,W,K){var xe;let Ge=null!==(xe=ze[V])&&void 0!==xe?xe:V;K&&(Ge+=`-${K}`);const It=Ge.match(/\s|\//),nn=W.match(/\s|\//);if(It||nn){const Qt=[`Unable to register library "${Ge}" with version "${W}":`];return It&&Qt.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),It&&nn&&Qt.push("and"),nn&&Qt.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void z.warn(Qt.join(" "))}qt(new U.wA(`${Ge}-version`,()=>({library:Ge,version:W}),"VERSION"))}function en(V,W){if(null!==V&&"function"!=typeof V)throw Tn.create("invalid-log-argument");(0,R.Am)(V,W)}function nr(V){(0,R.Ub)(V)}const bn="firebase-heartbeat-store";let cr=null;function Co(){return cr||(cr=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(V,W)=>{0===W&&V.createObjectStore(bn)}}).catch(V=>{throw Tn.create("storage-open",{originalErrorMessage:V.message})})),cr}function Je(){return(Je=(0,l.Z)(function*(V){var W;try{return(yield Co()).transaction(bn).objectStore(bn).get(rr(V))}catch(K){throw Tn.create("storage-get",{originalErrorMessage:null===(W=K)||void 0===W?void 0:W.message})}})).apply(this,arguments)}function at(V,W){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(V,W){var K;try{const Ge=(yield Co()).transaction(bn,"readwrite");return yield Ge.objectStore(bn).put(W,rr(V)),Ge.done}catch(xe){throw Tn.create("storage-set",{originalErrorMessage:null===(K=xe)||void 0===K?void 0:K.message})}})).apply(this,arguments)}function rr(V){return`${V.name}!${V.options.appId}`}class wn{constructor(W){this.container=W,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new Zn(K),this._heartbeatsCachePromise=this._storage.read().then(xe=>(this._heartbeatsCache=xe,xe))}triggerHeartbeat(){var W=this;return(0,l.Z)(function*(){const xe=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ge=En();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==Ge&&!W._heartbeatsCache.heartbeats.some(It=>It.date===Ge))return W._heartbeatsCache.heartbeats.push({date:Ge,agent:xe}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(It=>{const nn=new Date(It.date).valueOf();return Date.now()-nn<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,l.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const K=En(),{heartbeatsToSend:xe,unsentEntries:Ge}=function tn(V,W=1024){const K=[];let xe=V.slice();for(const Ge of V){const It=K.find(nn=>nn.agent===Ge.agent);if(It){if(It.dates.push(Ge.date),H(K)>W){It.dates.pop();break}}else if(K.push({agent:Ge.agent,dates:[Ge.date]}),H(K)>W){K.pop();break}xe=xe.slice(1)}return{heartbeatsToSend:K,unsentEntries:xe}}(W._heartbeatsCache.heartbeats),It=(0,se.L)(JSON.stringify({version:2,heartbeats:xe}));return W._heartbeatsCache.lastSentHeartbeatDate=K,Ge.length>0?(W._heartbeatsCache.heartbeats=Ge,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),It})()}}function En(){return(new Date).toISOString().substring(0,10)}class Zn{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,l.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function Wt(V){return Je.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var K=this;return(0,l.Z)(function*(){var xe;if(yield K._canUseIndexedDBPromise){const It=yield K.read();return at(K.app,{lastSentHeartbeatDate:null!==(xe=W.lastSentHeartbeatDate)&&void 0!==xe?xe:It.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var K=this;return(0,l.Z)(function*(){var xe;if(yield K._canUseIndexedDBPromise){const It=yield K.read();return at(K.app,{lastSentHeartbeatDate:null!==(xe=W.lastSentHeartbeatDate)&&void 0!==xe?xe:It.lastSentHeartbeatDate,heartbeats:[...It.heartbeats,...W.heartbeats]})}})()}}function H(V){return(0,se.L)(JSON.stringify({version:2,heartbeats:V})).length}!function G(V){qt(new U.wA("platform-logger",W=>new ye(W),"PRIVATE")),qt(new U.wA("heartbeat",W=>new wn(W),"PRIVATE")),_n(ce,"0.7.28",V),_n(ce,"0.7.28","esm2017"),_n("fire-js","")}("")},4859:(pt,Me,N)=>{N.d(Me,{H0:()=>ce,wA:()=>R});var l=N(5861),U=N(2090);class R{constructor(z,Z,te){this.name=z,this.instanceFactory=Z,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const se="[DEFAULT]";class ae{constructor(z,Z){this.name=z,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const Z=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(Z)){const te=new U.BH;if(this.instancesDeferred.set(Z,te),this.isInitialized(Z)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:Z});qe&&te.resolve(qe)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(z){var Z;const te=this.normalizeInstanceIdentifier(z?.identifier),qe=null!==(Z=z?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Re){if(qe)return null;throw Re}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function fe(ve){return"EAGER"===ve.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Z,te]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(Z);try{const Re=this.getOrInitializeService({instanceIdentifier:qe});te.resolve(Re)}catch{}}}}clearInstance(z=se){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,l.Z)(function*(){const Z=Array.from(z.instances.values());yield Promise.all([...Z.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...Z.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=se){return this.instances.has(z)}getOptions(z=se){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:Z={}}=z,te=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:te,options:Z});for(const[Re,Ae]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Re)&&Ae.resolve(qe);return qe}onInit(z,Z){var te;const qe=this.normalizeInstanceIdentifier(Z),Re=null!==(te=this.onInitCallbacks.get(qe))&&void 0!==te?te:new Set;Re.add(z),this.onInitCallbacks.set(qe,Re);const Ae=this.instances.get(qe);return Ae&&z(Ae,qe),()=>{Re.delete(z)}}invokeOnInitCallbacks(z,Z){const te=this.onInitCallbacks.get(Z);if(te)for(const qe of te)try{qe(z,Z)}catch{}}getOrInitializeService({instanceIdentifier:z,options:Z={}}){let te=this.instances.get(z);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=z,ve===se?void 0:ve),options:Z}),this.instances.set(z,te),this.instancesOptions.set(z,Z),this.invokeOnInitCallbacks(te,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,te)}catch{}var ve;return te||null}normalizeInstanceIdentifier(z=se){return this.component?this.component.multipleInstances?z:se:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const Z=this.getProvider(z.name);if(Z.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);Z.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const Z=new ae(z,this);return this.providers.set(z,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,Me,N)=>{N.d(Me,{Am:()=>ve,Ub:()=>ce,Yd:()=>fe,in:()=>U});const l=[];var U=(()=>{return(z=U||(U={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",U;var z})();const R={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},se=U.INFO,ae={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},ye=(z,Z,...te)=>{if(Z<z.logLevel)return;const qe=(new Date).toISOString(),Re=ae[Z];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Re](`[${qe}]  ${z.name}:`,...te)};class fe{constructor(Z){this.name=Z,this._logLevel=se,this._logHandler=ye,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in U))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?R[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...Z),this._logHandler(this,U.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...Z),this._logHandler(this,U.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,U.INFO,...Z),this._logHandler(this,U.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,U.WARN,...Z),this._logHandler(this,U.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...Z),this._logHandler(this,U.ERROR,...Z)}}function ce(z){l.forEach(Z=>{Z.setLogLevel(z)})}function ve(z,Z){for(const te of l){let qe=null;Z&&Z.level&&(qe=R[Z.level]),te.userLogHandler=null===z?null:(Re,Ae,...He)=>{const ge=He.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");Ae>=(qe??Re.logLevel)&&z({level:U[Ae].toLowerCase(),message:ge,args:He,type:Re.name})}}}},8766:(pt,Me,N)=>{N.d(Me,{Lj:()=>ke,X3:()=>Ze});var l=N(5861);let R,se;const fe=new WeakMap,ce=new WeakMap,ve=new WeakMap,z=new WeakMap,Z=new WeakMap;let Re={get(he,Ie,Q){if(he instanceof IDBTransaction){if("done"===Ie)return ce.get(he);if("objectStoreNames"===Ie)return he.objectStoreNames||ve.get(he);if("store"===Ie)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return me(he[Ie])},set:(he,Ie,Q)=>(he[Ie]=Q,!0),has:(he,Ie)=>he instanceof IDBTransaction&&("done"===Ie||"store"===Ie)||Ie in he};function ge(he){return"function"==typeof he?function He(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...Ie){return he.apply(Ke(this),Ie),me(fe.get(this))}:function(...Ie){return me(he.apply(Ke(this),Ie))}:function(Ie,...Q){const ie=he.call(Ke(this),Ie,...Q);return ve.set(ie,Ie.sort?Ie.sort():[Ie]),me(ie)}}(he):(he instanceof IDBTransaction&&function qe(he){if(ce.has(he))return;const Ie=new Promise((Q,ie)=>{const oe=()=>{he.removeEventListener("complete",_e),he.removeEventListener("error",ue),he.removeEventListener("abort",ue)},_e=()=>{Q(),oe()},ue=()=>{ie(he.error||new DOMException("AbortError","AbortError")),oe()};he.addEventListener("complete",_e),he.addEventListener("error",ue),he.addEventListener("abort",ue)});ce.set(he,Ie)}(he),((he,Ie)=>Ie.some(Q=>he instanceof Q))(he,function ae(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Re):he)}function me(he){if(he instanceof IDBRequest)return function te(he){const Ie=new Promise((Q,ie)=>{const oe=()=>{he.removeEventListener("success",_e),he.removeEventListener("error",ue)},_e=()=>{Q(me(he.result)),oe()},ue=()=>{ie(he.error),oe()};he.addEventListener("success",_e),he.addEventListener("error",ue)});return Ie.then(Q=>{Q instanceof IDBCursor&&fe.set(Q,he)}).catch(()=>{}),Z.set(Ie,he),Ie}(he);if(z.has(he))return z.get(he);const Ie=ge(he);return Ie!==he&&(z.set(he,Ie),Z.set(Ie,he)),Ie}const Ke=he=>Z.get(he);function Ze(he,Ie,{blocked:Q,upgrade:ie,blocking:oe,terminated:_e}={}){const ue=indexedDB.open(he,Ie),Ue=me(ue);return ie&&ue.addEventListener("upgradeneeded",yt=>{ie(me(ue.result),yt.oldVersion,yt.newVersion,me(ue.transaction))}),Q&&ue.addEventListener("blocked",()=>Q()),Ue.then(yt=>{_e&&yt.addEventListener("close",()=>_e()),oe&&yt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Ue}function ke(he,{blocked:Ie}={}){const Q=indexedDB.deleteDatabase(he);return Ie&&Q.addEventListener("blocked",()=>Ie()),me(Q).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Qe=new Map;function re(he,Ie){if(!(he instanceof IDBDatabase)||Ie in he||"string"!=typeof Ie)return;if(Qe.get(Ie))return Qe.get(Ie);const Q=Ie.replace(/FromIndex$/,""),ie=Ie!==Q,oe=Ce.includes(Q);if(!(Q in(ie?IDBIndex:IDBObjectStore).prototype)||!oe&&!Oe.includes(Q))return;const _e=function(){var ue=(0,l.Z)(function*(Ue,...yt){const Yt=this.transaction(Ue,oe?"readwrite":"readonly");let zt=Yt.store;return ie&&(zt=zt.index(yt.shift())),(yield Promise.all([zt[Q](...yt),oe&&Yt.done]))[0]});return function(yt){return ue.apply(this,arguments)}}();return Qe.set(Ie,_e),_e}!function Ae(he){Re=he(Re)}(he=>({...he,get:(Ie,Q,ie)=>re(Ie,Q)||he.get(Ie,Q,ie),has:(Ie,Q)=>!!re(Ie,Q)||he.has(Ie,Q)}))},5861:(pt,Me,N)=>{function l(R,se,ae,ye,fe,ce,ve){try{var z=R[ce](ve),Z=z.value}catch(te){return void ae(te)}z.done?se(Z):Promise.resolve(Z).then(ye,fe)}function U(R){return function(){var se=this,ae=arguments;return new Promise(function(ye,fe){var ce=R.apply(se,ae);function ve(Z){l(ce,ye,fe,ve,z,"next",Z)}function z(Z){l(ce,ye,fe,ve,z,"throw",Z)}ve(void 0)})}}N.d(Me,{Z:()=>U})}},pt=>{pt(pt.s=6235)}]);